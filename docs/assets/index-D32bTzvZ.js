var JL=Object.defineProperty;var Xw=t=>{throw TypeError(t)};var eV=(t,e,n)=>e in t?JL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var M=(t,e,n)=>eV(t,typeof e!="symbol"?e+"":e,n),bp=(t,e,n)=>e.has(t)||Xw("Cannot "+n);var $=(t,e,n)=>(bp(t,e,"read from private field"),n?n.call(t):e.get(t)),Me=(t,e,n)=>e.has(t)?Xw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(bp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ft=(t,e,n)=>(bp(t,e,"access private method"),n);var Uu=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return $(t,e,r)}});function tV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function OI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MI={exports:{}},rf={},LI={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.element"),nV=Symbol.for("react.portal"),rV=Symbol.for("react.fragment"),sV=Symbol.for("react.strict_mode"),iV=Symbol.for("react.profiler"),oV=Symbol.for("react.provider"),aV=Symbol.for("react.context"),lV=Symbol.for("react.forward_ref"),cV=Symbol.for("react.suspense"),uV=Symbol.for("react.memo"),dV=Symbol.for("react.lazy"),Zw=Symbol.iterator;function hV(t){return t===null||typeof t!="object"?null:(t=Zw&&t[Zw]||t["@@iterator"],typeof t=="function"?t:null)}var VI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jI=Object.assign,FI={};function $a(t,e,n){this.props=t,this.context=e,this.refs=FI,this.updater=n||VI}$a.prototype.isReactComponent={};$a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UI(){}UI.prototype=$a.prototype;function Ey(t,e,n){this.props=t,this.context=e,this.refs=FI,this.updater=n||VI}var Ty=Ey.prototype=new UI;Ty.constructor=Ey;jI(Ty,$a.prototype);Ty.isPureReactComponent=!0;var Yw=Array.isArray,zI=Object.prototype.hasOwnProperty,Sy={current:null},$I={key:!0,ref:!0,__self:!0,__source:!0};function BI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zI.call(e,r)&&!$I.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ru,type:t,key:i,ref:o,props:s,_owner:Sy.current}}function fV(t,e){return{$$typeof:ru,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xy(t){return typeof t=="object"&&t!==null&&t.$$typeof===ru}function pV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jw=/\/+/g;function Ip(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pV(""+t.key):e.toString(36)}function vd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ru:case nV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ip(o,0):r,Yw(s)?(n="",t!=null&&(n=t.replace(Jw,"$&/")+"/"),vd(s,e,n,"",function(u){return u})):s!=null&&(xy(s)&&(s=fV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Yw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ip(i,a);o+=vd(i,e,n,l,s)}else if(l=hV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ip(i,a++),o+=vd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zu(t,e,n){if(t==null)return t;var r=[],s=0;return vd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function mV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},_d={transition:null},gV={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:_d,ReactCurrentOwner:Sy};function HI(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:zu,forEach:function(t,e,n){zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zu(t,function(){e++}),e},toArray:function(t){return zu(t,function(e){return e})||[]},only:function(t){if(!xy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=$a;Se.Fragment=rV;Se.Profiler=iV;Se.PureComponent=Ey;Se.StrictMode=sV;Se.Suspense=cV;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gV;Se.act=HI;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Sy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zI.call(e,l)&&!$I.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ru,type:t.type,key:s,ref:i,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:aV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oV,_context:t},t.Consumer=t};Se.createElement=BI;Se.createFactory=function(t){var e=BI.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:lV,render:t}};Se.isValidElement=xy;Se.lazy=function(t){return{$$typeof:dV,_payload:{_status:-1,_result:t},_init:mV}};Se.memo=function(t,e){return{$$typeof:uV,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=_d.transition;_d.transition={};try{t()}finally{_d.transition=e}};Se.unstable_act=HI;Se.useCallback=function(t,e){return on.current.useCallback(t,e)};Se.useContext=function(t){return on.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return on.current.useDeferredValue(t)};Se.useEffect=function(t,e){return on.current.useEffect(t,e)};Se.useId=function(){return on.current.useId()};Se.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return on.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};Se.useRef=function(t){return on.current.useRef(t)};Se.useState=function(t){return on.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return on.current.useTransition()};Se.version="18.3.1";LI.exports=Se;var g=LI.exports;const Nn=OI(g),qI=tV({__proto__:null,default:Nn},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yV=g,vV=Symbol.for("react.element"),_V=Symbol.for("react.fragment"),wV=Object.prototype.hasOwnProperty,EV=yV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TV={key:!0,ref:!0,__self:!0,__source:!0};function WI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wV.call(e,r)&&!TV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vV,type:t,key:i,ref:o,props:s,_owner:EV.current}}rf.Fragment=_V;rf.jsx=WI;rf.jsxs=WI;MI.exports=rf;var m=MI.exports,GI={exports:{}},Cn={},KI={exports:{}},QI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,G){var ne=F.length;F.push(G);e:for(;0<ne;){var de=ne-1>>>1,ke=F[de];if(0<s(ke,G))F[de]=G,F[ne]=ke,ne=de;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var G=F[0],ne=F.pop();if(ne!==G){F[0]=ne;e:for(var de=0,ke=F.length,xt=ke>>>1;de<xt;){var Qe=2*(de+1)-1,ln=F[Qe],yt=Qe+1,oe=F[yt];if(0>s(ln,ne))yt<ke&&0>s(oe,ln)?(F[de]=oe,F[yt]=ne,de=yt):(F[de]=ln,F[Qe]=ne,de=Qe);else if(yt<ke&&0>s(oe,ne))F[de]=oe,F[yt]=ne,de=yt;else break e}}return G}function s(F,G){var ne=F.sortIndex-G.sortIndex;return ne!==0?ne:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,v=!1,b=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=F)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function k(F){if(_=!1,T(F),!b)if(n(l)!==null)b=!0,te(O);else{var G=n(u);G!==null&&pe(k,G.startTime-F)}}function O(F,G){b=!1,_&&(_=!1,E(x),x=-1),v=!0;var ne=p;try{for(T(G),h=n(l);h!==null&&(!(h.expirationTime>G)||F&&!N());){var de=h.callback;if(typeof de=="function"){h.callback=null,p=h.priorityLevel;var ke=de(h.expirationTime<=G);G=t.unstable_now(),typeof ke=="function"?h.callback=ke:h===n(l)&&r(l),T(G)}else r(l);h=n(l)}if(h!==null)var xt=!0;else{var Qe=n(u);Qe!==null&&pe(k,Qe.startTime-G),xt=!1}return xt}finally{h=null,p=ne,v=!1}}var L=!1,I=null,x=-1,C=5,P=-1;function N(){return!(t.unstable_now()-P<C)}function D(){if(I!==null){var F=t.unstable_now();P=F;var G=!0;try{G=I(!0,F)}finally{G?R():(L=!1,I=null)}}else L=!1}var R;if(typeof w=="function")R=function(){w(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ee=B.port2;B.port1.onmessage=D,R=function(){ee.postMessage(null)}}else R=function(){S(D,0)};function te(F){I=F,L||(L=!0,R())}function pe(F,G){x=S(function(){F(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,te(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var ne=p;p=G;try{return F()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ne=p;p=F;try{return G()}finally{p=ne}},t.unstable_scheduleCallback=function(F,G,ne){var de=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?de+ne:de):ne=de,F){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ne+ke,F={id:d++,callback:G,priorityLevel:F,startTime:ne,expirationTime:ke,sortIndex:-1},ne>de?(F.sortIndex=ne,e(u,F),n(l)===null&&F===n(u)&&(_?(E(x),x=-1):_=!0,pe(k,ne-de))):(F.sortIndex=ke,e(l,F),b||v||(b=!0,te(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var G=p;return function(){var ne=p;p=G;try{return F.apply(this,arguments)}finally{p=ne}}}})(QI);KI.exports=QI;var SV=KI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xV=g,In=SV;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XI=new Set,oc={};function co(t,e){va(t,e),va(t+"Capture",e)}function va(t,e){for(oc[t]=e,t=0;t<e.length;t++)XI.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,bV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e0={},t0={};function IV(t){return km.call(t0,t)?!0:km.call(e0,t)?!1:bV.test(t)?t0[t]=!0:(e0[t]=!0,!1)}function CV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AV(t,e,n,r){if(e===null||typeof e>"u"||CV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var by=/[\-:]([a-z])/g;function Iy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(by,Iy);Vt[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(by,Iy);Vt[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(by,Iy);Vt[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cy(t,e,n,r){var s=Vt.hasOwnProperty(e)?Vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AV(e,n,s,r)&&(n=null),r||s===null?IV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=xV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$u=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Dm=Symbol.for("react.profiler"),ZI=Symbol.for("react.provider"),YI=Symbol.for("react.context"),Py=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Mm=Symbol.for("react.suspense_list"),Ry=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),JI=Symbol.for("react.offscreen"),n0=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=n0&&t[n0]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Cp;function Dl(t){if(Cp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cp=e&&e[1]||""}return`
`+Cp+t}var Ap=!1;function Pp(t,e){if(!t||Ap)return"";Ap=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ap=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dl(t):""}function PV(t){switch(t.tag){case 5:return Dl(t.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return t=Pp(t.type,!1),t;case 11:return t=Pp(t.type.render,!1),t;case 1:return t=Pp(t.type,!0),t;default:return""}}function Lm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Do:return"Fragment";case ko:return"Portal";case Dm:return"Profiler";case Ay:return"StrictMode";case Om:return"Suspense";case Mm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YI:return(t.displayName||"Context")+".Consumer";case ZI:return(t._context.displayName||"Context")+".Provider";case Py:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ry:return e=t.displayName||null,e!==null?e:Lm(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return Lm(t(e))}catch{}}return null}function RV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lm(e);case 8:return e===Ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NV(t){var e=eC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bu(t){t._valueTracker||(t._valueTracker=NV(t))}function tC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vm(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function r0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nC(t,e){e=e.checked,e!=null&&Cy(t,"checked",e,!1)}function jm(t,e){nC(t,e);var n=ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fm(t,e.type,ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fm(t,e,n){(e!=="number"||Wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ol=Array.isArray;function Wo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ei(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Um(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Ol(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ei(n)}}function rC(t,e){var n=ei(e.value),r=ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function o0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hu,iC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ac(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kV=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){kV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function oC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function aC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=oC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var DV=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(t,e){if(e){if(DV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=null;function Ny(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qm=null,Go=null,Ko=null;function a0(t){if(t=ou(t)){if(typeof qm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=cf(e),qm(t.stateNode,t.type,e))}}function lC(t){Go?Ko?Ko.push(t):Ko=[t]:Go=t}function cC(){if(Go){var t=Go,e=Ko;if(Ko=Go=null,a0(t),e)for(t=0;t<e.length;t++)a0(e[t])}}function uC(t,e){return t(e)}function dC(){}var Rp=!1;function hC(t,e,n){if(Rp)return t(e,n);Rp=!0;try{return uC(t,e,n)}finally{Rp=!1,(Go!==null||Ko!==null)&&(dC(),cC())}}function lc(t,e){var n=t.stateNode;if(n===null)return null;var r=cf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Wm=!1;if(Yr)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){Wm=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Wm=!1}function OV(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ql=!1,Gd=null,Kd=!1,Gm=null,MV={onError:function(t){ql=!0,Gd=t}};function LV(t,e,n,r,s,i,o,a,l){ql=!1,Gd=null,OV.apply(MV,arguments)}function VV(t,e,n,r,s,i,o,a,l){if(LV.apply(this,arguments),ql){if(ql){var u=Gd;ql=!1,Gd=null}else throw Error(W(198));Kd||(Kd=!0,Gm=u)}}function uo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l0(t){if(uo(t)!==t)throw Error(W(188))}function jV(t){var e=t.alternate;if(!e){if(e=uo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return l0(s),t;if(i===r)return l0(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function pC(t){return t=jV(t),t!==null?mC(t):null}function mC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mC(t);if(e!==null)return e;t=t.sibling}return null}var gC=In.unstable_scheduleCallback,c0=In.unstable_cancelCallback,FV=In.unstable_shouldYield,UV=In.unstable_requestPaint,ut=In.unstable_now,zV=In.unstable_getCurrentPriorityLevel,ky=In.unstable_ImmediatePriority,yC=In.unstable_UserBlockingPriority,Qd=In.unstable_NormalPriority,$V=In.unstable_LowPriority,vC=In.unstable_IdlePriority,sf=null,wr=null;function BV(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(sf,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:WV,HV=Math.log,qV=Math.LN2;function WV(t){return t>>>=0,t===0?32:31-(HV(t)/qV|0)|0}var qu=64,Wu=4194304;function Ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ml(a):(i&=o,i!==0&&(r=Ml(i)))}else o=n&~s,o!==0?r=Ml(o):i!==0&&(r=Ml(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),s=1<<n,r|=t[n],e&=~s;return r}function GV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Yn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=GV(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _C(){var t=qu;return qu<<=1,!(qu&4194240)&&(qu=64),t}function Np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function QV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Yn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var je=0;function wC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EC,Oy,TC,SC,xC,Qm=!1,Gu=[],Us=null,zs=null,$s=null,cc=new Map,uc=new Map,Is=[],XV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u0(t,e){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":cc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(e.pointerId)}}function xl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ou(e),e!==null&&Oy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZV(t,e,n,r,s){switch(e){case"focusin":return Us=xl(Us,t,e,n,r,s),!0;case"dragenter":return zs=xl(zs,t,e,n,r,s),!0;case"mouseover":return $s=xl($s,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return cc.set(i,xl(cc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,uc.set(i,xl(uc.get(i)||null,t,e,n,r,s)),!0}return!1}function bC(t){var e=ki(t.target);if(e!==null){var n=uo(e);if(n!==null){if(e=n.tag,e===13){if(e=fC(n),e!==null){t.blockedOn=e,xC(t.priority,function(){TC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hm=r,n.target.dispatchEvent(r),Hm=null}else return e=ou(n),e!==null&&Oy(e),t.blockedOn=n,!1;e.shift()}return!0}function d0(t,e,n){wd(t)&&n.delete(e)}function YV(){Qm=!1,Us!==null&&wd(Us)&&(Us=null),zs!==null&&wd(zs)&&(zs=null),$s!==null&&wd($s)&&($s=null),cc.forEach(d0),uc.forEach(d0)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Qm||(Qm=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,YV)))}function dc(t){function e(s){return bl(s,t)}if(0<Gu.length){bl(Gu[0],t);for(var n=1;n<Gu.length;n++){var r=Gu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Us!==null&&bl(Us,t),zs!==null&&bl(zs,t),$s!==null&&bl($s,t),cc.forEach(e),uc.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)bC(n),n.blockedOn===null&&Is.shift()}var Qo=us.ReactCurrentBatchConfig,Zd=!0;function JV(t,e,n,r){var s=je,i=Qo.transition;Qo.transition=null;try{je=1,My(t,e,n,r)}finally{je=s,Qo.transition=i}}function e4(t,e,n,r){var s=je,i=Qo.transition;Qo.transition=null;try{je=4,My(t,e,n,r)}finally{je=s,Qo.transition=i}}function My(t,e,n,r){if(Zd){var s=Xm(t,e,n,r);if(s===null)zp(t,e,r,Yd,n),u0(t,r);else if(ZV(s,t,e,n,r))r.stopPropagation();else if(u0(t,r),e&4&&-1<XV.indexOf(t)){for(;s!==null;){var i=ou(s);if(i!==null&&EC(i),i=Xm(t,e,n,r),i===null&&zp(t,e,r,Yd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zp(t,e,r,null,n)}}var Yd=null;function Xm(t,e,n,r){if(Yd=null,t=Ny(r),t=ki(t),t!==null)if(e=uo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yd=t,null}function IC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zV()){case ky:return 1;case yC:return 4;case Qd:case $V:return 16;case vC:return 536870912;default:return 16}default:return 16}}var Vs=null,Ly=null,Ed=null;function CC(){if(Ed)return Ed;var t,e=Ly,n=e.length,r,s="value"in Vs?Vs.value:Vs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ed=s.slice(t,1<r?1-r:void 0)}function Td(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function h0(){return!1}function An(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ku:h0,this.isPropagationStopped=h0,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vy=An(Ba),iu=tt({},Ba,{view:0,detail:0}),t4=An(iu),kp,Dp,Il,of=tt({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Il&&(Il&&t.type==="mousemove"?(kp=t.screenX-Il.screenX,Dp=t.screenY-Il.screenY):Dp=kp=0,Il=t),kp)},movementY:function(t){return"movementY"in t?t.movementY:Dp}}),f0=An(of),n4=tt({},of,{dataTransfer:0}),r4=An(n4),s4=tt({},iu,{relatedTarget:0}),Op=An(s4),i4=tt({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),o4=An(i4),a4=tt({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l4=An(a4),c4=tt({},Ba,{data:0}),p0=An(c4),u4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=h4[t])?!!e[t]:!1}function jy(){return f4}var p4=tt({},iu,{key:function(t){if(t.key){var e=u4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Td(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?d4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jy,charCode:function(t){return t.type==="keypress"?Td(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Td(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m4=An(p4),g4=tt({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m0=An(g4),y4=tt({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jy}),v4=An(y4),_4=tt({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),w4=An(_4),E4=tt({},of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T4=An(E4),S4=[9,13,27,32],Fy=Yr&&"CompositionEvent"in window,Wl=null;Yr&&"documentMode"in document&&(Wl=document.documentMode);var x4=Yr&&"TextEvent"in window&&!Wl,AC=Yr&&(!Fy||Wl&&8<Wl&&11>=Wl),g0=" ",y0=!1;function PC(t,e){switch(t){case"keyup":return S4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function b4(t,e){switch(t){case"compositionend":return RC(e);case"keypress":return e.which!==32?null:(y0=!0,g0);case"textInput":return t=e.data,t===g0&&y0?null:t;default:return null}}function I4(t,e){if(Oo)return t==="compositionend"||!Fy&&PC(t,e)?(t=CC(),Ed=Ly=Vs=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AC&&e.locale!=="ko"?null:e.data;default:return null}}var C4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!C4[t.type]:e==="textarea"}function NC(t,e,n,r){lC(r),e=Jd(e,"onChange"),0<e.length&&(n=new Vy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gl=null,hc=null;function A4(t){$C(t,0)}function af(t){var e=Vo(t);if(tC(e))return t}function P4(t,e){if(t==="change")return e}var kC=!1;if(Yr){var Mp;if(Yr){var Lp="oninput"in document;if(!Lp){var _0=document.createElement("div");_0.setAttribute("oninput","return;"),Lp=typeof _0.oninput=="function"}Mp=Lp}else Mp=!1;kC=Mp&&(!document.documentMode||9<document.documentMode)}function w0(){Gl&&(Gl.detachEvent("onpropertychange",DC),hc=Gl=null)}function DC(t){if(t.propertyName==="value"&&af(hc)){var e=[];NC(e,hc,t,Ny(t)),hC(A4,e)}}function R4(t,e,n){t==="focusin"?(w0(),Gl=e,hc=n,Gl.attachEvent("onpropertychange",DC)):t==="focusout"&&w0()}function N4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return af(hc)}function k4(t,e){if(t==="click")return af(e)}function D4(t,e){if(t==="input"||t==="change")return af(e)}function O4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:O4;function fc(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!km.call(e,s)||!tr(t[s],e[s]))return!1}return!0}function E0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T0(t,e){var n=E0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E0(n)}}function OC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MC(){for(var t=window,e=Wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wd(t.document)}return e}function Uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M4(t){var e=MC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OC(n.ownerDocument.documentElement,n)){if(r!==null&&Uy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=T0(n,i);var o=T0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L4=Yr&&"documentMode"in document&&11>=document.documentMode,Mo=null,Zm=null,Kl=null,Ym=!1;function S0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ym||Mo==null||Mo!==Wd(r)||(r=Mo,"selectionStart"in r&&Uy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kl&&fc(Kl,r)||(Kl=r,r=Jd(Zm,"onSelect"),0<r.length&&(e=new Vy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mo)))}function Qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lo={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Vp={},LC={};Yr&&(LC=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function lf(t){if(Vp[t])return Vp[t];if(!Lo[t])return t;var e=Lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LC)return Vp[t]=e[n];return t}var VC=lf("animationend"),jC=lf("animationiteration"),FC=lf("animationstart"),UC=lf("transitionend"),zC=new Map,x0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){zC.set(t,e),co(e,[t])}for(var jp=0;jp<x0.length;jp++){var Fp=x0[jp],V4=Fp.toLowerCase(),j4=Fp[0].toUpperCase()+Fp.slice(1);gi(V4,"on"+j4)}gi(VC,"onAnimationEnd");gi(jC,"onAnimationIteration");gi(FC,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(UC,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function b0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VV(r,e,void 0,t),t.currentTarget=null}function $C(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;b0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;b0(s,a,u),i=l}}}if(Kd)throw t=Gm,Kd=!1,Gm=null,t}function We(t,e){var n=e[rg];n===void 0&&(n=e[rg]=new Set);var r=t+"__bubble";n.has(r)||(BC(e,t,2,!1),n.add(r))}function Up(t,e,n){var r=0;e&&(r|=4),BC(n,t,r,e)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function pc(t){if(!t[Xu]){t[Xu]=!0,XI.forEach(function(n){n!=="selectionchange"&&(F4.has(n)||Up(n,!1,t),Up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xu]||(e[Xu]=!0,Up("selectionchange",!1,e))}}function BC(t,e,n,r){switch(IC(e)){case 1:var s=JV;break;case 4:s=e4;break;default:s=My}n=s.bind(null,e,n,t),s=void 0,!Wm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}hC(function(){var u=i,d=Ny(n),h=[];e:{var p=zC.get(t);if(p!==void 0){var v=Vy,b=t;switch(t){case"keypress":if(Td(n)===0)break e;case"keydown":case"keyup":v=m4;break;case"focusin":b="focus",v=Op;break;case"focusout":b="blur",v=Op;break;case"beforeblur":case"afterblur":v=Op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=f0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=r4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=v4;break;case VC:case jC:case FC:v=o4;break;case UC:v=w4;break;case"scroll":v=t4;break;case"wheel":v=T4;break;case"copy":case"cut":case"paste":v=l4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=m0}var _=(e&4)!==0,S=!_&&t==="scroll",E=_?p!==null?p+"Capture":null:p;_=[];for(var w=u,T;w!==null;){T=w;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,E!==null&&(k=lc(w,E),k!=null&&_.push(mc(w,k,T)))),S)break;w=w.return}0<_.length&&(p=new v(p,b,null,n,d),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Hm&&(b=n.relatedTarget||n.fromElement)&&(ki(b)||b[Jr]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=u,b=b?ki(b):null,b!==null&&(S=uo(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(_=f0,k="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=m0,k="onPointerLeave",E="onPointerEnter",w="pointer"),S=v==null?p:Vo(v),T=b==null?p:Vo(b),p=new _(k,w+"leave",v,n,d),p.target=S,p.relatedTarget=T,k=null,ki(d)===u&&(_=new _(E,w+"enter",b,n,d),_.target=T,_.relatedTarget=S,k=_),S=k,v&&b)t:{for(_=v,E=b,w=0,T=_;T;T=Eo(T))w++;for(T=0,k=E;k;k=Eo(k))T++;for(;0<w-T;)_=Eo(_),w--;for(;0<T-w;)E=Eo(E),T--;for(;w--;){if(_===E||E!==null&&_===E.alternate)break t;_=Eo(_),E=Eo(E)}_=null}else _=null;v!==null&&I0(h,p,v,_,!1),b!==null&&S!==null&&I0(h,S,b,_,!0)}}e:{if(p=u?Vo(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var O=P4;else if(v0(p))if(kC)O=D4;else{O=N4;var L=R4}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=k4);if(O&&(O=O(t,u))){NC(h,O,n,d);break e}L&&L(t,p,u),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Fm(p,"number",p.value)}switch(L=u?Vo(u):window,t){case"focusin":(v0(L)||L.contentEditable==="true")&&(Mo=L,Zm=u,Kl=null);break;case"focusout":Kl=Zm=Mo=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,S0(h,n,d);break;case"selectionchange":if(L4)break;case"keydown":case"keyup":S0(h,n,d)}var I;if(Fy)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Oo?PC(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(AC&&n.locale!=="ko"&&(Oo||x!=="onCompositionStart"?x==="onCompositionEnd"&&Oo&&(I=CC()):(Vs=d,Ly="value"in Vs?Vs.value:Vs.textContent,Oo=!0)),L=Jd(u,x),0<L.length&&(x=new p0(x,t,null,n,d),h.push({event:x,listeners:L}),I?x.data=I:(I=RC(n),I!==null&&(x.data=I)))),(I=x4?b4(t,n):I4(t,n))&&(u=Jd(u,"onBeforeInput"),0<u.length&&(d=new p0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}$C(h,e)})}function mc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=lc(t,n),i!=null&&r.unshift(mc(t,i,s)),i=lc(t,e),i!=null&&r.push(mc(t,i,s))),t=t.return}return r}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=lc(n,i),l!=null&&o.unshift(mc(n,l,a))):s||(l=lc(n,i),l!=null&&o.push(mc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var U4=/\r\n?/g,z4=/\u0000|\uFFFD/g;function C0(t){return(typeof t=="string"?t:""+t).replace(U4,`
`).replace(z4,"")}function Zu(t,e,n){if(e=C0(e),C0(t)!==e&&n)throw Error(W(425))}function eh(){}var Jm=null,eg=null;function tg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ng=typeof setTimeout=="function"?setTimeout:void 0,$4=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,B4=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(t){return A0.resolve(null).then(t).catch(H4)}:ng;function H4(t){setTimeout(function(){throw t})}function $p(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dc(e)}function Bs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function P0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),yr="__reactFiber$"+Ha,gc="__reactProps$"+Ha,Jr="__reactContainer$"+Ha,rg="__reactEvents$"+Ha,q4="__reactListeners$"+Ha,W4="__reactHandles$"+Ha;function ki(t){var e=t[yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=P0(t);t!==null;){if(n=t[yr])return n;t=P0(t)}return e}t=n,n=t.parentNode}return null}function ou(t){return t=t[yr]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function cf(t){return t[gc]||null}var sg=[],jo=-1;function yi(t){return{current:t}}function Ke(t){0>jo||(t.current=sg[jo],sg[jo]=null,jo--)}function Be(t,e){jo++,sg[jo]=t.current,t.current=e}var ti={},Gt=yi(ti),fn=yi(!1),Gi=ti;function _a(t,e){var n=t.type.contextTypes;if(!n)return ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pn(t){return t=t.childContextTypes,t!=null}function th(){Ke(fn),Ke(Gt)}function R0(t,e,n){if(Gt.current!==ti)throw Error(W(168));Be(Gt,e),Be(fn,n)}function HC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,RV(t)||"Unknown",s));return tt({},n,r)}function nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ti,Gi=Gt.current,Be(Gt,t),Be(fn,fn.current),!0}function N0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=HC(t,e,Gi),r.__reactInternalMemoizedMergedChildContext=t,Ke(fn),Ke(Gt),Be(Gt,t)):Ke(fn),Be(fn,n)}var qr=null,uf=!1,Bp=!1;function qC(t){qr===null?qr=[t]:qr.push(t)}function G4(t){uf=!0,qC(t)}function vi(){if(!Bp&&qr!==null){Bp=!0;var t=0,e=je;try{var n=qr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,uf=!1}catch(s){throw qr!==null&&(qr=qr.slice(t+1)),gC(ky,vi),s}finally{je=e,Bp=!1}}return null}var Fo=[],Uo=0,rh=null,sh=0,kn=[],Dn=0,Ki=null,Gr=1,Kr="";function Ai(t,e){Fo[Uo++]=sh,Fo[Uo++]=rh,rh=t,sh=e}function WC(t,e,n){kn[Dn++]=Gr,kn[Dn++]=Kr,kn[Dn++]=Ki,Ki=t;var r=Gr;t=Kr;var s=32-Yn(r)-1;r&=~(1<<s),n+=1;var i=32-Yn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gr=1<<32-Yn(e)+s|n<<s|r,Kr=i+t}else Gr=1<<i|n<<s|r,Kr=t}function zy(t){t.return!==null&&(Ai(t,1),WC(t,1,0))}function $y(t){for(;t===rh;)rh=Fo[--Uo],Fo[Uo]=null,sh=Fo[--Uo],Fo[Uo]=null;for(;t===Ki;)Ki=kn[--Dn],kn[Dn]=null,Kr=kn[--Dn],kn[Dn]=null,Gr=kn[--Dn],kn[Dn]=null}var Sn=null,Tn=null,Xe=!1,Gn=null;function GC(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function k0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,Tn=Bs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ki!==null?{id:Gr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,Tn=null,!0):!1;default:return!1}}function ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function og(t){if(Xe){var e=Tn;if(e){var n=e;if(!k0(t,e)){if(ig(t))throw Error(W(418));e=Bs(n.nextSibling);var r=Sn;e&&k0(t,e)?GC(r,n):(t.flags=t.flags&-4097|2,Xe=!1,Sn=t)}}else{if(ig(t))throw Error(W(418));t.flags=t.flags&-4097|2,Xe=!1,Sn=t}}}function D0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Yu(t){if(t!==Sn)return!1;if(!Xe)return D0(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tg(t.type,t.memoizedProps)),e&&(e=Tn)){if(ig(t))throw KC(),Error(W(418));for(;e;)GC(t,e),e=Bs(e.nextSibling)}if(D0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=Bs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=Sn?Bs(t.stateNode.nextSibling):null;return!0}function KC(){for(var t=Tn;t;)t=Bs(t.nextSibling)}function wa(){Tn=Sn=null,Xe=!1}function By(t){Gn===null?Gn=[t]:Gn.push(t)}var K4=us.ReactCurrentBatchConfig;function Cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ju(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function O0(t){var e=t._init;return e(t._payload)}function QC(t){function e(E,w){if(t){var T=E.deletions;T===null?(E.deletions=[w],E.flags|=16):T.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=Gs(E,w),E.index=0,E.sibling=null,E}function i(E,w,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<w?(E.flags|=2,w):T):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,T,k){return w===null||w.tag!==6?(w=Xp(T,E.mode,k),w.return=E,w):(w=s(w,T),w.return=E,w)}function l(E,w,T,k){var O=T.type;return O===Do?d(E,w,T.props.children,k,T.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xs&&O0(O)===w.type)?(k=s(w,T.props),k.ref=Cl(E,w,T),k.return=E,k):(k=Pd(T.type,T.key,T.props,null,E.mode,k),k.ref=Cl(E,w,T),k.return=E,k)}function u(E,w,T,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Zp(T,E.mode,k),w.return=E,w):(w=s(w,T.children||[]),w.return=E,w)}function d(E,w,T,k,O){return w===null||w.tag!==7?(w=zi(T,E.mode,k,O),w.return=E,w):(w=s(w,T),w.return=E,w)}function h(E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Xp(""+w,E.mode,T),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $u:return T=Pd(w.type,w.key,w.props,null,E.mode,T),T.ref=Cl(E,null,w),T.return=E,T;case ko:return w=Zp(w,E.mode,T),w.return=E,w;case xs:var k=w._init;return h(E,k(w._payload),T)}if(Ol(w)||Tl(w))return w=zi(w,E.mode,T,null),w.return=E,w;Ju(E,w)}return null}function p(E,w,T,k){var O=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(E,w,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $u:return T.key===O?l(E,w,T,k):null;case ko:return T.key===O?u(E,w,T,k):null;case xs:return O=T._init,p(E,w,O(T._payload),k)}if(Ol(T)||Tl(T))return O!==null?null:d(E,w,T,k,null);Ju(E,T)}return null}function v(E,w,T,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(T)||null,a(w,E,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $u:return E=E.get(k.key===null?T:k.key)||null,l(w,E,k,O);case ko:return E=E.get(k.key===null?T:k.key)||null,u(w,E,k,O);case xs:var L=k._init;return v(E,w,T,L(k._payload),O)}if(Ol(k)||Tl(k))return E=E.get(T)||null,d(w,E,k,O,null);Ju(w,k)}return null}function b(E,w,T,k){for(var O=null,L=null,I=w,x=w=0,C=null;I!==null&&x<T.length;x++){I.index>x?(C=I,I=null):C=I.sibling;var P=p(E,I,T[x],k);if(P===null){I===null&&(I=C);break}t&&I&&P.alternate===null&&e(E,I),w=i(P,w,x),L===null?O=P:L.sibling=P,L=P,I=C}if(x===T.length)return n(E,I),Xe&&Ai(E,x),O;if(I===null){for(;x<T.length;x++)I=h(E,T[x],k),I!==null&&(w=i(I,w,x),L===null?O=I:L.sibling=I,L=I);return Xe&&Ai(E,x),O}for(I=r(E,I);x<T.length;x++)C=v(I,E,x,T[x],k),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?x:C.key),w=i(C,w,x),L===null?O=C:L.sibling=C,L=C);return t&&I.forEach(function(N){return e(E,N)}),Xe&&Ai(E,x),O}function _(E,w,T,k){var O=Tl(T);if(typeof O!="function")throw Error(W(150));if(T=O.call(T),T==null)throw Error(W(151));for(var L=O=null,I=w,x=w=0,C=null,P=T.next();I!==null&&!P.done;x++,P=T.next()){I.index>x?(C=I,I=null):C=I.sibling;var N=p(E,I,P.value,k);if(N===null){I===null&&(I=C);break}t&&I&&N.alternate===null&&e(E,I),w=i(N,w,x),L===null?O=N:L.sibling=N,L=N,I=C}if(P.done)return n(E,I),Xe&&Ai(E,x),O;if(I===null){for(;!P.done;x++,P=T.next())P=h(E,P.value,k),P!==null&&(w=i(P,w,x),L===null?O=P:L.sibling=P,L=P);return Xe&&Ai(E,x),O}for(I=r(E,I);!P.done;x++,P=T.next())P=v(I,E,x,P.value,k),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?x:P.key),w=i(P,w,x),L===null?O=P:L.sibling=P,L=P);return t&&I.forEach(function(D){return e(E,D)}),Xe&&Ai(E,x),O}function S(E,w,T,k){if(typeof T=="object"&&T!==null&&T.type===Do&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case $u:e:{for(var O=T.key,L=w;L!==null;){if(L.key===O){if(O=T.type,O===Do){if(L.tag===7){n(E,L.sibling),w=s(L,T.props.children),w.return=E,E=w;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xs&&O0(O)===L.type){n(E,L.sibling),w=s(L,T.props),w.ref=Cl(E,L,T),w.return=E,E=w;break e}n(E,L);break}else e(E,L);L=L.sibling}T.type===Do?(w=zi(T.props.children,E.mode,k,T.key),w.return=E,E=w):(k=Pd(T.type,T.key,T.props,null,E.mode,k),k.ref=Cl(E,w,T),k.return=E,E=k)}return o(E);case ko:e:{for(L=T.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(E,w.sibling),w=s(w,T.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Zp(T,E.mode,k),w.return=E,E=w}return o(E);case xs:return L=T._init,S(E,w,L(T._payload),k)}if(Ol(T))return b(E,w,T,k);if(Tl(T))return _(E,w,T,k);Ju(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,T),w.return=E,E=w):(n(E,w),w=Xp(T,E.mode,k),w.return=E,E=w),o(E)):n(E,w)}return S}var Ea=QC(!0),XC=QC(!1),ih=yi(null),oh=null,zo=null,Hy=null;function qy(){Hy=zo=oh=null}function Wy(t){var e=ih.current;Ke(ih),t._currentValue=e}function ag(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xo(t,e){oh=t,Hy=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(Hy!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(oh===null)throw Error(W(308));zo=t,oh.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Di=null;function Gy(t){Di===null?Di=[t]:Di.push(t)}function ZC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gy(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bs=!1;function Ky(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,Gy(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function Sd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dy(t,n)}}function M0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ah(t,e,n,r){var s=t.updateQueue;bs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,_=a;switch(p=e,v=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){h=b.call(v,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,p=typeof b=="function"?b.call(v,h,p):b,p==null)break e;h=tt({},h,p);break e;case 2:bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xi|=o,t.lanes=o,t.memoizedState=h}}function L0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var au={},Er=yi(au),yc=yi(au),vc=yi(au);function Oi(t){if(t===au)throw Error(W(174));return t}function Qy(t,e){switch(Be(vc,e),Be(yc,t),Be(Er,au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zm(e,t)}Ke(Er),Be(Er,e)}function Ta(){Ke(Er),Ke(yc),Ke(vc)}function JC(t){Oi(vc.current);var e=Oi(Er.current),n=zm(e,t.type);e!==n&&(Be(yc,t),Be(Er,n))}function Xy(t){yc.current===t&&(Ke(Er),Ke(yc))}var Je=yi(0);function lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function Zy(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var xd=us.ReactCurrentDispatcher,qp=us.ReactCurrentBatchConfig,Qi=0,et=null,wt=null,At=null,ch=!1,Ql=!1,_c=0,Q4=0;function Ut(){throw Error(W(321))}function Yy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Jy(t,e,n,r,s,i){if(Qi=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xd.current=t===null||t.memoizedState===null?J4:ej,t=n(r,s),Ql){i=0;do{if(Ql=!1,_c=0,25<=i)throw Error(W(301));i+=1,At=wt=null,e.updateQueue=null,xd.current=tj,t=n(r,s)}while(Ql)}if(xd.current=uh,e=wt!==null&&wt.next!==null,Qi=0,At=wt=et=null,ch=!1,e)throw Error(W(300));return t}function ev(){var t=_c!==0;return _c=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?et.memoizedState=At=t:At=At.next=t,At}function Fn(){if(wt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=At===null?et.memoizedState:At.next;if(e!==null)At=e,wt=t;else{if(t===null)throw Error(W(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?et.memoizedState=At=t:At=At.next=t}return At}function wc(t,e){return typeof e=="function"?e(t):e}function Wp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Qi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,et.lanes|=d,Xi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,Xi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);tr(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function eA(){}function tA(t,e){var n=et,r=Fn(),s=e(),i=!tr(r.memoizedState,s);if(i&&(r.memoizedState=s,hn=!0),r=r.queue,tv(sA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Ec(9,rA.bind(null,n,r,s,e),void 0,null),Pt===null)throw Error(W(349));Qi&30||nA(n,e,s)}return s}function nA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rA(t,e,n,r){e.value=n,e.getSnapshot=r,iA(e)&&oA(t)}function sA(t,e,n){return n(function(){iA(e)&&oA(t)})}function iA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function oA(t){var e=es(t,1);e!==null&&Jn(e,t,1,-1)}function V0(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:t},e.queue=t,t=t.dispatch=Y4.bind(null,et,t),[e.memoizedState,t]}function Ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aA(){return Fn().memoizedState}function bd(t,e,n,r){var s=hr();et.flags|=t,s.memoizedState=Ec(1|e,n,void 0,r===void 0?null:r)}function df(t,e,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&Yy(r,o.deps)){s.memoizedState=Ec(e,n,i,r);return}}et.flags|=t,s.memoizedState=Ec(1|e,n,i,r)}function j0(t,e){return bd(8390656,8,t,e)}function tv(t,e){return df(2048,8,t,e)}function lA(t,e){return df(4,2,t,e)}function cA(t,e){return df(4,4,t,e)}function uA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dA(t,e,n){return n=n!=null?n.concat([t]):null,df(4,4,uA.bind(null,e,t),n)}function nv(){}function hA(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fA(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pA(t,e,n){return Qi&21?(tr(n,e)||(n=_C(),et.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function X4(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{je=n,qp.transition=r}}function mA(){return Fn().memoizedState}function Z4(t,e,n){var r=Ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gA(t))yA(e,n);else if(n=ZC(t,e,n,r),n!==null){var s=nn();Jn(n,t,r,s),vA(n,e,r)}}function Y4(t,e,n){var r=Ws(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gA(t))yA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(s.next=s,Gy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=ZC(t,e,s,r),n!==null&&(s=nn(),Jn(n,t,r,s),vA(n,e,r))}}function gA(t){var e=t.alternate;return t===et||e!==null&&e===et}function yA(t,e){Ql=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dy(t,n)}}var uh={readContext:jn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},J4={readContext:jn,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:j0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bd(4194308,4,uA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return bd(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Z4.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:V0,useDebugValue:nv,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=V0(!1),e=t[0];return t=X4.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,s=hr();if(Xe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Pt===null)throw Error(W(349));Qi&30||nA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,j0(sA.bind(null,r,i,t),[t]),r.flags|=2048,Ec(9,rA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=hr(),e=Pt.identifierPrefix;if(Xe){var n=Kr,r=Gr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Q4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ej={readContext:jn,useCallback:hA,useContext:jn,useEffect:tv,useImperativeHandle:dA,useInsertionEffect:lA,useLayoutEffect:cA,useMemo:fA,useReducer:Wp,useRef:aA,useState:function(){return Wp(wc)},useDebugValue:nv,useDeferredValue:function(t){var e=Fn();return pA(e,wt.memoizedState,t)},useTransition:function(){var t=Wp(wc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:eA,useSyncExternalStore:tA,useId:mA,unstable_isNewReconciler:!1},tj={readContext:jn,useCallback:hA,useContext:jn,useEffect:tv,useImperativeHandle:dA,useInsertionEffect:lA,useLayoutEffect:cA,useMemo:fA,useReducer:Gp,useRef:aA,useState:function(){return Gp(wc)},useDebugValue:nv,useDeferredValue:function(t){var e=Fn();return wt===null?e.memoizedState=t:pA(e,wt.memoizedState,t)},useTransition:function(){var t=Gp(wc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:eA,useSyncExternalStore:tA,useId:mA,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hf={isMounted:function(t){return(t=t._reactInternals)?uo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),s=Ws(t),i=Zr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Hs(t,i,s),e!==null&&(Jn(e,t,s,r),Sd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),s=Ws(t),i=Zr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hs(t,i,s),e!==null&&(Jn(e,t,s,r),Sd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=Ws(t),s=Zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hs(t,s,r),e!==null&&(Jn(e,t,r,n),Sd(e,t,r))}};function F0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fc(n,r)||!fc(s,i):!0}function _A(t,e,n){var r=!1,s=ti,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=pn(e)?Gi:Gt.current,r=e.contextTypes,i=(r=r!=null)?_a(t,s):ti),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function U0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hf.enqueueReplaceState(e,e.state,null)}function cg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ky(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=pn(e)?Gi:Gt.current,s.context=_a(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(lg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hf.enqueueReplaceState(s,s.state,null),ah(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Sa(t,e){try{var n="",r=e;do n+=PV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nj=typeof WeakMap=="function"?WeakMap:Map;function wA(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hh||(hh=!0,wg=r),ug(t,e)},n}function EA(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ug(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ug(t,e),typeof r!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function z0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=gj.bind(null,t,e,n),e.then(t,t))}function $0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,Hs(n,e,1))),n.lanes|=1),t)}var rj=us.ReactCurrentOwner,hn=!1;function Jt(t,e,n,r){e.child=t===null?XC(e,null,n,r):Ea(e,t.child,n,r)}function H0(t,e,n,r,s){n=n.render;var i=e.ref;return Xo(e,s),r=Jy(t,e,n,r,i,s),n=ev(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Xe&&n&&zy(e),e.flags|=1,Jt(t,e,r,s),e.child)}function q0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!uv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,TA(t,e,i,r,s)):(t=Pd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fc,n(o,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=Gs(i,r),t.ref=e.ref,t.return=e,e.child=t}function TA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fc(i,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,ts(t,e,s)}return dg(t,e,n,r,s)}function SA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Bo,wn),wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Bo,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(Bo,wn),wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(Bo,wn),wn|=r;return Jt(t,e,s,n),e.child}function xA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dg(t,e,n,r,s){var i=pn(n)?Gi:Gt.current;return i=_a(e,i),Xo(e,s),n=Jy(t,e,n,r,i,s),r=ev(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Xe&&r&&zy(e),e.flags|=1,Jt(t,e,n,s),e.child)}function W0(t,e,n,r,s){if(pn(n)){var i=!0;nh(e)}else i=!1;if(Xo(e,s),e.stateNode===null)Id(t,e),_A(e,n,r),cg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=pn(n)?Gi:Gt.current,u=_a(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&U0(e,o,r,u),bs=!1;var p=e.memoizedState;o.state=p,ah(e,r,o,s),l=e.memoizedState,a!==r||p!==l||fn.current||bs?(typeof d=="function"&&(lg(e,n,d,r),l=e.memoizedState),(a=bs||F0(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=pn(n)?Gi:Gt.current,l=_a(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&U0(e,o,r,l),bs=!1,p=e.memoizedState,o.state=p,ah(e,r,o,s);var b=e.memoizedState;a!==h||p!==b||fn.current||bs?(typeof v=="function"&&(lg(e,n,v,r),b=e.memoizedState),(u=bs||F0(e,n,u,r,p,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return hg(t,e,n,r,i,s)}function hg(t,e,n,r,s,i){xA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&N0(e,n,!1),ts(t,e,i);r=e.stateNode,rj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ea(e,t.child,null,i),e.child=Ea(e,null,a,i)):Jt(t,e,a,i),e.memoizedState=r.state,s&&N0(e,n,!0),e.child}function bA(t){var e=t.stateNode;e.pendingContext?R0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R0(t,e.context,!1),Qy(t,e.containerInfo)}function G0(t,e,n,r,s){return wa(),By(s),e.flags|=256,Jt(t,e,n,r),e.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function pg(t){return{baseLanes:t,cachePool:null,transitions:null}}function IA(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Je,s&1),t===null)return og(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mf(o,r,0,null),t=zi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pg(n),e.memoizedState=fg,t):rv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return sj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gs(a,i):(i=zi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=fg,r}return i=t.child,t=i.sibling,r=Gs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rv(t,e){return e=mf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ed(t,e,n,r){return r!==null&&By(r),Ea(e,t.child,null,n),t=rv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kp(Error(W(422))),ed(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=mf({mode:"visible",children:r.children},s,0,null),i=zi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ea(e,t.child,null,o),e.child.memoizedState=pg(o),e.memoizedState=fg,i);if(!(e.mode&1))return ed(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Kp(i,r,void 0),ed(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=Pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,es(t,s),Jn(r,t,s,-1))}return cv(),r=Kp(Error(W(421))),ed(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Tn=Bs(s.nextSibling),Sn=e,Xe=!0,Gn=null,t!==null&&(kn[Dn++]=Gr,kn[Dn++]=Kr,kn[Dn++]=Ki,Gr=t.id,Kr=t.overflow,Ki=e),e=rv(e,r.children),e.flags|=4096,e)}function K0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ag(t.return,e,n)}function Qp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function CA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K0(t,n,e);else if(t.tag===19)K0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qp(e,!0,n,null,i);break;case"together":Qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Gs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ij(t,e,n){switch(e.tag){case 3:bA(e),wa();break;case 5:JC(e);break;case 1:pn(e.type)&&nh(e);break;case 4:Qy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(ih,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?IA(t,e,n):(Be(Je,Je.current&1),t=ts(t,e,n),t!==null?t.sibling:null);Be(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,SA(t,e,n)}return ts(t,e,n)}var AA,mg,PA,RA;AA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mg=function(){};PA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Oi(Er.current);var i=null;switch(n){case"input":s=Vm(t,s),r=Vm(t,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=Um(t,s),r=Um(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eh)}$m(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};RA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Al(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oj(t,e,n){var r=e.pendingProps;switch($y(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return pn(e.type)&&th(),zt(e),null;case 3:return r=e.stateNode,Ta(),Ke(fn),Ke(Gt),Zy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(Sg(Gn),Gn=null))),mg(t,e),zt(e),null;case 5:Xy(e);var s=Oi(vc.current);if(n=e.type,t!==null&&e.stateNode!=null)PA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return zt(e),null}if(t=Oi(Er.current),Yu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[yr]=e,r[gc]=i,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(s=0;s<Ll.length;s++)We(Ll[s],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":r0(r,i),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},We("invalid",r);break;case"textarea":i0(r,i),We("invalid",r)}$m(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),s=["children",""+a]):oc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":Bu(r),s0(r,i,!0);break;case"textarea":Bu(r),o0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=eh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yr]=e,t[gc]=r,AA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bm(n,r),n){case"dialog":We("cancel",t),We("close",t),s=r;break;case"iframe":case"object":case"embed":We("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ll.length;s++)We(Ll[s],t);s=r;break;case"source":We("error",t),s=r;break;case"img":case"image":case"link":We("error",t),We("load",t),s=r;break;case"details":We("toggle",t),s=r;break;case"input":r0(t,r),s=Vm(t,r),We("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),We("invalid",t);break;case"textarea":i0(t,r),s=Um(t,r),We("invalid",t);break;default:s=r}$m(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?aC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ac(t,l):typeof l=="number"&&ac(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&We("scroll",t):l!=null&&Cy(t,i,l,o))}switch(n){case"input":Bu(t),s0(t,r,!1);break;case"textarea":Bu(t),o0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ei(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Wo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Wo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=eh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)RA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Oi(vc.current),Oi(Er.current),Yu(e)){if(r=e.stateNode,n=e.memoizedProps,r[yr]=e,(i=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:Zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yr]=e,e.stateNode=r}return zt(e),null;case 13:if(Ke(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Tn!==null&&e.mode&1&&!(e.flags&128))KC(),wa(),e.flags|=98560,i=!1;else if(i=Yu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[yr]=e}else wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else Gn!==null&&(Sg(Gn),Gn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?Et===0&&(Et=3):cv())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Ta(),mg(t,e),t===null&&pc(e.stateNode.containerInfo),zt(e),null;case 10:return Wy(e.type._context),zt(e),null;case 17:return pn(e.type)&&th(),zt(e),null;case 19:if(Ke(Je),i=e.memoizedState,i===null)return zt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Al(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lh(t),o!==null){for(e.flags|=128,Al(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&ut()>xa&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304)}else{if(!r)if(t=lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return zt(e),null}else 2*ut()-i.renderingStartTime>xa&&n!==1073741824&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=Je.current,Be(Je,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return lv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function aj(t,e){switch($y(e),e.tag){case 1:return pn(e.type)&&th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ta(),Ke(fn),Ke(Gt),Zy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xy(e),null;case 13:if(Ke(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Je),null;case 4:return Ta(),null;case 10:return Wy(e.type._context),null;case 22:case 23:return lv(),null;case 24:return null;default:return null}}var td=!1,qt=!1,lj=typeof WeakSet=="function"?WeakSet:Set,J=null;function $o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function gg(t,e,n){try{n()}catch(r){it(t,e,r)}}var Q0=!1;function cj(t,e){if(Jm=Zd,t=MC(),Uy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eg={focusedElem:t,selectionRange:n},Zd=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,S=b.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?_:Bn(e.type,_),S);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){it(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return b=Q0,Q0=!1,b}function Xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gg(e,n,i)}s=s.next}while(s!==r)}}function ff(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NA(t){var e=t.alternate;e!==null&&(t.alternate=null,NA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[gc],delete e[rg],delete e[q4],delete e[W4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kA(t){return t.tag===5||t.tag===3||t.tag===4}function X0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eh));else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}function _g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_g(t,e,n),t=t.sibling;t!==null;)_g(t,e,n),t=t.sibling}var kt=null,Wn=!1;function vs(t,e,n){for(n=n.child;n!==null;)DA(t,e,n),n=n.sibling}function DA(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 5:qt||$o(n,e);case 6:var r=kt,s=Wn;kt=null,vs(t,e,n),kt=r,Wn=s,kt!==null&&(Wn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Wn?(t=kt,n=n.stateNode,t.nodeType===8?$p(t.parentNode,n):t.nodeType===1&&$p(t,n),dc(t)):$p(kt,n.stateNode));break;case 4:r=kt,s=Wn,kt=n.stateNode.containerInfo,Wn=!0,vs(t,e,n),kt=r,Wn=s;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gg(n,e,o),s=s.next}while(s!==r)}vs(t,e,n);break;case 1:if(!qt&&($o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}vs(t,e,n);break;case 21:vs(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,vs(t,e,n),qt=r):vs(t,e,n);break;default:vs(t,e,n)}}function Z0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lj),e.forEach(function(r){var s=vj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,Wn=!1;break e;case 3:kt=a.stateNode.containerInfo,Wn=!0;break e;case 4:kt=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(kt===null)throw Error(W(160));DA(i,o,s),kt=null,Wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){it(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OA(e,t),e=e.sibling}function OA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),dr(t),r&4){try{Xl(3,t,t.return),ff(3,t)}catch(_){it(t,t.return,_)}try{Xl(5,t,t.return)}catch(_){it(t,t.return,_)}}break;case 1:zn(e,t),dr(t),r&512&&n!==null&&$o(n,n.return);break;case 5:if(zn(e,t),dr(t),r&512&&n!==null&&$o(n,n.return),t.flags&32){var s=t.stateNode;try{ac(s,"")}catch(_){it(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&nC(s,i),Bm(a,o);var u=Bm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?aC(s,h):d==="dangerouslySetInnerHTML"?iC(s,h):d==="children"?ac(s,h):Cy(s,d,h,u)}switch(a){case"input":jm(s,i);break;case"textarea":rC(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Wo(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Wo(s,!!i.multiple,i.defaultValue,!0):Wo(s,!!i.multiple,i.multiple?[]:"",!1))}s[gc]=i}catch(_){it(t,t.return,_)}}break;case 6:if(zn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){it(t,t.return,_)}}break;case 3:if(zn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dc(e.containerInfo)}catch(_){it(t,t.return,_)}break;case 4:zn(e,t),dr(t);break;case 13:zn(e,t),dr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ov=ut())),r&4&&Z0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(u=qt)||d,zn(e,t),qt=u):zn(e,t),dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(h=J=d;J!==null;){switch(p=J,v=p.child,p.tag){case 0:case 11:case 14:case 15:Xl(4,p,p.return);break;case 1:$o(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){it(r,n,_)}}break;case 5:$o(p,p.return);break;case 22:if(p.memoizedState!==null){J0(h);continue}}v!==null?(v.return=p,J=v):J0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oC("display",o))}catch(_){it(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){it(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zn(e,t),dr(t),r&4&&Z0(t);break;case 21:break;default:zn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kA(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ac(s,""),r.flags&=-33);var i=X0(t);_g(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=X0(t);vg(t,a,o);break;default:throw Error(W(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uj(t,e,n){J=t,MA(t)}function MA(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||td;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||qt;a=td;var u=qt;if(td=o,(qt=l)&&!u)for(J=s;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?eE(s):l!==null?(l.return=o,J=l):eE(s);for(;i!==null;)J=i,MA(i),i=i.sibling;J=s,td=a,qt=u}Y0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):Y0(t)}}function Y0(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||ff(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&L0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}L0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}qt||e.flags&512&&yg(e)}catch(p){it(e,e.return,p)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function J0(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function eE(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ff(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){it(e,s,l)}}var i=e.return;try{yg(e)}catch(l){it(e,i,l)}break;case 5:var o=e.return;try{yg(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var dj=Math.ceil,dh=us.ReactCurrentDispatcher,sv=us.ReactCurrentOwner,Vn=us.ReactCurrentBatchConfig,Ne=0,Pt=null,ht=null,Lt=0,wn=0,Bo=yi(0),Et=0,Tc=null,Xi=0,pf=0,iv=0,Zl=null,un=null,ov=0,xa=1/0,Hr=null,hh=!1,wg=null,qs=null,nd=!1,js=null,fh=0,Yl=0,Eg=null,Cd=-1,Ad=0;function nn(){return Ne&6?ut():Cd!==-1?Cd:Cd=ut()}function Ws(t){return t.mode&1?Ne&2&&Lt!==0?Lt&-Lt:K4.transition!==null?(Ad===0&&(Ad=_C()),Ad):(t=je,t!==0||(t=window.event,t=t===void 0?16:IC(t.type)),t):1}function Jn(t,e,n,r){if(50<Yl)throw Yl=0,Eg=null,Error(W(185));su(t,n,r),(!(Ne&2)||t!==Pt)&&(t===Pt&&(!(Ne&2)&&(pf|=n),Et===4&&Cs(t,Lt)),mn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(xa=ut()+500,uf&&vi()))}function mn(t,e){var n=t.callbackNode;KV(t,e);var r=Xd(t,t===Pt?Lt:0);if(r===0)n!==null&&c0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&c0(n),e===1)t.tag===0?G4(tE.bind(null,t)):qC(tE.bind(null,t)),B4(function(){!(Ne&6)&&vi()}),n=null;else{switch(wC(r)){case 1:n=ky;break;case 4:n=yC;break;case 16:n=Qd;break;case 536870912:n=vC;break;default:n=Qd}n=BA(n,LA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LA(t,e){if(Cd=-1,Ad=0,Ne&6)throw Error(W(327));var n=t.callbackNode;if(Zo()&&t.callbackNode!==n)return null;var r=Xd(t,t===Pt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ph(t,r);else{e=r;var s=Ne;Ne|=2;var i=jA();(Pt!==t||Lt!==e)&&(Hr=null,xa=ut()+500,Ui(t,e));do try{pj();break}catch(a){VA(t,a)}while(!0);qy(),dh.current=i,Ne=s,ht!==null?e=0:(Pt=null,Lt=0,e=Et)}if(e!==0){if(e===2&&(s=Km(t),s!==0&&(r=s,e=Tg(t,s))),e===1)throw n=Tc,Ui(t,0),Cs(t,r),mn(t,ut()),n;if(e===6)Cs(t,r);else{if(s=t.current.alternate,!(r&30)&&!hj(s)&&(e=ph(t,r),e===2&&(i=Km(t),i!==0&&(r=i,e=Tg(t,i))),e===1))throw n=Tc,Ui(t,0),Cs(t,r),mn(t,ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Pi(t,un,Hr);break;case 3:if(Cs(t,r),(r&130023424)===r&&(e=ov+500-ut(),10<e)){if(Xd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ng(Pi.bind(null,t,un,Hr),e);break}Pi(t,un,Hr);break;case 4:if(Cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Yn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dj(r/1960))-r,10<r){t.timeoutHandle=ng(Pi.bind(null,t,un,Hr),r);break}Pi(t,un,Hr);break;case 5:Pi(t,un,Hr);break;default:throw Error(W(329))}}}return mn(t,ut()),t.callbackNode===n?LA.bind(null,t):null}function Tg(t,e){var n=Zl;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=ph(t,e),t!==2&&(e=un,un=n,e!==null&&Sg(e)),t}function Sg(t){un===null?un=t:un.push.apply(un,t)}function hj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!tr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~iv,e&=~pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function tE(t){if(Ne&6)throw Error(W(327));Zo();var e=Xd(t,0);if(!(e&1))return mn(t,ut()),null;var n=ph(t,e);if(t.tag!==0&&n===2){var r=Km(t);r!==0&&(e=r,n=Tg(t,r))}if(n===1)throw n=Tc,Ui(t,0),Cs(t,e),mn(t,ut()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pi(t,un,Hr),mn(t,ut()),null}function av(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(xa=ut()+500,uf&&vi())}}function Zi(t){js!==null&&js.tag===0&&!(Ne&6)&&Zo();var e=Ne;Ne|=1;var n=Vn.transition,r=je;try{if(Vn.transition=null,je=1,t)return t()}finally{je=r,Vn.transition=n,Ne=e,!(Ne&6)&&vi()}}function lv(){wn=Bo.current,Ke(Bo)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$4(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch($y(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&th();break;case 3:Ta(),Ke(fn),Ke(Gt),Zy();break;case 5:Xy(r);break;case 4:Ta();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:Wy(r.type._context);break;case 22:case 23:lv()}n=n.return}if(Pt=t,ht=t=Gs(t.current,null),Lt=wn=e,Et=0,Tc=null,iv=pf=Xi=0,un=Zl=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Di=null}return t}function VA(t,e){do{var n=ht;try{if(qy(),xd.current=uh,ch){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ch=!1}if(Qi=0,At=wt=et=null,Ql=!1,_c=0,sv.current=null,n===null||n.return===null){Et=1,Tc=e,ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=$0(o);if(v!==null){v.flags&=-257,B0(v,o,a,i,e),v.mode&1&&z0(i,u,e),e=v,l=u;var b=e.updateQueue;if(b===null){var _=new Set;_.add(l),e.updateQueue=_}else b.add(l);break e}else{if(!(e&1)){z0(i,u,e),cv();break e}l=Error(W(426))}}else if(Xe&&a.mode&1){var S=$0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),B0(S,o,a,i,e),By(Sa(l,a));break e}}i=l=Sa(l,a),Et!==4&&(Et=2),Zl===null?Zl=[i]:Zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=wA(i,l,e);M0(i,E);break e;case 1:a=l;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(qs===null||!qs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=EA(i,a,e);M0(i,k);break e}}i=i.return}while(i!==null)}UA(n)}catch(O){e=O,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function jA(){var t=dh.current;return dh.current=uh,t===null?uh:t}function cv(){(Et===0||Et===3||Et===2)&&(Et=4),Pt===null||!(Xi&268435455)&&!(pf&268435455)||Cs(Pt,Lt)}function ph(t,e){var n=Ne;Ne|=2;var r=jA();(Pt!==t||Lt!==e)&&(Hr=null,Ui(t,e));do try{fj();break}catch(s){VA(t,s)}while(!0);if(qy(),Ne=n,dh.current=r,ht!==null)throw Error(W(261));return Pt=null,Lt=0,Et}function fj(){for(;ht!==null;)FA(ht)}function pj(){for(;ht!==null&&!FV();)FA(ht)}function FA(t){var e=$A(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?UA(t):ht=e,sv.current=null}function UA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aj(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,ht=null;return}}else if(n=oj(n,e,wn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);Et===0&&(Et=5)}function Pi(t,e,n){var r=je,s=Vn.transition;try{Vn.transition=null,je=1,mj(t,e,n,r)}finally{Vn.transition=s,je=r}return null}function mj(t,e,n,r){do Zo();while(js!==null);if(Ne&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(QV(t,i),t===Pt&&(ht=Pt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nd||(nd=!0,BA(Qd,function(){return Zo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=je;je=1;var a=Ne;Ne|=4,sv.current=null,cj(t,n),OA(n,t),M4(eg),Zd=!!Jm,eg=Jm=null,t.current=n,uj(n),UV(),Ne=a,je=o,Vn.transition=i}else t.current=n;if(nd&&(nd=!1,js=t,fh=s),i=t.pendingLanes,i===0&&(qs=null),BV(n.stateNode),mn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hh)throw hh=!1,t=wg,wg=null,t;return fh&1&&t.tag!==0&&Zo(),i=t.pendingLanes,i&1?t===Eg?Yl++:(Yl=0,Eg=t):Yl=0,vi(),null}function Zo(){if(js!==null){var t=wC(fh),e=Vn.transition,n=je;try{if(Vn.transition=null,je=16>t?16:t,js===null)var r=!1;else{if(t=js,js=null,fh=0,Ne&6)throw Error(W(331));var s=Ne;for(Ne|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Xl(8,d,i)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var p=d.sibling,v=d.return;if(NA(d),d===u){J=null;break}if(p!==null){p.return=v,J=p;break}J=v}}}var b=i.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,J=E;break e}J=i.return}}var w=t.current;for(J=w;J!==null;){o=J;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,J=T;else e:for(o=w;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ff(9,a)}}catch(O){it(a,a.return,O)}if(a===o){J=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,J=k;break e}J=a.return}}if(Ne=s,vi(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(sf,t)}catch{}r=!0}return r}finally{je=n,Vn.transition=e}}return!1}function nE(t,e,n){e=Sa(n,e),e=wA(t,e,1),t=Hs(t,e,1),e=nn(),t!==null&&(su(t,1,e),mn(t,e))}function it(t,e,n){if(t.tag===3)nE(t,t,n);else for(;e!==null;){if(e.tag===3){nE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qs===null||!qs.has(r))){t=Sa(n,t),t=EA(e,t,1),e=Hs(e,t,1),t=nn(),e!==null&&(su(e,1,t),mn(e,t));break}}e=e.return}}function gj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Lt&n)===n&&(Et===4||Et===3&&(Lt&130023424)===Lt&&500>ut()-ov?Ui(t,0):iv|=n),mn(t,e)}function zA(t,e){e===0&&(t.mode&1?(e=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):e=1);var n=nn();t=es(t,e),t!==null&&(su(t,e,n),mn(t,n))}function yj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zA(t,n)}function vj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),zA(t,n)}var $A;$A=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,ij(t,e,n);hn=!!(t.flags&131072)}else hn=!1,Xe&&e.flags&1048576&&WC(e,sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Id(t,e),t=e.pendingProps;var s=_a(e,Gt.current);Xo(e,n),s=Jy(null,e,r,t,s,n);var i=ev();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(i=!0,nh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ky(e),s.updater=hf,e.stateNode=s,s._reactInternals=e,cg(e,r,t,n),e=hg(null,e,r,!0,i,n)):(e.tag=0,Xe&&i&&zy(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wj(r),t=Bn(r,t),s){case 0:e=dg(null,e,r,t,n);break e;case 1:e=W0(null,e,r,t,n);break e;case 11:e=H0(null,e,r,t,n);break e;case 14:e=q0(null,e,r,Bn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),dg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),W0(t,e,r,s,n);case 3:e:{if(bA(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,YC(t,e),ah(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Sa(Error(W(423)),e),e=G0(t,e,r,n,s);break e}else if(r!==s){s=Sa(Error(W(424)),e),e=G0(t,e,r,n,s);break e}else for(Tn=Bs(e.stateNode.containerInfo.firstChild),Sn=e,Xe=!0,Gn=null,n=XC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wa(),r===s){e=ts(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return JC(e),t===null&&og(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,tg(r,s)?o=null:i!==null&&tg(r,i)&&(e.flags|=32),xA(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&og(e),null;case 13:return IA(t,e,n);case 4:return Qy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ea(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),H0(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(ih,r._currentValue),r._currentValue=o,i!==null)if(tr(i.value,o)){if(i.children===s.children&&!fn.current){e=ts(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Zr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ag(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ag(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xo(e,n),s=jn(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=Bn(r,e.pendingProps),s=Bn(r.type,s),q0(t,e,r,s,n);case 15:return TA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Id(t,e),e.tag=1,pn(r)?(t=!0,nh(e)):t=!1,Xo(e,n),_A(e,r,s),cg(e,r,s,n),hg(null,e,r,!0,t,n);case 19:return CA(t,e,n);case 22:return SA(t,e,n)}throw Error(W(156,e.tag))};function BA(t,e){return gC(t,e)}function _j(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new _j(t,e,n,r)}function uv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wj(t){if(typeof t=="function")return uv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Py)return 11;if(t===Ry)return 14}return 2}function Gs(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")uv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Do:return zi(n.children,s,i,e);case Ay:o=8,s|=8;break;case Dm:return t=Ln(12,n,e,s|2),t.elementType=Dm,t.lanes=i,t;case Om:return t=Ln(13,n,e,s),t.elementType=Om,t.lanes=i,t;case Mm:return t=Ln(19,n,e,s),t.elementType=Mm,t.lanes=i,t;case JI:return mf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZI:o=10;break e;case YI:o=9;break e;case Py:o=11;break e;case Ry:o=14;break e;case xs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function zi(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function mf(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=JI,t.lanes=n,t.stateNode={isHidden:!1},t}function Xp(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function Zp(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ej(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Np(0),this.expirationTimes=Np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Np(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dv(t,e,n,r,s,i,o,a,l){return t=new Ej(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ky(i),t}function Tj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HA(t){if(!t)return ti;t=t._reactInternals;e:{if(uo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(pn(n))return HC(t,n,e)}return e}function qA(t,e,n,r,s,i,o,a,l){return t=dv(n,r,!0,t,s,i,o,a,l),t.context=HA(null),n=t.current,r=nn(),s=Ws(n),i=Zr(r,s),i.callback=e??null,Hs(n,i,s),t.current.lanes=s,su(t,s,r),mn(t,r),t}function gf(t,e,n,r){var s=e.current,i=nn(),o=Ws(s);return n=HA(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hs(s,e,o),t!==null&&(Jn(t,s,o,i),Sd(t,s,o)),o}function mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hv(t,e){rE(t,e),(t=t.alternate)&&rE(t,e)}function Sj(){return null}var WA=typeof reportError=="function"?reportError:function(t){console.error(t)};function fv(t){this._internalRoot=t}yf.prototype.render=fv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));gf(t,e,null,null)};yf.prototype.unmount=fv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zi(function(){gf(null,t,null,null)}),e[Jr]=null}};function yf(t){this._internalRoot=t}yf.prototype.unstable_scheduleHydration=function(t){if(t){var e=SC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&bC(t)}};function pv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sE(){}function xj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mh(o);i.call(u)}}var o=qA(e,r,t,0,null,!1,!1,"",sE);return t._reactRootContainer=o,t[Jr]=o.current,pc(t.nodeType===8?t.parentNode:t),Zi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mh(l);a.call(u)}}var l=dv(t,0,!1,null,null,!1,!1,"",sE);return t._reactRootContainer=l,t[Jr]=l.current,pc(t.nodeType===8?t.parentNode:t),Zi(function(){gf(e,l,n,r)}),l}function _f(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mh(o);a.call(l)}}gf(e,o,t,s)}else o=xj(n,e,t,s,r);return mh(o)}EC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ml(e.pendingLanes);n!==0&&(Dy(e,n|1),mn(e,ut()),!(Ne&6)&&(xa=ut()+500,vi()))}break;case 13:Zi(function(){var r=es(t,1);if(r!==null){var s=nn();Jn(r,t,1,s)}}),hv(t,1)}};Oy=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=nn();Jn(e,t,134217728,n)}hv(t,134217728)}};TC=function(t){if(t.tag===13){var e=Ws(t),n=es(t,e);if(n!==null){var r=nn();Jn(n,t,e,r)}hv(t,e)}};SC=function(){return je};xC=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};qm=function(t,e,n){switch(e){case"input":if(jm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=cf(r);if(!s)throw Error(W(90));tC(r),jm(r,s)}}}break;case"textarea":rC(t,n);break;case"select":e=n.value,e!=null&&Wo(t,!!n.multiple,e,!1)}};uC=av;dC=Zi;var bj={usingClientEntryPoint:!1,Events:[ou,Vo,cf,lC,cC,av]},Pl={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ij={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pC(t),t===null?null:t.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||Sj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{sf=rd.inject(Ij),wr=rd}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bj;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pv(e))throw Error(W(200));return Tj(t,e,null,n)};Cn.createRoot=function(t,e){if(!pv(t))throw Error(W(299));var n=!1,r="",s=WA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dv(t,1,!1,null,null,n,!1,r,s),t[Jr]=e.current,pc(t.nodeType===8?t.parentNode:t),new fv(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=pC(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return Zi(t)};Cn.hydrate=function(t,e,n){if(!vf(e))throw Error(W(200));return _f(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!pv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=WA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qA(e,null,t,1,n??null,s,!1,i,o),t[Jr]=e.current,pc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new yf(e)};Cn.render=function(t,e,n){if(!vf(e))throw Error(W(200));return _f(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!vf(t))throw Error(W(40));return t._reactRootContainer?(Zi(function(){_f(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};Cn.unstable_batchedUpdates=av;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return _f(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function GA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GA)}catch(t){console.error(t)}}GA(),GI.exports=Cn;var ho=GI.exports;const Cj=OI(ho);var KA,iE=ho;KA=iE.createRoot,iE.hydrateRoot;function Aj(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var QA={exports:{}},XA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=g;function Pj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rj=typeof Object.is=="function"?Object.is:Pj,Nj=ba.useState,kj=ba.useEffect,Dj=ba.useLayoutEffect,Oj=ba.useDebugValue;function Mj(t,e){var n=e(),r=Nj({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Dj(function(){s.value=n,s.getSnapshot=e,Yp(s)&&i({inst:s})},[t,n,e]),kj(function(){return Yp(s)&&i({inst:s}),t(function(){Yp(s)&&i({inst:s})})},[t]),Oj(n),n}function Yp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rj(t,n)}catch{return!0}}function Lj(t,e){return e()}var Vj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lj:Mj;XA.useSyncExternalStore=ba.useSyncExternalStore!==void 0?ba.useSyncExternalStore:Vj;QA.exports=XA;var jj=QA.exports;const Fj=qI.useInsertionEffect,Uj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zj=Uj?g.useLayoutEffect:g.useEffect,$j=Fj||zj,ZA=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return $j(()=>{e[0]=t}),e[1]},Bj="popstate",mv="pushState",gv="replaceState",Hj="hashchange",oE=[Bj,mv,gv,Hj],qj=t=>{for(const e of oE)addEventListener(e,t);return()=>{for(const e of oE)removeEventListener(e,t)}},YA=(t,e)=>jj.useSyncExternalStore(qj,t,e),Wj=()=>location.search,Gj=({ssrSearch:t=""}={})=>YA(Wj,()=>t),aE=()=>location.pathname,Kj=({ssrPath:t}={})=>YA(aE,t?()=>t:aE),Qj=(t,{replace:e=!1,state:n=null}={})=>history[e?gv:mv](n,"",t),Xj=(t={})=>[Kj(t),Qj],lE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[lE]>"u"){for(const t of[mv,gv]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,lE,{value:!0})}const Zj=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",JA=(t="")=>t==="/"?"":t,Yj=(t,e)=>t[0]==="~"?t.slice(1):JA(e)+t,Jj=(t="",e)=>Zj(cE(JA(t)),cE(e)),cE=t=>{try{return decodeURI(t)}catch{return t}},eP={hook:Xj,searchHook:Gj,parser:Aj,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},tP=g.createContext(eP),wf=()=>g.useContext(tP),nP={},rP=g.createContext(nP),eF=()=>g.useContext(rP),yv=t=>{const[e,n]=t.hook(t);return[Jj(t.base,e),ZA((r,s)=>n(Yj(r,t.base),s))]},sP=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,p)=>[h,l[p]])):o.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},iP=({children:t,...e})=>{var d,h;const n=wf(),r=e.hook?eP:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=g.useRef({}),l=a.current,u=l;for(let p in r){const v=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===u&&v!==u[p]&&(a.current=u={...u}),u[p]=v,v!==r[p]&&(s=u)}return g.createElement(tP.Provider,{value:s,children:t})},uE=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,tF=t=>{let e=g.useRef(nP),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},dE=({path:t,nest:e,match:n,...r})=>{const s=wf(),[i]=yv(s),[o,a,l]=n??sP(s.parser,t,i,e),u=tF({...eF(),...a});if(!o)return null;const d=l?g.createElement(iP,{base:l},uE(r,u)):uE(r,u);return g.createElement(rP.Provider,{value:u,children:d})};g.forwardRef((t,e)=>{const n=wf(),[r,s]=yv(n),{to:i="",href:o=i,onClick:a,asChild:l,children:u,className:d,replace:h,state:p,...v}=t,b=ZA(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),s(o,t)))}),_=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&g.isValidElement(u)?g.cloneElement(u,{onClick:b,href:_}):g.createElement("a",{...v,onClick:b,href:_,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})});const oP=t=>Array.isArray(t)?t.flatMap(e=>oP(e&&e.type===g.Fragment?e.props.children:e)):[t],nF=({children:t,location:e})=>{const n=wf(),[r]=yv(n);for(const s of oP(t)){let i=0;if(g.isValidElement(s)&&(i=sP(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var Ef=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tf=typeof window>"u"||"Deno"in globalThis;function Hn(){}function rF(t,e){return typeof t=="function"?t(e):t}function sF(t){return typeof t=="number"&&t>=0&&t!==1/0}function iF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hE(t,e){return typeof t=="function"?t(e):t}function oF(t,e){return typeof t=="function"?t(e):t}function fE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==vv(o,e.options))return!1}else if(!xc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function pE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Sc(e.options.mutationKey)!==Sc(i))return!1}else if(!xc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function vv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Sc)(t)}function Sc(t){return JSON.stringify(t,(e,n)=>xg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function xc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!xc(t[n],e[n])):!1}function aP(t,e){if(t===e)return t;const n=mE(t)&&mE(e);if(n||xg(t)&&xg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=aP(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function mE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xg(t){if(!gE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!gE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gE(t){return Object.prototype.toString.call(t)==="[object Object]"}function aF(t){return new Promise(e=>{setTimeout(e,t)})}function lF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?aP(t,e):e}function cF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function uF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var _v=Symbol();function lP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_v?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Li,ks,ca,HT,dF=(HT=class extends Ef{constructor(){super();Me(this,Li);Me(this,ks);Me(this,ca);we(this,ca,e=>{if(!Tf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,ks)||this.setEventListener($(this,ca))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ks))==null||e.call(this),we(this,ks,void 0))}setEventListener(e){var n;we(this,ca,e),(n=$(this,ks))==null||n.call(this),we(this,ks,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,Li)!==e&&(we(this,Li,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,Li)=="boolean"?$(this,Li):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Li=new WeakMap,ks=new WeakMap,ca=new WeakMap,HT),cP=new dF,ua,Ds,da,qT,hF=(qT=class extends Ef{constructor(){super();Me(this,ua,!0);Me(this,Ds);Me(this,da);we(this,da,e=>{if(!Tf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Ds)||this.setEventListener($(this,da))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Ds))==null||e.call(this),we(this,Ds,void 0))}setEventListener(e){var n;we(this,da,e),(n=$(this,Ds))==null||n.call(this),we(this,Ds,e(this.setOnline.bind(this)))}setOnline(e){$(this,ua)!==e&&(we(this,ua,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,ua)}},ua=new WeakMap,Ds=new WeakMap,da=new WeakMap,qT),gh=new hF;function fF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function pF(t){return Math.min(1e3*2**t,3e4)}function uP(t){return(t??"online")==="online"?gh.isOnline():!0}var dP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jp(t){return t instanceof dP}function hP(t){let e=!1,n=0,r=!1,s;const i=fF(),o=_=>{var S;r||(p(new dP(_)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>cP.isFocused()&&(t.networkMode==="always"||gh.isOnline())&&t.canRun(),d=()=>uP(t.networkMode)&&t.canRun(),h=_=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,_),s==null||s(),i.resolve(_))},p=_=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,_),s==null||s(),i.reject(_))},v=()=>new Promise(_=>{var S;s=E=>{(r||u())&&_(E)},(S=t.onPause)==null||S.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),b=()=>{if(r)return;let _;const S=n===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(E){_=Promise.reject(E)}Promise.resolve(_).then(h).catch(E=>{var L;if(r)return;const w=t.retry??(Tf?0:3),T=t.retryDelay??pF,k=typeof T=="function"?T(n,E):T,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!O){p(E);return}n++,(L=t.onFail)==null||L.call(t,n,E),aF(k).then(()=>u()?void 0:v()).then(()=>{e?p(E):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():v().then(b),i)}}function mF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var en=mF(),Vi,WT,fP=(WT=class{constructor(){Me(this,Vi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sF(this.gcTime)&&we(this,Vi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Tf?1/0:5*60*1e3))}clearGcTimeout(){$(this,Vi)&&(clearTimeout($(this,Vi)),we(this,Vi,void 0))}},Vi=new WeakMap,WT),ha,fa,Pn,Bt,tu,ji,qn,$r,GT,gF=(GT=class extends fP{constructor(n){super();Me(this,qn);Me(this,ha);Me(this,fa);Me(this,Pn);Me(this,Bt);Me(this,tu);Me(this,ji);we(this,ji,!1),we(this,tu,n.defaultOptions),this.setOptions(n.options),this.observers=[],we(this,Pn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,we(this,ha,vF(this.options)),this.state=n.state??$(this,ha),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Bt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,tu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Pn).remove(this)}setData(n,r){const s=lF(this.state.data,n,this.options);return Ft(this,qn,$r).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ft(this,qn,$r).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,Bt))==null?void 0:s.promise;return(i=$(this,Bt))==null||i.cancel(n),r?r.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,ha))}isActive(){return this.observers.some(n=>oF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_v||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!iF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Bt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Bt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,Pn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Bt)&&($(this,ji)?$(this,Bt).cancel({revert:!0}):$(this,Bt).cancelRetry()),this.scheduleGc()),$(this,Pn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,qn,$r).call(this,{type:"invalidate"})}fetch(n,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Bt))return $(this,Bt).continueRetry(),$(this,Bt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(we(this,ji,!0),s.signal)})},o=()=>{const p=lP(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),we(this,ji,!1),this.options.persister?this.options.persister(p,v,this):p(v)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),we(this,fa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ft(this,qn,$r).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var v,b,_,S;Jp(p)&&p.silent||Ft(this,qn,$r).call(this,{type:"error",error:p}),Jp(p)||((b=(v=$(this,Pn).config).onError)==null||b.call(v,p,this),(S=(_=$(this,Pn).config).onSettled)==null||S.call(_,this.state.data,p,this)),this.scheduleGc()};return we(this,Bt,hP({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var v,b,_,S;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){l(E);return}(b=(v=$(this,Pn).config).onSuccess)==null||b.call(v,p,this),(S=(_=$(this,Pn).config).onSettled)==null||S.call(_,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,v)=>{Ft(this,qn,$r).call(this,{type:"failed",failureCount:p,error:v})},onPause:()=>{Ft(this,qn,$r).call(this,{type:"pause"})},onContinue:()=>{Ft(this,qn,$r).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,Bt).start()}},ha=new WeakMap,fa=new WeakMap,Pn=new WeakMap,Bt=new WeakMap,tu=new WeakMap,ji=new WeakMap,qn=new WeakSet,$r=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...yF(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Jp(i)&&i.revert&&$(this,fa)?{...$(this,fa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),en.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,Pn).notify({query:this,type:"updated",action:n})})},GT);function yF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pr,KT,_F=(KT=class extends Ef{constructor(e={}){super();Me(this,pr);this.config=e,we(this,pr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??vv(s,n);let o=this.get(i);return o||(o=new gF({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,pr).has(e.queryHash)||($(this,pr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,pr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,pr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,pr).get(e)}getAll(){return[...$(this,pr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>fE(e,r)):n}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){en.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pr=new WeakMap,KT),mr,Yt,Fi,gr,Ts,QT,wF=(QT=class extends fP{constructor(n){super();Me(this,gr);Me(this,mr);Me(this,Yt);Me(this,Fi);this.mutationId=n.mutationId,we(this,Yt,n.mutationCache),we(this,mr,[]),this.state=n.state||EF(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,mr).includes(n)||($(this,mr).push(n),this.clearGcTimeout(),$(this,Yt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){we(this,mr,$(this,mr).filter(r=>r!==n)),this.scheduleGc(),$(this,Yt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,mr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Yt).remove(this))}continue(){var n;return((n=$(this,Fi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,h,p,v,b,_,S,E,w,T,k,O,L,I,x;we(this,Fi,hP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{Ft(this,gr,Ts).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{Ft(this,gr,Ts).call(this,{type:"pause"})},onContinue:()=>{Ft(this,gr,Ts).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Yt).canRun(this)}));const r=this.state.status==="pending",s=!$(this,Fi).canStart();try{if(!r){Ft(this,gr,Ts).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=$(this,Yt).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));P!==this.state.context&&Ft(this,gr,Ts).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const C=await $(this,Fi).start();return await((d=(u=$(this,Yt).config).onSuccess)==null?void 0:d.call(u,C,n,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,C,n,this.state.context)),await((b=(v=$(this,Yt).config).onSettled)==null?void 0:b.call(v,C,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,C,null,n,this.state.context)),Ft(this,gr,Ts).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(E=$(this,Yt).config).onError)==null?void 0:w.call(E,C,n,this.state.context,this)),await((k=(T=this.options).onError)==null?void 0:k.call(T,C,n,this.state.context)),await((L=(O=$(this,Yt).config).onSettled)==null?void 0:L.call(O,void 0,C,this.state.variables,this.state.context,this)),await((x=(I=this.options).onSettled)==null?void 0:x.call(I,void 0,C,n,this.state.context)),C}finally{Ft(this,gr,Ts).call(this,{type:"error",error:C})}}finally{$(this,Yt).runNext(this)}}},mr=new WeakMap,Yt=new WeakMap,Fi=new WeakMap,gr=new WeakSet,Ts=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),en.batch(()=>{$(this,mr).forEach(s=>{s.onMutationUpdate(n)}),$(this,Yt).notify({mutation:this,type:"updated",action:n})})},QT);function EF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _n,nu,XT,TF=(XT=class extends Ef{constructor(e={}){super();Me(this,_n);Me(this,nu);this.config=e,we(this,_n,new Map),we(this,nu,Date.now())}build(e,n,r){const s=new wF({mutationCache:this,mutationId:++Uu(this,nu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=sd(e),r=$(this,_n).get(n)??[];r.push(e),$(this,_n).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=sd(e);if($(this,_n).has(n)){const s=(r=$(this,_n).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,_n).delete(n):$(this,_n).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,_n).get(sd(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,_n).get(sd(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,_n).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pE(n,r))}findAll(e={}){return this.getAll().filter(n=>pE(e,n))}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return en.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hn))))}},_n=new WeakMap,nu=new WeakMap,XT);function sd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function yE(t){return{onFetch:(e,n)=>{var d,h,p,v,b;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const S=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},E=lP(e.options,e.fetchOptions),w=async(T,k,O)=>{if(_)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const L={queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};S(L);const I=await E(L),{maxPages:x}=e.options,C=O?uF:cF;return{pages:C(T.pages,I,x),pageParams:C(T.pageParams,k,x)}};if(s&&i.length){const T=s==="backward",k=T?SF:vE,O={pages:i,pageParams:o},L=k(r,O);a=await w(O,L,T)}else{const T=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:vE(r,a);if(l>0&&k==null)break;a=await w(a,k),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var _,S;return(S=(_=e.options).persister)==null?void 0:S.call(_,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function vE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function SF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var st,Os,Ms,pa,ma,Ls,ga,ya,ZT,xF=(ZT=class{constructor(t={}){Me(this,st);Me(this,Os);Me(this,Ms);Me(this,pa);Me(this,ma);Me(this,Ls);Me(this,ga);Me(this,ya);we(this,st,t.queryCache||new _F),we(this,Os,t.mutationCache||new TF),we(this,Ms,t.defaultOptions||{}),we(this,pa,new Map),we(this,ma,new Map),we(this,Ls,0)}mount(){Uu(this,Ls)._++,$(this,Ls)===1&&(we(this,ga,cP.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,st).onFocus())})),we(this,ya,gh.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,st).onOnline())})))}unmount(){var t,e;Uu(this,Ls)._--,$(this,Ls)===0&&((t=$(this,ga))==null||t.call(this),we(this,ga,void 0),(e=$(this,ya))==null||e.call(this),we(this,ya,void 0))}isFetching(t){return $(this,st).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Os).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,st).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,st).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(hE(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,st).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,st).get(r.queryHash),i=s==null?void 0:s.state.data,o=rF(e,i);if(o!==void 0)return $(this,st).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return en.batch(()=>$(this,st).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,st).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,st);en.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,st),r={type:"active",...t};return en.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=en.batch(()=>$(this,st).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Hn).catch(Hn)}invalidateQueries(t={},e={}){return en.batch(()=>{if($(this,st).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=en.batch(()=>$(this,st).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Hn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Hn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,st).build(this,e);return n.isStaleByTime(hE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hn).catch(Hn)}fetchInfiniteQuery(t){return t.behavior=yE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hn).catch(Hn)}ensureInfiniteQueryData(t){return t.behavior=yE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gh.isOnline()?$(this,Os).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,st)}getMutationCache(){return $(this,Os)}getDefaultOptions(){return $(this,Ms)}setDefaultOptions(t){we(this,Ms,t)}setQueryDefaults(t,e){$(this,pa).set(Sc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,pa).values()];let n={};return e.forEach(r=>{xc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,ma).set(Sc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,ma).values()];let n={};return e.forEach(r=>{xc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Ms).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===_v&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Ms).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,st).clear(),$(this,Os).clear()}},st=new WeakMap,Os=new WeakMap,Ms=new WeakMap,pa=new WeakMap,ma=new WeakMap,Ls=new WeakMap,ga=new WeakMap,ya=new WeakMap,ZT),bF=g.createContext(void 0),IF=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(bF.Provider,{value:t,children:e}));async function CF(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const AF=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await CF(n),await n.json())},PF=new xF({defaultOptions:{queries:{queryFn:AF({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),RF=1,NF=1e6;let em=0;function kF(){return em=(em+1)%Number.MAX_SAFE_INTEGER,em.toString()}const tm=new Map,_E=t=>{if(tm.has(t))return;const e=setTimeout(()=>{tm.delete(t),Jl({type:"REMOVE_TOAST",toastId:t})},NF);tm.set(t,e)},DF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,RF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_E(n):t.toasts.forEach(r=>{_E(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Rd=[];let Nd={toasts:[]};function Jl(t){Nd=DF(Nd,t),Rd.forEach(e=>{e(Nd)})}function OF({...t}){const e=kF(),n=s=>Jl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Jl({type:"DISMISS_TOAST",toastId:e});return Jl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pP(){const[t,e]=g.useState(Nd);return g.useEffect(()=>(Rd.push(e),()=>{const n=Rd.indexOf(e);n>-1&&Rd.splice(n,1)}),[t]),{...t,toast:OF,dismiss:n=>Jl({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function wE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mP(...t){return e=>{let n=!1;const r=t.map(s=>{const i=wE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():wE(t[s],null)}}}}function Pe(...t){return g.useCallback(mP(...t),t)}function MF(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function or(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=h=>{var E;const{scope:p,children:v,...b}=h,_=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,S=g.useMemo(()=>b,Object.values(b));return m.jsx(_.Provider,{value:S,children:v})};u.displayName=i+"Provider";function d(h,p){var _;const v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,b=g.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,LF(s,...e)]}function LF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ia(t){const e=jF(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(UF);if(l){const u=l.props.children,d=a.map(h=>h===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return m.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return m.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var VF=Ia("Slot");function jF(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=$F(s),a=zF(i,s.props);return s.type!==g.Fragment&&(a.ref=r?mP(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gP=Symbol("radix.slottable");function FF(t){const e=({children:n})=>m.jsx(m.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=gP,e}function UF(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gP}function zF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $F(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wv(t){const e=t+"CollectionProvider",[n,r]=or(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:S,children:E}=_,w=Nn.useRef(null),T=Nn.useRef(new Map).current;return m.jsx(s,{scope:S,itemMap:T,collectionRef:w,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=Ia(a),u=Nn.forwardRef((_,S)=>{const{scope:E,children:w}=_,T=i(a,E),k=Pe(S,T.collectionRef);return m.jsx(l,{ref:k,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=Ia(d),v=Nn.forwardRef((_,S)=>{const{scope:E,children:w,...T}=_,k=Nn.useRef(null),O=Pe(S,k),L=i(d,E);return Nn.useEffect(()=>(L.itemMap.set(k,{ref:k,...T}),()=>void L.itemMap.delete(k))),m.jsx(p,{[h]:"",ref:O,children:w})});v.displayName=d;function b(_){const S=i(t+"CollectionConsumer",_);return Nn.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((L,I)=>T.indexOf(L.ref.current)-T.indexOf(I.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},b,r]}var BF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=BF.reduce((t,e)=>{const n=Ia(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function yP(t,e){t&&ho.flushSync(()=>t.dispatchEvent(e))}function ot(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function HF(t,e=globalThis==null?void 0:globalThis.document){const n=ot(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var qF="DismissableLayer",bg="dismissableLayer.update",WF="dismissableLayer.pointerDownOutside",GF="dismissableLayer.focusOutside",EE,vP=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lu=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(vP),[d,h]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),b=Pe(e,I=>h(I)),_=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(S),w=d?_.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=E,O=QF(I=>{const x=I.target,C=[...u.branches].some(P=>P.contains(x));!k||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),L=XF(I=>{const x=I.target;[...u.branches].some(P=>P.contains(x))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return HF(I=>{w===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(EE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),TE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=EE)}},[d,p,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),TE())},[d,u]),g.useEffect(()=>{const I=()=>v({});return document.addEventListener(bg,I),()=>document.removeEventListener(bg,I)},[]),m.jsx(he.div,{...l,ref:b,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,L.onFocusCapture),onBlurCapture:se(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,O.onPointerDownCapture)})});lu.displayName=qF;var KF="DismissableLayerBranch",_P=g.forwardRef((t,e)=>{const n=g.useContext(vP),r=g.useRef(null),s=Pe(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),m.jsx(he.div,{...t,ref:s})});_P.displayName=KF;function QF(t,e=globalThis==null?void 0:globalThis.document){const n=ot(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){wP(WF,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function XF(t,e=globalThis==null?void 0:globalThis.document){const n=ot(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&wP(GF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TE(){const t=new CustomEvent(bg);document.dispatchEvent(t)}function wP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?yP(s,i):s.dispatchEvent(i)}var ZF=lu,YF=_P,gt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},JF="Portal",Sf=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);gt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Cj.createPortal(m.jsx(he.div,{...r,ref:e}),o):null});Sf.displayName=JF;function e3(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var ar=t=>{const{present:e,children:n}=t,r=t3(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Pe(r.ref,n3(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};ar.displayName="Presence";function t3(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=e3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=id(r.current);i.current=a==="mounted"?u:"none"},[a]),gt(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,v=id(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),gt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=v=>{const _=id(r.current).includes(v.animationName);if(v.target===e&&_&&(l("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(i.current=id(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function id(t){return(t==null?void 0:t.animationName)||"none"}function n3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ca({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=r3({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=ot(n),l=g.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else s(u)},[i,t,s,a]);return[o,l]}function r3({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=ot(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var s3="VisuallyHidden",cu=g.forwardRef((t,e)=>m.jsx(he.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));cu.displayName=s3;var i3=cu,Ev="ToastProvider",[Tv,o3,a3]=wv("Toast"),[EP,EQ]=or("Toast",[a3]),[l3,xf]=EP(Ev),TP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ev}\`. Expected non-empty \`string\`.`),m.jsx(Tv.Provider,{scope:e,children:m.jsx(l3,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(v=>v+1),[]),onToastRemove:g.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};TP.displayName=Ev;var SP="ToastViewport",c3=["F8"],Ig="toast.viewportPause",Cg="toast.viewportResume",xP=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=c3,label:s="Notifications ({hotkey})",...i}=t,o=xf(SP,n),a=o3(n),l=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),p=Pe(e,h,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;g.useEffect(()=>{const S=E=>{var T;r.length!==0&&r.every(k=>E[k]||E.code===k)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=l.current,E=h.current;if(b&&S&&E){const w=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Ig);E.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Cg);E.dispatchEvent(L),o.isClosePausedRef.current=!1}},k=L=>{!S.contains(L.relatedTarget)&&T()},O=()=>{S.contains(document.activeElement)||T()};return S.addEventListener("focusin",w),S.addEventListener("focusout",k),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",k),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[b,o.isClosePausedRef]);const _=g.useCallback(({tabbingDirection:S})=>{const w=a().map(T=>{const k=T.ref.current,O=[k,...T3(k)];return S==="forwards"?O:O.reverse()});return(S==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const S=h.current;if(S){const E=w=>{var O,L,I;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const x=document.activeElement,C=w.shiftKey;if(w.target===S&&C){(O=u.current)==null||O.focus();return}const D=_({tabbingDirection:C?"backwards":"forwards"}),R=D.findIndex(B=>B===x);nm(D.slice(R+1))?w.preventDefault():C?(L=u.current)==null||L.focus():(I=d.current)==null||I.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[a,_]),m.jsxs(YF,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&m.jsx(Ag,{ref:u,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"forwards"});nm(S)}}),m.jsx(Tv.Slot,{scope:n,children:m.jsx(he.ol,{tabIndex:-1,...i,ref:p})}),b&&m.jsx(Ag,{ref:d,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"backwards"});nm(S)}})]})});xP.displayName=SP;var bP="ToastFocusProxy",Ag=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=xf(bP,n);return m.jsx(cu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Ag.displayName=bP;var bf="Toast",u3="toast.swipeStart",d3="toast.swipeMove",h3="toast.swipeCancel",f3="toast.swipeEnd",IP=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Ca({prop:r,defaultProp:s,onChange:i});return m.jsx(ar,{present:n||a,children:m.jsx(g3,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ot(t.onPause),onResume:ot(t.onResume),onSwipeStart:se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});IP.displayName=bf;var[p3,m3]=EP(bf,{onClose(){}}),g3=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:v,...b}=t,_=xf(bf,n),[S,E]=g.useState(null),w=Pe(e,B=>E(B)),T=g.useRef(null),k=g.useRef(null),O=s||_.duration,L=g.useRef(0),I=g.useRef(O),x=g.useRef(0),{onToastAdd:C,onToastRemove:P}=_,N=ot(()=>{var ee;(S==null?void 0:S.contains(document.activeElement))&&((ee=_.viewport)==null||ee.focus()),o()}),D=g.useCallback(B=>{!B||B===1/0||(window.clearTimeout(x.current),L.current=new Date().getTime(),x.current=window.setTimeout(N,B))},[N]);g.useEffect(()=>{const B=_.viewport;if(B){const ee=()=>{D(I.current),u==null||u()},te=()=>{const pe=new Date().getTime()-L.current;I.current=I.current-pe,window.clearTimeout(x.current),l==null||l()};return B.addEventListener(Ig,te),B.addEventListener(Cg,ee),()=>{B.removeEventListener(Ig,te),B.removeEventListener(Cg,ee)}}},[_.viewport,O,l,u,D]),g.useEffect(()=>{i&&!_.isClosePausedRef.current&&D(O)},[i,O,_.isClosePausedRef,D]),g.useEffect(()=>(C(),()=>P()),[C,P]);const R=g.useMemo(()=>S?DP(S):null,[S]);return _.viewport?m.jsxs(m.Fragment,{children:[R&&m.jsx(y3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),m.jsx(p3,{scope:n,onClose:N,children:ho.createPortal(m.jsx(Tv.ItemSlot,{scope:n,children:m.jsx(ZF,{asChild:!0,onEscapeKeyDown:se(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||N(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:se(t.onPointerDown,B=>{B.button===0&&(T.current={x:B.clientX,y:B.clientY})}),onPointerMove:se(t.onPointerMove,B=>{if(!T.current)return;const ee=B.clientX-T.current.x,te=B.clientY-T.current.y,pe=!!k.current,F=["left","right"].includes(_.swipeDirection),G=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,ne=F?G(0,ee):0,de=F?0:G(0,te),ke=B.pointerType==="touch"?10:2,xt={x:ne,y:de},Qe={originalEvent:B,delta:xt};pe?(k.current=xt,od(d3,h,Qe,{discrete:!1})):SE(xt,_.swipeDirection,ke)?(k.current=xt,od(u3,d,Qe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ee)>ke||Math.abs(te)>ke)&&(T.current=null)}),onPointerUp:se(t.onPointerUp,B=>{const ee=k.current,te=B.target;if(te.hasPointerCapture(B.pointerId)&&te.releasePointerCapture(B.pointerId),k.current=null,T.current=null,ee){const pe=B.currentTarget,F={originalEvent:B,delta:ee};SE(ee,_.swipeDirection,_.swipeThreshold)?od(f3,v,F,{discrete:!0}):od(h3,p,F,{discrete:!0}),pe.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),y3=t=>{const{__scopeToast:e,children:n,...r}=t,s=xf(bf,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return w3(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:m.jsx(Sf,{asChild:!0,children:m.jsx(cu,{...r,children:i&&m.jsxs(m.Fragment,{children:[s.label," ",n]})})})},v3="ToastTitle",CP=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(he.div,{...r,ref:e})});CP.displayName=v3;var _3="ToastDescription",AP=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(he.div,{...r,ref:e})});AP.displayName=_3;var PP="ToastAction",RP=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(kP,{altText:n,asChild:!0,children:m.jsx(Sv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${PP}\`. Expected non-empty \`string\`.`),null)});RP.displayName=PP;var NP="ToastClose",Sv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=m3(NP,n);return m.jsx(kP,{asChild:!0,children:m.jsx(he.button,{type:"button",...r,ref:e,onClick:se(t.onClick,s.onClose)})})});Sv.displayName=NP;var kP=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return m.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function DP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),E3(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...DP(r))}}),e}function od(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?yP(s,i):s.dispatchEvent(i)}var SE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function w3(t=()=>{}){const e=ot(t);gt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function E3(t){return t.nodeType===t.ELEMENT_NODE}function T3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var S3=TP,OP=xP,MP=IP,LP=CP,VP=AP,jP=RP,FP=Sv;function UP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=UP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=UP(t))&&(r&&(r+=" "),r+=e);return r}const xE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,bE=zP,If=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return bE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=xE(d)||xE(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...v}=d;return Object.entries(v).every(b=>{let[_,S]=b;return Array.isArray(S)?S.includes({...i,...a}[_]):{...i,...a}[_]===S})?[...u,h,p]:u},[]);return bE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$P=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...b3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$P("lucide",s),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(I3,{ref:i,iconNode:e,className:$P(`lucide-${x3(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Fe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Fe("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Fe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Fe("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=Fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=Fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Fe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=Fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=Fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=Fe("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=Fe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Fe("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=Fe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Fe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Fe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Iv="-",$3=t=>{const e=H3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Iv);return a[0]===""&&a.length!==1&&a.shift(),YP(a,e)||B3(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},YP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?YP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Iv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},IE=/^\[(.+)\]$/,B3=t=>{if(IE.test(t)){const e=IE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},H3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return W3(Object.entries(t.classGroups),n).forEach(([i,o])=>{Rg(o,r,i,e)}),r},Rg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:CE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(q3(s)){Rg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Rg(o,CE(e,i),n,r)})})},CE=(t,e)=>{let n=t;return e.split(Iv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},q3=t=>t.isThemeGetter,W3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,G3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},JP="!",K3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let S=0;S<a.length;S++){let E=a[S];if(u===0){if(E===s&&(r||a.slice(S,S+i)===e)){l.push(a.slice(d,S)),d=S+i;continue}if(E==="/"){h=S;continue}}E==="["?u++:E==="]"&&u--}const p=l.length===0?a:a.substring(d),v=p.startsWith(JP),b=v?p.substring(1):p,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},Q3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},X3=t=>({cache:G3(t.cacheSize),parseClassName:K3(t),...$3(t)}),Z3=/\s+/,Y3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Z3);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}=n(u);let b=!!v,_=r(b?p.substring(0,v):p);if(!_){if(!b){a=u+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=u+(a.length>0?" "+a:a);continue}b=!1}const S=Q3(d).join(":"),E=h?S+JP:S,w=E+_;if(i.includes(w))continue;i.push(w);const T=s(_,b);for(let k=0;k<T.length;++k){const O=T[k];i.push(E+O)}a=u+(a.length>0?" "+a:a)}return a};function J3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eR(e))&&(r&&(r+=" "),r+=n);return r}const eR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eR(t[r]))&&(n&&(n+=" "),n+=e);return n};function e6(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=X3(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Y3(l,n);return s(l,d),d}return function(){return i(J3.apply(null,arguments))}}const qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tR=/^\[(?:([a-z-]+):)?(.+)\]$/i,t6=/^\d+\/\d+$/,n6=new Set(["px","full","screen"]),r6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,o6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zr=t=>Yo(t)||n6.has(t)||t6.test(t),_s=t=>qa(t,"length",m6),Yo=t=>!!t&&!Number.isNaN(Number(t)),sm=t=>qa(t,"number",Yo),Rl=t=>!!t&&Number.isInteger(Number(t)),l6=t=>t.endsWith("%")&&Yo(t.slice(0,-1)),ve=t=>tR.test(t),ws=t=>r6.test(t),c6=new Set(["length","size","percentage"]),u6=t=>qa(t,c6,nR),d6=t=>qa(t,"position",nR),h6=new Set(["image","url"]),f6=t=>qa(t,h6,y6),p6=t=>qa(t,"",g6),Nl=()=>!0,qa=(t,e,n)=>{const r=tR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},m6=t=>s6.test(t)&&!i6.test(t),nR=()=>!1,g6=t=>o6.test(t),y6=t=>a6.test(t),v6=()=>{const t=qe("colors"),e=qe("spacing"),n=qe("blur"),r=qe("brightness"),s=qe("borderColor"),i=qe("borderRadius"),o=qe("borderSpacing"),a=qe("borderWidth"),l=qe("contrast"),u=qe("grayscale"),d=qe("hueRotate"),h=qe("invert"),p=qe("gap"),v=qe("gradientColorStops"),b=qe("gradientColorStopPositions"),_=qe("inset"),S=qe("margin"),E=qe("opacity"),w=qe("padding"),T=qe("saturate"),k=qe("scale"),O=qe("sepia"),L=qe("skew"),I=qe("space"),x=qe("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ve,e],D=()=>[ve,e],R=()=>["",zr,_s],B=()=>["auto",Yo,ve],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ve],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Yo,ve];return{cacheSize:500,separator:":",theme:{colors:[Nl],spacing:[zr,_s],blur:["none","",ws,ve],brightness:de(),borderColor:[t],borderRadius:["none","","full",ws,ve],borderSpacing:D(),borderWidth:R(),contrast:de(),grayscale:G(),hueRotate:de(),invert:G(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[l6,_s],inset:N(),margin:N(),opacity:de(),padding:D(),saturate:de(),scale:de(),sepia:G(),skew:de(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[ws]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),ve]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,ve]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Rl,ve]}],"grid-cols":[{"grid-cols":[Nl]}],"col-start-end":[{col:["auto",{span:["full",Rl,ve]},ve]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Nl]}],"row-start-end":[{row:["auto",{span:[Rl,ve]},ve]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[ws]},ws]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ws,_s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sm]}],"font-family":[{font:[Nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Yo,sm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zr,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zr,_s]}],"underline-offset":[{"underline-offset":["auto",zr,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),d6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},f6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[zr,ve]}],"outline-w":[{outline:[zr,_s]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[zr,_s]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ws,p6]}],"shadow-color":[{shadow:[Nl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ws,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Rl,ve]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zr,_s,sm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_6=e6(v6);function Te(...t){return _6(zP(t))}const w6=S3,rR=g.forwardRef(({className:t,...e},n)=>m.jsx(OP,{ref:n,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));rR.displayName=OP.displayName;const E6=If("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sR=g.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(MP,{ref:r,className:Te(E6({variant:e}),t),...n}));sR.displayName=MP.displayName;const T6=g.forwardRef(({className:t,...e},n)=>m.jsx(jP,{ref:n,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));T6.displayName=jP.displayName;const iR=g.forwardRef(({className:t,...e},n)=>m.jsx(FP,{ref:n,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(bv,{className:"h-4 w-4"})}));iR.displayName=FP.displayName;const oR=g.forwardRef(({className:t,...e},n)=>m.jsx(LP,{ref:n,className:Te("text-sm font-semibold",t),...e}));oR.displayName=LP.displayName;const aR=g.forwardRef(({className:t,...e},n)=>m.jsx(VP,{ref:n,className:Te("text-sm opacity-90",t),...e}));aR.displayName=VP.displayName;function S6(){const{toasts:t}=pP();return m.jsxs(w6,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return m.jsxs(sR,{...i,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(oR,{children:n}),r&&m.jsx(aR,{children:r})]}),s,m.jsx(iR,{})]},e)}),m.jsx(rR,{})]})}var x6=qI[" useId ".trim().toString()]||(()=>{}),b6=0;function $i(t){const[e,n]=g.useState(x6());return gt(()=>{n(r=>r??String(b6++))},[t]),e?`radix-${e}`:""}const I6=["top","right","bottom","left"],ni=Math.min,En=Math.max,yh=Math.round,ad=Math.floor,Tr=t=>({x:t,y:t}),C6={left:"right",right:"left",bottom:"top",top:"bottom"},A6={start:"end",end:"start"};function Ng(t,e,n){return En(t,ni(e,n))}function ns(t,e){return typeof t=="function"?t(e):t}function rs(t){return t.split("-")[0]}function Wa(t){return t.split("-")[1]}function Cv(t){return t==="x"?"y":"x"}function Av(t){return t==="y"?"height":"width"}function ri(t){return["top","bottom"].includes(rs(t))?"y":"x"}function Pv(t){return Cv(ri(t))}function P6(t,e,n){n===void 0&&(n=!1);const r=Wa(t),s=Pv(t),i=Av(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=vh(o)),[o,vh(o)]}function R6(t){const e=vh(t);return[kg(t),e,kg(e)]}function kg(t){return t.replace(/start|end/g,e=>A6[e])}function N6(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function k6(t,e,n,r){const s=Wa(t);let i=N6(rs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(kg)))),i}function vh(t){return t.replace(/left|right|bottom|top/g,e=>C6[e])}function D6(t){return{top:0,right:0,bottom:0,left:0,...t}}function lR(t){return typeof t!="number"?D6(t):{top:t,right:t,bottom:t,left:t}}function _h(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function AE(t,e,n){let{reference:r,floating:s}=t;const i=ri(e),o=Pv(e),a=Av(o),l=rs(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-s.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Wa(e)){case"start":v[o]-=p*(n&&u?-1:1);break;case"end":v[o]+=p*(n&&u?-1:1);break}return v}const O6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=AE(u,r,l),p=r,v={},b=0;for(let _=0;_<a.length;_++){const{name:S,fn:E}=a[_],{x:w,y:T,data:k,reset:O}=await E({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,h=T??h,v={...v,[S]:{...v[S],...k}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=AE(u,p,l)),_=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:v}};async function Ic(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=ns(e,t),b=lR(v),S=a[p?h==="floating"?"reference":"floating":h],E=_h(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=_h(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:l}):w);return{top:(E.top-O.top+b.top)/k.y,bottom:(O.bottom-E.bottom+b.bottom)/k.y,left:(E.left-O.left+b.left)/k.x,right:(O.right-E.right+b.right)/k.x}}const M6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=ns(t,e)||{};if(u==null)return{};const h=lR(d),p={x:n,y:r},v=Pv(s),b=Av(v),_=await o.getDimensions(u),S=v==="y",E=S?"top":"left",w=S?"bottom":"right",T=S?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[v]-p[v]-i.floating[b],O=p[v]-i.reference[v],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=L?L[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[T]||i.floating[b]);const x=k/2-O/2,C=I/2-_[b]/2-1,P=ni(h[E],C),N=ni(h[w],C),D=P,R=I-_[b]-N,B=I/2-_[b]/2+x,ee=Ng(D,B,R),te=!l.arrow&&Wa(s)!=null&&B!==ee&&i.reference[b]/2-(B<D?P:N)-_[b]/2<0,pe=te?B<D?B-D:B-R:0;return{[v]:p[v]+pe,data:{[v]:ee,centerOffset:B-ee-pe,...te&&{alignmentOffset:pe}},reset:te}}}),L6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...S}=ns(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=rs(s),w=ri(a),T=rs(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=p||(T||!_?[vh(a)]:R6(a)),L=b!=="none";!p&&L&&O.push(...k6(a,_,b,k));const I=[a,...O],x=await Ic(e,S),C=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(x[E]),h){const B=P6(s,o,k);C.push(x[B[0]],x[B[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(B=>B<=0)){var N,D;const B=(((N=i.flip)==null?void 0:N.index)||0)+1,ee=I[B];if(ee)return{data:{index:B,overflows:P},reset:{placement:ee}};let te=(D=P.filter(pe=>pe.overflows[0]<=0).sort((pe,F)=>pe.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!te)switch(v){case"bestFit":{var R;const pe=(R=P.filter(F=>{if(L){const G=ri(F.placement);return G===w||G==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(G=>G>0).reduce((G,ne)=>G+ne,0)]).sort((F,G)=>F[1]-G[1])[0])==null?void 0:R[0];pe&&(te=pe);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function PE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function RE(t){return I6.some(e=>t[e]>=0)}const V6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ns(t,e);switch(r){case"referenceHidden":{const i=await Ic(e,{...s,elementContext:"reference"}),o=PE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:RE(o)}}}case"escaped":{const i=await Ic(e,{...s,altBoundary:!0}),o=PE(i,n.floating);return{data:{escapedOffsets:o,escaped:RE(o)}}}default:return{}}}}};async function j6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=rs(n),a=Wa(n),l=ri(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=ns(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(v=a==="end"?b*-1:b),l?{x:v*d,y:p*u}:{x:p*u,y:v*d}}const F6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await j6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},U6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:E,y:w}=S;return{x:E,y:w}}},...l}=ns(t,e),u={x:n,y:r},d=await Ic(e,l),h=ri(rs(s)),p=Cv(h);let v=u[p],b=u[h];if(i){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",w=v+d[S],T=v-d[E];v=Ng(w,v,T)}if(o){const S=h==="y"?"top":"left",E=h==="y"?"bottom":"right",w=b+d[S],T=b-d[E];b=Ng(w,b,T)}const _=a.fn({...e,[p]:v,[h]:b});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[h]:o}}}}}},z6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ns(t,e),d={x:n,y:r},h=ri(s),p=Cv(h);let v=d[p],b=d[h];const _=ns(a,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const T=p==="y"?"height":"width",k=i.reference[p]-i.floating[T]+S.mainAxis,O=i.reference[p]+i.reference[T]-S.mainAxis;v<k?v=k:v>O&&(v=O)}if(u){var E,w;const T=p==="y"?"width":"height",k=["top","left"].includes(rs(s)),O=i.reference[h]-i.floating[T]+(k&&((E=o.offset)==null?void 0:E[h])||0)+(k?0:S.crossAxis),L=i.reference[h]+i.reference[T]+(k?0:((w=o.offset)==null?void 0:w[h])||0)-(k?S.crossAxis:0);b<O?b=O:b>L&&(b=L)}return{[p]:v,[h]:b}}}},$6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ns(t,e),d=await Ic(e,u),h=rs(s),p=Wa(s),v=ri(s)==="y",{width:b,height:_}=i.floating;let S,E;h==="top"||h==="bottom"?(S=h,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,S=p==="end"?"top":"bottom");const w=_-d.top-d.bottom,T=b-d.left-d.right,k=ni(_-d[S],w),O=ni(b-d[E],T),L=!e.middlewareData.shift;let I=k,x=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),L&&!p){const P=En(d.left,0),N=En(d.right,0),D=En(d.top,0),R=En(d.bottom,0);v?x=b-2*(P!==0||N!==0?P+N:En(d.left,d.right)):I=_-2*(D!==0||R!==0?D+R:En(d.top,d.bottom))}await l({...e,availableWidth:x,availableHeight:I});const C=await o.getDimensions(a.floating);return b!==C.width||_!==C.height?{reset:{rects:!0}}:{}}}};function Cf(){return typeof window<"u"}function Ga(t){return cR(t)?(t.nodeName||"").toLowerCase():"#document"}function xn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vr(t){var e;return(e=(cR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cR(t){return Cf()?t instanceof Node||t instanceof xn(t).Node:!1}function nr(t){return Cf()?t instanceof Element||t instanceof xn(t).Element:!1}function Nr(t){return Cf()?t instanceof HTMLElement||t instanceof xn(t).HTMLElement:!1}function NE(t){return!Cf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xn(t).ShadowRoot}function uu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function B6(t){return["table","td","th"].includes(Ga(t))}function Af(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Rv(t){const e=Nv(),n=nr(t)?rr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function H6(t){let e=si(t);for(;Nr(e)&&!Aa(e);){if(Rv(e))return e;if(Af(e))return null;e=si(e)}return null}function Nv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Aa(t){return["html","body","#document"].includes(Ga(t))}function rr(t){return xn(t).getComputedStyle(t)}function Pf(t){return nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function si(t){if(Ga(t)==="html")return t;const e=t.assignedSlot||t.parentNode||NE(t)&&t.host||Vr(t);return NE(e)?e.host:e}function uR(t){const e=si(t);return Aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nr(e)&&uu(e)?e:uR(e)}function Cc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=uR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=xn(s);if(i){const a=Dg(o);return e.concat(o,o.visualViewport||[],uu(s)?s:[],a&&n?Cc(a):[])}return e.concat(s,Cc(s,[],n))}function Dg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dR(t){const e=rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Nr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=yh(n)!==i||yh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function kv(t){return nr(t)?t:t.contextElement}function Jo(t){const e=kv(t);if(!Nr(e))return Tr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=dR(e);let o=(i?yh(n.width):n.width)/r,a=(i?yh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const q6=Tr(0);function hR(t){const e=xn(t);return!Nv()||!e.visualViewport?q6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function W6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xn(t)?!1:e}function Yi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=kv(t);let o=Tr(1);e&&(r?nr(r)&&(o=Jo(r)):o=Jo(t));const a=W6(i,n,r)?hR(i):Tr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=xn(i),v=r&&nr(r)?xn(r):r;let b=p,_=Dg(b);for(;_&&r&&v!==b;){const S=Jo(_),E=_.getBoundingClientRect(),w=rr(_),T=E.left+(_.clientLeft+parseFloat(w.paddingLeft))*S.x,k=E.top+(_.clientTop+parseFloat(w.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,h*=S.y,l+=T,u+=k,b=xn(_),_=Dg(b)}}return _h({width:d,height:h,x:l,y:u})}function Dv(t,e){const n=Pf(t).scrollLeft;return e?e.left+n:Yi(Vr(t)).left+n}function fR(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Dv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function G6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Vr(r),a=e?Af(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Tr(1);const d=Tr(0),h=Nr(r);if((h||!h&&!i)&&((Ga(r)!=="body"||uu(o))&&(l=Pf(r)),Nr(r))){const v=Yi(r);u=Jo(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const p=o&&!h&&!i?fR(o,l,!0):Tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function K6(t){return Array.from(t.getClientRects())}function Q6(t){const e=Vr(t),n=Pf(t),r=t.ownerDocument.body,s=En(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=En(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Dv(t);const a=-n.scrollTop;return rr(r).direction==="rtl"&&(o+=En(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function X6(t,e){const n=xn(t),r=Vr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Nv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function Z6(t,e){const n=Yi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Nr(t)?Jo(t):Tr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function kE(t,e,n){let r;if(e==="viewport")r=X6(t,n);else if(e==="document")r=Q6(Vr(t));else if(nr(e))r=Z6(e,n);else{const s=hR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return _h(r)}function pR(t,e){const n=si(t);return n===e||!nr(n)||Aa(n)?!1:rr(n).position==="fixed"||pR(n,e)}function Y6(t,e){const n=e.get(t);if(n)return n;let r=Cc(t,[],!1).filter(a=>nr(a)&&Ga(a)!=="body"),s=null;const i=rr(t).position==="fixed";let o=i?si(t):t;for(;nr(o)&&!Aa(o);){const a=rr(o),l=Rv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||uu(o)&&!l&&pR(t,o))?r=r.filter(d=>d!==o):s=a,o=si(o)}return e.set(t,r),r}function J6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Af(e)?[]:Y6(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=kE(e,d,s);return u.top=En(h.top,u.top),u.right=ni(h.right,u.right),u.bottom=ni(h.bottom,u.bottom),u.left=En(h.left,u.left),u},kE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function e5(t){const{width:e,height:n}=dR(t);return{width:e,height:n}}function t5(t,e,n){const r=Nr(e),s=Vr(e),i=n==="fixed",o=Yi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Tr(0);if(r||!r&&!i)if((Ga(e)!=="body"||uu(s))&&(a=Pf(e)),r){const p=Yi(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=Dv(s));const u=s&&!r&&!i?fR(s,a):Tr(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function im(t){return rr(t).position==="static"}function DE(t,e){if(!Nr(t)||rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vr(t)===n&&(n=n.ownerDocument.body),n}function mR(t,e){const n=xn(t);if(Af(t))return n;if(!Nr(t)){let s=si(t);for(;s&&!Aa(s);){if(nr(s)&&!im(s))return s;s=si(s)}return n}let r=DE(t,e);for(;r&&B6(r)&&im(r);)r=DE(r,e);return r&&Aa(r)&&im(r)&&!Rv(r)?n:r||H6(t)||n}const n5=async function(t){const e=this.getOffsetParent||mR,n=this.getDimensions,r=await n(t.floating);return{reference:t5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function r5(t){return rr(t).direction==="rtl"}const s5={convertOffsetParentRelativeRectToViewportRelativeRect:G6,getDocumentElement:Vr,getClippingRect:J6,getOffsetParent:mR,getElementRects:n5,getClientRects:K6,getDimensions:e5,getScale:Jo,isElement:nr,isRTL:r5};function gR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function i5(t,e){let n=null,r;const s=Vr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:v}=u;if(a||e(),!p||!v)return;const b=ad(h),_=ad(s.clientWidth-(d+p)),S=ad(s.clientHeight-(h+v)),E=ad(d),T={rootMargin:-b+"px "+-_+"px "+-S+"px "+-E+"px",threshold:En(0,ni(1,l))||1};let k=!0;function O(L){const I=L[0].intersectionRatio;if(I!==l){if(!k)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!gR(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function o5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=kv(t),d=s||i?[...u?Cc(u):[],...Cc(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const h=u&&a?i5(u,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(E=>{let[w]=E;w&&w.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=v)==null||T.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let b,_=l?Yi(t):null;l&&S();function S(){const E=Yi(t);_&&!gR(_,E)&&n(),_=E,b=requestAnimationFrame(S)}return n(),()=>{var E;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(E=v)==null||E.disconnect(),v=null,l&&cancelAnimationFrame(b)}}const a5=F6,l5=U6,c5=L6,u5=$6,d5=V6,OE=M6,h5=z6,f5=(t,e,n)=>{const r=new Map,s={platform:s5,...n},i={...s.platform,_c:r};return O6(t,e,{...s,platform:i})};var kd=typeof document<"u"?g.useLayoutEffect:g.useEffect;function wh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!wh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ME(t,e){const n=yR(t);return Math.round(e*n)/n}function om(t){const e=g.useRef(t);return kd(()=>{e.current=t}),e}function p5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=g.useState(r);wh(p,r)||v(r);const[b,_]=g.useState(null),[S,E]=g.useState(null),w=g.useCallback(F=>{F!==L.current&&(L.current=F,_(F))},[]),T=g.useCallback(F=>{F!==I.current&&(I.current=F,E(F))},[]),k=i||b,O=o||S,L=g.useRef(null),I=g.useRef(null),x=g.useRef(d),C=l!=null,P=om(l),N=om(s),D=om(u),R=g.useCallback(()=>{if(!L.current||!I.current)return;const F={placement:e,strategy:n,middleware:p};N.current&&(F.platform=N.current),f5(L.current,I.current,F).then(G=>{const ne={...G,isPositioned:D.current!==!1};B.current&&!wh(x.current,ne)&&(x.current=ne,ho.flushSync(()=>{h(ne)}))})},[p,e,n,N,D]);kd(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const B=g.useRef(!1);kd(()=>(B.current=!0,()=>{B.current=!1}),[]),kd(()=>{if(k&&(L.current=k),O&&(I.current=O),k&&O){if(P.current)return P.current(k,O,R);R()}},[k,O,R,P,C]);const ee=g.useMemo(()=>({reference:L,floating:I,setReference:w,setFloating:T}),[w,T]),te=g.useMemo(()=>({reference:k,floating:O}),[k,O]),pe=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!te.floating)return F;const G=ME(te.floating,d.x),ne=ME(te.floating,d.y);return a?{...F,transform:"translate("+G+"px, "+ne+"px)",...yR(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:ne}},[n,a,te.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:R,refs:ee,elements:te,floatingStyles:pe}),[d,R,ee,te,pe])}const m5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?OE({element:r.current,padding:s}).fn(n):{}:r?OE({element:r,padding:s}).fn(n):{}}}},g5=(t,e)=>({...a5(t),options:[t,e]}),y5=(t,e)=>({...l5(t),options:[t,e]}),v5=(t,e)=>({...h5(t),options:[t,e]}),_5=(t,e)=>({...c5(t),options:[t,e]}),w5=(t,e)=>({...u5(t),options:[t,e]}),E5=(t,e)=>({...d5(t),options:[t,e]}),T5=(t,e)=>({...m5(t),options:[t,e]});var S5="Arrow",vR=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return m.jsx(he.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});vR.displayName=S5;var x5=vR;function _R(t){const[e,n]=g.useState(void 0);return gt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ov="Popper",[wR,Rf]=or(Ov),[b5,ER]=wR(Ov),TR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return m.jsx(b5,{scope:e,anchor:r,onAnchorChange:s,children:n})};TR.displayName=Ov;var SR="PopperAnchor",xR=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ER(SR,n),o=g.useRef(null),a=Pe(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(he.div,{...s,ref:a})});xR.displayName=SR;var Mv="PopperContent",[I5,C5]=wR(Mv),bR=g.forwardRef((t,e)=>{var oe,Ve,vt,Ue,Oe,De;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:b,..._}=t,S=ER(Mv,n),[E,w]=g.useState(null),T=Pe(e,Nt=>w(Nt)),[k,O]=g.useState(null),L=_R(k),I=(L==null?void 0:L.width)??0,x=(L==null?void 0:L.height)??0,C=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,R={padding:P,boundary:N.filter(P5),altBoundary:D},{refs:B,floatingStyles:ee,placement:te,isPositioned:pe,middlewareData:F}=p5({strategy:"fixed",placement:C,whileElementsMounted:(...Nt)=>o5(...Nt,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[g5({mainAxis:s+x,alignmentAxis:o}),l&&y5({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?v5():void 0,...R}),l&&_5({...R}),w5({...R,apply:({elements:Nt,rects:yn,availableWidth:Ti,availableHeight:Fr})=>{const{width:Ur,height:Cu}=yn.reference,at=Nt.floating.style;at.setProperty("--radix-popper-available-width",`${Ti}px`),at.setProperty("--radix-popper-available-height",`${Fr}px`),at.setProperty("--radix-popper-anchor-width",`${Ur}px`),at.setProperty("--radix-popper-anchor-height",`${Cu}px`)}}),k&&T5({element:k,padding:a}),R5({arrowWidth:I,arrowHeight:x}),p&&E5({strategy:"referenceHidden",...R})]}),[G,ne]=AR(te),de=ot(b);gt(()=>{pe&&(de==null||de())},[pe,de]);const ke=(oe=F.arrow)==null?void 0:oe.x,xt=(Ve=F.arrow)==null?void 0:Ve.y,Qe=((vt=F.arrow)==null?void 0:vt.centerOffset)!==0,[ln,yt]=g.useState();return gt(()=>{E&&yt(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:pe?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ln,"--radix-popper-transform-origin":[(Ue=F.transformOrigin)==null?void 0:Ue.x,(Oe=F.transformOrigin)==null?void 0:Oe.y].join(" "),...((De=F.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(I5,{scope:n,placedSide:G,onArrowChange:O,arrowX:ke,arrowY:xt,shouldHideArrow:Qe,children:m.jsx(he.div,{"data-side":G,"data-align":ne,..._,ref:T,style:{..._.style,animation:pe?void 0:"none"}})})})});bR.displayName=Mv;var IR="PopperArrow",A5={top:"bottom",right:"left",bottom:"top",left:"right"},CR=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=C5(IR,r),o=A5[i.placedSide];return m.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:m.jsx(x5,{...s,ref:n,style:{...s.style,display:"block"}})})});CR.displayName=IR;function P5(t){return t!==null}var R5=t=>({name:"transformOrigin",options:t,fn(e){var S,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=AR(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let b="",_="";return u==="bottom"?(b=o?h:`${p}px`,_=`${-l}px`):u==="top"?(b=o?h:`${p}px`,_=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,_=o?h:`${v}px`):u==="left"&&(b=`${r.floating.width+l}px`,_=o?h:`${v}px`),{data:{x:b,y:_}}}});function AR(t){const[e,n="center"]=t.split("-");return[e,n]}var N5=TR,PR=xR,RR=bR,NR=CR,[Nf,TQ]=or("Tooltip",[Rf]),Lv=Rf(),kR="TooltipProvider",k5=700,LE="tooltip.open",[D5,DR]=Nf(kR),OR=t=>{const{__scopeTooltip:e,delayDuration:n=k5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),m.jsx(D5,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};OR.displayName=kR;var MR="Tooltip",[SQ,kf]=Nf(MR),Og="TooltipTrigger",O5=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=kf(Og,n),i=DR(Og,n),o=Lv(n),a=g.useRef(null),l=Pe(e,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),m.jsx(PR,{asChild:!0,...o,children:m.jsx(he.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:se(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:se(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:se(t.onBlur,s.onClose),onClick:se(t.onClick,s.onClose)})})});O5.displayName=Og;var M5="TooltipPortal",[xQ,L5]=Nf(M5,{forceMount:void 0}),Pa="TooltipContent",LR=g.forwardRef((t,e)=>{const n=L5(Pa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=kf(Pa,t.__scopeTooltip);return m.jsx(ar,{present:r||o.open,children:o.disableHoverableContent?m.jsx(VR,{side:s,...i,ref:e}):m.jsx(V5,{side:s,...i,ref:e})})}),V5=g.forwardRef((t,e)=>{const n=kf(Pa,t.__scopeTooltip),r=DR(Pa,t.__scopeTooltip),s=g.useRef(null),i=Pe(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=g.useCallback(()=>{a(null),h(!1)},[h]),v=g.useCallback((b,_)=>{const S=b.currentTarget,E={x:b.clientX,y:b.clientY},w=$5(E,S.getBoundingClientRect()),T=B5(E,w),k=H5(_.getBoundingClientRect()),O=W5([...T,...k]);a(O),h(!0)},[h]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&d){const b=S=>v(S,d),_=S=>v(S,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",_)}}},[l,d,v,p]),g.useEffect(()=>{if(o){const b=_=>{const S=_.target,E={x:_.clientX,y:_.clientY},w=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),T=!q5(E,o);w?p():T&&(p(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,u,p]),m.jsx(VR,{...t,ref:i})}),[j5,F5]=Nf(MR,{isInside:!1}),U5=FF("TooltipContent"),VR=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=kf(Pa,n),u=Lv(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(LE,d),()=>document.removeEventListener(LE,d)),[d]),g.useEffect(()=>{if(l.trigger){const h=p=>{const v=p.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),m.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:m.jsxs(RR,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(U5,{children:r}),m.jsx(j5,{scope:n,isInside:!0,children:m.jsx(i3,{id:l.contentId,role:"tooltip",children:s||r})})]})})});LR.displayName=Pa;var jR="TooltipArrow",z5=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Lv(n);return F5(jR,n).isInside?null:m.jsx(NR,{...s,...r,ref:e})});z5.displayName=jR;function $5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function B5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function H5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function q5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function W5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),G5(e)}function G5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var K5=OR,FR=LR;const Q5=K5,X5=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(FR,{ref:r,sideOffset:e,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));X5.displayName=FR.displayName;const Df=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Df.displayName="Card";const Z5=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("flex flex-col space-y-1.5 p-6",t),...e}));Z5.displayName="CardHeader";const Y5=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("text-2xl font-semibold leading-none tracking-tight",t),...e}));Y5.displayName="CardTitle";const J5=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));J5.displayName="CardDescription";const UR=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("p-6 pt-0",t),...e}));UR.displayName="CardContent";const e9=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("flex items-center p-6 pt-0",t),...e}));e9.displayName="CardFooter";function t9(){return m.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:m.jsx(Df,{className:"w-full max-w-md mx-4",children:m.jsxs(UR,{className:"pt-6",children:[m.jsxs("div",{className:"flex mb-4 gap-2",children:[m.jsx(qP,{className:"h-8 w-8 text-red-500"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),m.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const VE=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(v=>v(e,p))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,a);return a},n9=t=>t?VE(t):VE,r9=t=>t;function s9(t,e=r9){const n=Nn.useSyncExternalStore(t.subscribe,Nn.useCallback(()=>e(t.getState()),[t,e]),Nn.useCallback(()=>e(t.getInitialState()),[t,e]));return Nn.useDebugValue(n),n}const jE=t=>{const e=n9(t),n=r=>s9(e,r);return Object.assign(n,e),n},i9=t=>t?jE(t):jE,fo=i9((t,e)=>({userId:"",displayName:"Ghost Hunter",photoUrl:"https://api.dicebear.com/7.x/bottts/svg?seed=default",isFlickering:!1,isShaking:!1,emfLevel:0,isFirebaseOnline:!1,activeTab:"chat",setUser:(n,r,s)=>t({userId:n,displayName:r,photoUrl:s}),setFlickering:n=>t({isFlickering:n}),setShaking:n=>t({isShaking:n}),setEmfLevel:n=>t({emfLevel:Math.min(5,Math.max(0,n))}),setFirebaseOnline:n=>t({isFirebaseOnline:n}),setActiveTab:n=>t({activeTab:n}),triggerEffect:n=>{n==="hunt"||n==="slam"?(t({isShaking:!0,emfLevel:5}),setTimeout(()=>t({isShaking:!1}),500)):(n==="flicker"||n==="manifest")&&(t({isFlickering:!0,emfLevel:Math.floor(Math.random()*3)+2}),setTimeout(()=>t({isFlickering:!1}),1e3)),setTimeout(()=>t({emfLevel:0}),3e3)}}));function zR(t){return new Date(t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}function o9(){const{userId:t,displayName:e,isFirebaseOnline:n}=fo();return m.jsxs("div",{className:"phasmo-card text-center py-6","data-testid":"header",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold uppercase font-orbitron phasmo-title mb-2 tracking-widest",children:"Phasmophobia Broads HQ"}),m.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2 flex-wrap",children:[m.jsxs("p",{className:"text-sm text-muted-foreground font-jetbrains flex items-center gap-2",children:[m.jsx("span",{children:"Firebase:"}),n?m.jsxs("span",{className:"text-status-online flex items-center gap-1","data-testid":"text-firebase-status",children:[m.jsx(U3,{className:"w-4 h-4"}),"ONLINE"]}):m.jsxs("span",{className:"text-status-offline flex items-center gap-1","data-testid":"text-firebase-status",children:[m.jsx(F3,{className:"w-4 h-4"}),"OFFLINE"]})]}),m.jsx("span",{className:"text-muted-foreground",children:"|"}),m.jsxs("p",{className:"text-sm text-muted-foreground font-jetbrains",children:["Agent:"," ",m.jsx("span",{className:"text-accent text-glow-cyan","data-testid":"text-user-status",children:t?e:"AWAITING AUTHORIZATION..."})]})]})]})}const a9=If("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_r=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?VF:"button";return m.jsx(o,{className:Te(a9({variant:e,size:n,className:t})),ref:i,...s})});_r.displayName="Button";const FE=["bg-green-500","bg-green-400","bg-yellow-400","bg-orange-500","bg-red-500","bg-red-600"],l9=["OFF","1","2","3","4","5"];function c9(){const{emfLevel:t}=fo(),e=t/5*100,n=FE[t]||FE[0];return m.jsxs("div",{className:"space-y-2","data-testid":"emf-bar",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-xs font-jetbrains text-muted-foreground uppercase tracking-wider",children:"EMF Reader"}),m.jsx("span",{className:`text-lg font-orbitron font-bold ${t>=4?"text-red-500 text-glow-purple":"text-accent text-glow-cyan"}`,"data-testid":"text-emf-level",children:l9[t]})]}),m.jsx("div",{className:"emf-bar-container h-5 rounded-md",children:m.jsx("div",{className:`h-full transition-all duration-300 ease-out ${n} ${t>=4?"animate-pulse":""}`,style:{width:`${e}%`}})}),m.jsxs("div",{className:"flex justify-between text-xs font-jetbrains text-muted-foreground px-1",children:[m.jsx("span",{children:"1"}),m.jsx("span",{children:"2"}),m.jsx("span",{children:"3"}),m.jsx("span",{children:"4"}),m.jsx("span",{children:"5"})]})]})}function u9({onTriggerHunt:t}){const{triggerEffect:e,emfLevel:n}=fo(),r=()=>{e("hunt"),t()};return m.jsxs("div",{className:"phasmo-card","data-testid":"ghost-activity-monitor",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"phasmo-subtitle text-lg font-orbitron flex items-center gap-2",children:[m.jsx(O3,{className:"w-5 h-5"}),"GHOST ACTIVITY MONITOR"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[n>=4&&m.jsx(XP,{className:"w-5 h-5 text-red-500 animate-pulse"}),m.jsx(bc,{className:`w-6 h-6 ${n>=3?"text-accent animate-pulse":"text-muted-foreground"}`})]})]}),m.jsx(c9,{}),m.jsxs("div",{className:"mt-6 space-y-3",children:[m.jsxs(_r,{onClick:r,className:"w-full bg-red-900/80 hover:bg-red-800 border-red-500 text-white font-orbitron uppercase tracking-wider","data-testid":"button-trigger-hunt",children:[m.jsx(QP,{className:"w-4 h-4 mr-2"}),"Trigger Hunt Event (Global)"]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsx(_r,{variant:"outline",size:"sm",onClick:()=>e("flicker"),className:"font-jetbrains text-xs","data-testid":"button-flicker",children:"Flicker"}),m.jsx(_r,{variant:"outline",size:"sm",onClick:()=>e("manifest"),className:"font-jetbrains text-xs","data-testid":"button-manifest",children:"Manifest"}),m.jsx(_r,{variant:"outline",size:"sm",onClick:()=>e("slam"),className:"font-jetbrains text-xs","data-testid":"button-slam",children:"Slam"})]})]})]})}var d9=g.createContext(void 0);function Of(t){const e=g.useContext(d9);return t||e||"ltr"}function Mg(t,[e,n]){return Math.min(n,Math.max(e,t))}function h9(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Vv="ScrollArea",[$R,bQ]=or(Vv),[f9,Un]=$R(Vv),BR=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=g.useState(null),[u,d]=g.useState(null),[h,p]=g.useState(null),[v,b]=g.useState(null),[_,S]=g.useState(null),[E,w]=g.useState(0),[T,k]=g.useState(0),[O,L]=g.useState(!1),[I,x]=g.useState(!1),C=Pe(e,N=>l(N)),P=Of(s);return m.jsx(f9,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:O,onScrollbarXEnabledChange:L,scrollbarY:_,onScrollbarYChange:S,scrollbarYEnabled:I,onScrollbarYEnabledChange:x,onCornerWidthChange:w,onCornerHeightChange:k,children:m.jsx(he.div,{dir:P,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});BR.displayName=Vv;var HR="ScrollAreaViewport",qR=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Un(HR,n),a=g.useRef(null),l=Pe(e,a,o.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),m.jsx(he.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:m.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});qR.displayName=HR;var jr="ScrollAreaScrollbar",jv=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Un(jr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?m.jsx(p9,{...r,ref:e,forceMount:n}):s.type==="scroll"?m.jsx(m9,{...r,ref:e,forceMount:n}):s.type==="auto"?m.jsx(WR,{...r,ref:e,forceMount:n}):s.type==="always"?m.jsx(Fv,{...r,ref:e}):null});jv.displayName=jr;var p9=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Un(jr,t.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),m.jsx(ar,{present:n||i,children:m.jsx(WR,{"data-state":i?"visible":"hidden",...r,ref:e})})}),m9=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Un(jr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Lf(()=>l("SCROLL_END"),100),[a,l]=h9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),g.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const v=u[d];h!==v&&(l("SCROLL"),o()),h=v};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),m.jsx(ar,{present:n||a!=="hidden",children:m.jsx(Fv,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:se(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),WR=g.forwardRef((t,e)=>{const n=Un(jr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=g.useState(!1),a=t.orientation==="horizontal",l=Lf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return Ra(n.viewport,l),Ra(n.content,l),m.jsx(ar,{present:r||i,children:m.jsx(Fv,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Fv=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Un(jr,t.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,l]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ZR(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,v){return E9(p,o.current,a,v)}return n==="horizontal"?m.jsx(g9,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,v=UE(p,a,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?m.jsx(y9,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,v=UE(p,a);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),g9=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Un(jr,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=Pe(e,l,i.onScrollbarXChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),m.jsx(KR,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),JR(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Th(o.paddingLeft),paddingEnd:Th(o.paddingRight)}})}})}),y9=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Un(jr,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=Pe(e,l,i.onScrollbarYChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),m.jsx(KR,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),JR(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Th(o.paddingTop),paddingEnd:Th(o.paddingBottom)}})}})}),[v9,GR]=$R(jr),KR=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,v=Un(jr,n),[b,_]=g.useState(null),S=Pe(e,C=>_(C)),E=g.useRef(null),w=g.useRef(""),T=v.viewport,k=r.content-r.viewport,O=ot(d),L=ot(l),I=Lf(h,10);function x(C){if(E.current){const P=C.clientX-E.current.left,N=C.clientY-E.current.top;u({x:P,y:N})}}return g.useEffect(()=>{const C=P=>{const N=P.target;(b==null?void 0:b.contains(N))&&O(P,k)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[T,b,k,O]),g.useEffect(L,[r,L]),Ra(b,I),Ra(v.content,I),m.jsx(v9,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:ot(i),onThumbPointerUp:ot(o),onThumbPositionChange:L,onThumbPointerDown:ot(a),children:m.jsx(he.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:se(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),E.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),x(C))}),onPointerMove:se(t.onPointerMove,x),onPointerUp:se(t.onPointerUp,C=>{const P=C.target;P.hasPointerCapture(C.pointerId)&&P.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=w.current,v.viewport&&(v.viewport.style.scrollBehavior=""),E.current=null})})})}),Eh="ScrollAreaThumb",QR=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=GR(Eh,t.__scopeScrollArea);return m.jsx(ar,{present:n||s.hasThumb,children:m.jsx(_9,{ref:e,...r})})}),_9=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Un(Eh,n),o=GR(Eh,n),{onThumbPositionChange:a}=o,l=Pe(e,h=>o.onThumbChange(h)),u=g.useRef(void 0),d=Lf(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const v=T9(h,a);u.current=v,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),m.jsx(he.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(t.onPointerDownCapture,h=>{const v=h.target.getBoundingClientRect(),b=h.clientX-v.left,_=h.clientY-v.top;o.onThumbPointerDown({x:b,y:_})}),onPointerUp:se(t.onPointerUp,o.onThumbPointerUp)})});QR.displayName=Eh;var Uv="ScrollAreaCorner",XR=g.forwardRef((t,e)=>{const n=Un(Uv,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(w9,{...t,ref:e}):null});XR.displayName=Uv;var w9=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Un(Uv,n),[i,o]=g.useState(0),[a,l]=g.useState(0),u=!!(i&&a);return Ra(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ra(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?m.jsx(he.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Th(t){return t?parseInt(t,10):0}function ZR(t,e){const n=t/e;return isNaN(n)?0:n}function Mf(t){const e=ZR(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function E9(t,e,n,r="ltr"){const s=Mf(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return YR([l,u],h)(t)}function UE(t,e,n="ltr"){const r=Mf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=Mg(t,l);return YR([0,o],[0,a])(u)}function YR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function JR(t,e){return t>0&&t<e}var T9=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Lf(t,e){const n=ot(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ra(t,e){const n=ot(e);gt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var eN=BR,S9=qR,x9=XR;const du=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(eN,{ref:r,className:Te("relative overflow-hidden",t),...n,children:[m.jsx(S9,{className:"h-full w-full rounded-[inherit]",children:e}),m.jsx(tN,{}),m.jsx(x9,{})]}));du.displayName=eN.displayName;const tN=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>m.jsx(jv,{ref:r,orientation:e,className:Te("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:m.jsx(QR,{className:"relative flex-1 rounded-full bg-border"})}));tN.displayName=jv.displayName;const b9={system:qP,event:bc,command:z3,hunt:j3},I9={system:"text-muted-foreground",event:"text-red-400",command:"text-accent",hunt:"text-red-500"};function C9({logs:t}){return m.jsxs("div",{className:"phasmo-card flex-grow flex flex-col min-h-[300px]","data-testid":"activity-log",children:[m.jsxs("h2",{className:"phasmo-subtitle text-lg font-orbitron mb-4 flex items-center gap-2",children:[m.jsx(bc,{className:"w-5 h-5"}),"GHOST ACTIVITY LOG"]}),m.jsx(du,{className:"log-container flex-grow h-[200px]",children:m.jsx("div",{className:"space-y-2 pr-4",children:t.length===0?m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm italic",children:"[SYSTEM] Awaiting initial authentication..."}):t.map(e=>{const n=b9[e.type],r=I9[e.type];return m.jsxs("div",{className:`flex items-start gap-2 font-jetbrains text-sm ${r}`,"data-testid":`log-entry-${e.id}`,children:[m.jsx(n,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),m.jsxs("span",{className:"text-muted-foreground text-xs",children:["[",zR(e.timestamp),"]"]}),m.jsx("span",{className:"flex-grow",children:e.message})]},e.id)})})})]})}const zv=g.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:Te("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));zv.displayName="Input";function A9({onSendMessage:t}){const[e,n]=g.useState(""),r=()=>{const i=e.trim();if(!i)return;const o=i.startsWith("!");t(i,o),n("")},s=i=>{i.key==="Enter"&&(i.preventDefault(),r())};return m.jsxs("div",{className:"space-y-2","data-testid":"command-input",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx(zv,{type:"text",value:e,onChange:i=>n(i.target.value),onKeyDown:s,placeholder:"Type message or command (!hunt, !dead:NAME, etc.)",className:"flex-grow bg-background/50 border-primary focus:border-accent text-accent font-jetbrains","data-testid":"input-command"}),m.jsx(_r,{onClick:r,size:"icon",className:"bg-primary hover:bg-primary/80","data-testid":"button-send",children:m.jsx(L3,{className:"w-4 h-4"})})]}),m.jsx("p",{className:"text-xs text-muted-foreground font-jetbrains",children:"Commands: !hunt, !flicker, !manifest, !curse, !slam, !evidence:X, !dead:X, !revive:X, !location:X"})]})}const P9=[{id:"chat",label:"Chat",icon:KP},{id:"evidence",label:"Evidence",icon:WP},{id:"ghost",label:"Ghost Profile",icon:BP},{id:"cases",label:"Cases",icon:GP},{id:"squad",label:"Squad",icon:Pg},{id:"profile",label:"Profile",icon:ZP}];function R9(){const{activeTab:t,setActiveTab:e}=fo();return m.jsx("div",{className:"flex flex-wrap gap-2 justify-center","data-testid":"tab-navigation",children:P9.map(n=>{const r=n.icon,s=t===n.id;return m.jsxs(_r,{variant:s?"default":"outline",size:"sm",onClick:()=>e(n.id),className:`font-orbitron text-xs uppercase tracking-wider ${s?"bg-primary text-primary-foreground border-accent shadow-neon-purple":"bg-background/50 border-primary text-accent hover:bg-primary/20"}`,"data-testid":`tab-button-${n.id}`,children:[m.jsx(r,{className:"w-4 h-4 mr-1.5"}),n.label]},n.id)})})}var $v="Avatar",[N9,IQ]=or($v),[k9,nN]=N9($v),rN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return m.jsx(k9,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:m.jsx(he.span,{...r,ref:e})})});rN.displayName=$v;var sN="AvatarImage",iN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=nN(sN,n),a=D9(r,i),l=ot(u=>{s(u),o.onImageLoadingStatusChange(u)});return gt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?m.jsx(he.img,{...i,ref:e,src:r}):null});iN.displayName=sN;var oN="AvatarFallback",aN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=nN(oN,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?m.jsx(he.span,{...s,ref:e}):null});aN.displayName=oN;function zE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function D9(t,{referrerPolicy:e,crossOrigin:n}){const r=M9(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=g.useState(()=>zE(i,t));return gt(()=>{a(zE(i,t))},[i,t]),gt(()=>{const l=h=>()=>{a(h)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),o}function O9(){return()=>{}}function M9(){return g.useSyncExternalStore(O9,()=>!0,()=>!1)}var lN=rN,cN=iN,uN=aN;const Ac=g.forwardRef(({className:t,...e},n)=>m.jsx(lN,{ref:n,className:Te(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Ac.displayName=lN.displayName;const Pc=g.forwardRef(({className:t,...e},n)=>m.jsx(cN,{ref:n,className:Te("aspect-square h-full w-full",t),...e}));Pc.displayName=cN.displayName;const Rc=g.forwardRef(({className:t,...e},n)=>m.jsx(uN,{ref:n,className:Te("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Rc.displayName=uN.displayName;function $E({messages:t}){return m.jsxs("div",{className:"space-y-4","data-testid":"chat-panel",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(KP,{className:"w-5 h-5"}),"Squad Comms Log"]}),m.jsx(du,{className:"log-container h-[300px]",children:m.jsx("div",{className:"space-y-3 pr-4",children:t.length===0?m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm italic",children:"No messages yet. Start chatting with your squad!"}):t.map(e=>m.jsxs("div",{className:"flex items-start gap-3","data-testid":`chat-message-${e.id}`,children:[m.jsxs(Ac,{className:"w-8 h-8 border border-accent",children:[m.jsx(Pc,{src:e.photoUrl,alt:e.displayName}),m.jsx(Rc,{className:"bg-primary/20 text-accent text-xs font-orbitron",children:e.displayName.slice(0,2).toUpperCase()})]}),m.jsxs("div",{className:"flex-grow min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx("span",{className:"text-xs text-muted-foreground font-jetbrains",children:zR(e.timestamp)}),m.jsxs("span",{className:"font-bold text-primary font-jetbrains",children:[e.displayName,":"]})]}),m.jsx("p",{className:`font-jetbrains text-sm break-words ${e.isCommand?"text-accent":"text-foreground"}`,children:e.text})]})]},e.id))})})]})}const L9=If("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Bv({className:t,variant:e,...n}){return m.jsx("div",{className:Te(L9({variant:e}),t),...n})}const H=Symbol.for("drizzle:entityKind");function Dt(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,H))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(H in n&&n[H]===e[H])return!0;n=Object.getPrototypeOf(n)}return!1}var YT;YT=H;class Na{constructor(e,n){M(this,"name");M(this,"keyAsName");M(this,"primary");M(this,"notNull");M(this,"default");M(this,"defaultFn");M(this,"onUpdateFn");M(this,"hasDefault");M(this,"isUnique");M(this,"uniqueName");M(this,"uniqueType");M(this,"dataType");M(this,"columnType");M(this,"enumValues");M(this,"generated");M(this,"generatedIdentity");M(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}M(Na,YT,"Column");var JT;JT=H;class dN{constructor(e,n,r){M(this,"config");M(this,"$default",this.$defaultFn);M(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}M(dN,JT,"ColumnBuilder");const ea=Symbol.for("drizzle:Name");var eS;eS=H;class hN{constructor(e,n){M(this,"reference");M(this,"_onUpdate","no action");M(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=e();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new fN(e,this)}}M(hN,eS,"PgForeignKeyBuilder");var tS;tS=H;class fN{constructor(e,n){M(this,"reference");M(this,"onUpdate");M(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),s=n.map(a=>a.name),i=r.map(a=>a.name),o=[this.table[ea],...s,r[0].table[ea],...i];return e??`${o.join("_")}_fk`}}M(fN,tS,"PgForeignKey");function V9(t,...e){return t(...e)}function j9(t,e){return`${t[ea]}_${e.join("_")}_unique`}function BE(t,e,n){for(let r=e;r<t.length;r++){const s=t[r];if(s==="\\"){r++;continue}if(s==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function pN(t,e=0){const n=[];let r=e,s=!1;for(;r<t.length;){const i=t[r];if(i===","){(s||r===e)&&n.push(""),s=!0,r++;continue}if(s=!1,i==="\\"){r+=2;continue}if(i==='"'){const[l,u]=BE(t,r+1,!0);n.push(l),r=u;continue}if(i==="}")return[n,r+1];if(i==="{"){const[l,u]=pN(t,r+1);n.push(l),r=u;continue}const[o,a]=BE(t,r,!1);n.push(o),r=a}return[n,r]}function F9(t){const[e]=pN(t,1);return e}function mN(t){return`{${t.map(e=>Array.isArray(e)?mN(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var nS,rS;class Re extends(rS=dN,nS=H,rS){constructor(){super(...arguments);M(this,"foreignKeyConfigs",[])}array(n){return new yN(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>V9((o,a)=>{const l=new hN(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(r)},s,i))}buildExtraConfigColumn(n){return new gN(n,this.config)}}M(Re,nS,"PgColumnBuilder");var sS,iS;class ye extends(iS=Na,sS=H,iS){constructor(e,n){n.uniqueName||(n.uniqueName=j9(e,[n.name])),super(e,n),this.table=e}}M(ye,sS,"PgColumn");var oS,aS;class gN extends(aS=ye,oS=H,aS){constructor(){super(...arguments);M(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});M(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}M(gN,oS,"ExtraConfigColumn");var lS,cS;class yN extends(cS=Re,lS=H,cS){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new Lg(e,this.config,n)}}M(yN,lS,"PgArrayBuilder");var uS,dS;const nf=class nf extends(dS=ye,uS=H,dS){constructor(n,r,s,i){super(n,r);M(this,"size");this.baseColumn=s,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=F9(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(i=>i===null?null:Dt(this.baseColumn,nf)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?s:mN(s)}};M(nf,uS,"PgArray");let Lg=nf;const HE=Symbol.for("drizzle:isPgEnum");function U9(t){return!!t&&typeof t=="function"&&HE in t&&t[HE]===!0}var hS;hS=H;class Hv{constructor(e,n,r,s=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:s}}}M(Hv,hS,"Subquery");const z9={startActiveSpan(t,e){return e()}},ta=Symbol.for("drizzle:ViewBaseConfig"),am=Symbol.for("drizzle:Schema"),qE=Symbol.for("drizzle:Columns"),WE=Symbol.for("drizzle:ExtraConfigColumns"),lm=Symbol.for("drizzle:OriginalName"),cm=Symbol.for("drizzle:BaseName"),Sh=Symbol.for("drizzle:IsAlias"),GE=Symbol.for("drizzle:ExtraConfigBuilder"),vN=Symbol.for("drizzle:IsDrizzleTable");var fS,pS,mS,gS,yS,vS,_S,wS,ES,TS;TS=H,ES=ea,wS=lm,_S=am,vS=qE,yS=WE,gS=cm,mS=Sh,pS=vN,fS=GE;class tn{constructor(e,n,r){M(this,ES);M(this,wS);M(this,_S);M(this,vS);M(this,yS);M(this,gS);M(this,mS,!1);M(this,pS,!0);M(this,fS);this[ea]=this[lm]=e,this[am]=n,this[cm]=r}}M(tn,TS,"Table"),M(tn,"Symbol",{Name:ea,Schema:am,OriginalName:lm,Columns:qE,ExtraConfigColumns:WE,BaseName:cm,IsAlias:Sh,ExtraConfigBuilder:GE});function _N(t){return typeof t=="object"&&t!==null&&vN in t}function $9(t){return t!=null&&typeof t.getSQL=="function"}function B9(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var SS;SS=H;class Rn{constructor(e){M(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Tt([this])}}M(Rn,SS,"StringChunk");var xS;xS=H;const Ni=class Ni{constructor(e){M(this,"decoder",wN);M(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return z9.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:u}=r;return B9(e.map(d=>{var h;if(Dt(d,Rn))return{sql:d.value.join(""),params:[]};if(Dt(d,xh))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const p=[new Rn("(")];for(const[v,b]of d.entries())p.push(b),v<d.length-1&&p.push(new Rn(", "));return p.push(new Rn(")")),this.buildQueryFromSourceParams(p,r)}if(Dt(d,Ni))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:l||d.shouldInlineParams});if(Dt(d,tn)){const p=d[tn.Symbol.Schema],v=d[tn.Symbol.Name];return{sql:p===void 0||d[Sh]?i(v):i(p)+"."+i(v),params:[]}}if(Dt(d,Na)){const p=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(p),params:[]};const v=d.table[tn.Symbol.Schema];return{sql:d.table[Sh]||v===void 0?i(d.table[tn.Symbol.Name])+"."+i(p):i(v)+"."+i(d.table[tn.Symbol.Name])+"."+i(p),params:[]}}if(Dt(d,SN)){const p=d[ta].schema,v=d[ta].name;return{sql:p===void 0||d[ta].isAlias?i(v):i(p)+"."+i(v),params:[]}}if(Dt(d,qv)){if(Dt(d.value,Ih))return{sql:o(u.value++,d),params:[d],typings:["none"]};const p=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Dt(p,Ni))return this.buildQueryFromSourceParams([p],r);if(l)return{sql:this.mapInlineParam(p,r),params:[]};let v=["none"];return a&&(v=[a(d.encoder)]),{sql:o(u.value++,p),params:[p],typings:v}}return Dt(d,Ih)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Dt(d,Ni.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Dt(d,Hv)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Rn("("),d._.sql,new Rn(") "),new xh(d._.alias)],r):U9(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:$9(d)?(h=d.shouldOmitSQLParens)!=null&&h.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Rn("("),d.getSQL(),new Rn(")")],r):l?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ni.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};M(Ni,xS,"SQL");let Tt=Ni;var bS;bS=H;class xh{constructor(e){M(this,"brand");this.value=e}getSQL(){return new Tt([this])}}M(xh,bS,"Name");const wN={mapFromDriverValue:t=>t},EN={mapToDriverValue:t=>t};({...wN,...EN});var IS;IS=H;class qv{constructor(e,n=EN){M(this,"brand");this.value=e,this.encoder=n}getSQL(){return new Tt([this])}}M(qv,IS,"Param");function bh(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Rn(t[0]));for(const[r,s]of e.entries())n.push(s,new Rn(t[r+1]));return new Tt(n)}(t=>{function e(){return new Tt([])}t.empty=e;function n(l){return new Tt(l)}t.fromList=n;function r(l){return new Tt([new Rn(l)])}t.raw=r;function s(l,u){const d=[];for(const[h,p]of l.entries())h>0&&u!==void 0&&d.push(u),d.push(p);return new Tt(d)}t.join=s;function i(l){return new xh(l)}t.identifier=i;function o(l){return new Ih(l)}t.placeholder=o;function a(l,u){return new qv(l,u)}t.param=a})(bh||(bh={}));(t=>{var n;n=H;const r=class r{constructor(i,o){M(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};M(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(Tt||(Tt={}));var CS;CS=H;class Ih{constructor(e){this.name=e}getSQL(){return new Tt([this])}}M(Ih,CS,"Placeholder");const TN=Symbol.for("drizzle:IsDrizzleView");var AS,PS,RS;RS=H,PS=ta,AS=TN;class SN{constructor({name:e,schema:n,selectedFields:r,query:s}){M(this,PS);M(this,AS,!0);this[ta]={name:e,originalName:e,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Tt([this])}}M(SN,RS,"View");function H9(t){return typeof t=="object"&&t!==null&&TN in t}Na.prototype.getSQL=function(){return new Tt([this])};tn.prototype.getSQL=function(){return new Tt([this])};Hv.prototype.getSQL=function(){return new Tt([this])};function q9(t){return t[tn.Symbol.Columns]}function W9(t){return t[ta].selectedFields}function Rt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var NS,kS;class hu extends(kS=Re,NS=H,kS){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}M(hu,NS,"PgIntColumnBaseBuilder");var DS,OS;class xN extends(OS=hu,DS=H,OS){constructor(e){super(e,"number","PgBigInt53")}build(e){return new bN(e,this.config)}}M(xN,DS,"PgBigInt53Builder");var MS,LS;class bN extends(LS=ye,MS=H,LS){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}M(bN,MS,"PgBigInt53");var VS,jS;class IN extends(jS=hu,VS=H,jS){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new CN(e,this.config)}}M(IN,VS,"PgBigInt64Builder");var FS,US;class CN extends(US=ye,FS=H,US){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}M(CN,FS,"PgBigInt64");function G9(t,e){const{name:n,config:r}=Rt(t,e);return r.mode==="number"?new xN(n):new IN(n)}var zS,$S;class AN extends($S=Re,zS=H,$S){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new PN(e,this.config)}}M(AN,zS,"PgBigSerial53Builder");var BS,HS;class PN extends(HS=ye,BS=H,HS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}M(PN,BS,"PgBigSerial53");var qS,WS;class RN extends(WS=Re,qS=H,WS){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new NN(e,this.config)}}M(RN,qS,"PgBigSerial64Builder");var GS,KS;class NN extends(KS=ye,GS=H,KS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}M(NN,GS,"PgBigSerial64");function K9(t,e){const{name:n,config:r}=Rt(t,e);return r.mode==="number"?new AN(n):new RN(n)}var QS,XS;class kN extends(XS=Re,QS=H,XS){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new DN(e,this.config)}}M(kN,QS,"PgBooleanBuilder");var ZS,YS;class DN extends(YS=ye,ZS=H,YS){getSQLType(){return"boolean"}}M(DN,ZS,"PgBoolean");function Wv(t){return new kN(t??"")}var JS,ex;class ON extends(ex=Re,JS=H,ex){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new MN(e,this.config)}}M(ON,JS,"PgCharBuilder");var tx,nx;class MN extends(nx=ye,tx=H,nx){constructor(){super(...arguments);M(this,"length",this.config.length);M(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}M(MN,tx,"PgChar");function Q9(t,e={}){const{name:n,config:r}=Rt(t,e);return new ON(n,r)}var rx,sx;class LN extends(sx=Re,rx=H,sx){constructor(e){super(e,"string","PgCidr")}build(e){return new VN(e,this.config)}}M(LN,rx,"PgCidrBuilder");var ix,ox;class VN extends(ox=ye,ix=H,ox){getSQLType(){return"cidr"}}M(VN,ix,"PgCidr");function X9(t){return new LN(t??"")}var ax,lx;class jN extends(lx=Re,ax=H,lx){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new FN(e,this.config)}}M(jN,ax,"PgCustomColumnBuilder");var cx,ux;class FN extends(ux=ye,cx=H,ux){constructor(n,r){super(n,r);M(this,"sqlName");M(this,"mapTo");M(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}M(FN,cx,"PgCustomColumn");function Z9(t){return(e,n)=>{const{name:r,config:s}=Rt(e,n);return new jN(r,s,t)}}var dx,hx;class Ka extends(hx=Re,dx=H,hx){defaultNow(){return this.default(bh`now()`)}}M(Ka,dx,"PgDateColumnBaseBuilder");var fx,px;class UN extends(px=Ka,fx=H,px){constructor(e){super(e,"date","PgDate")}build(e){return new zN(e,this.config)}}M(UN,fx,"PgDateBuilder");var mx,gx;class zN extends(gx=ye,mx=H,gx){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}M(zN,mx,"PgDate");var yx,vx;class $N extends(vx=Ka,yx=H,vx){constructor(e){super(e,"string","PgDateString")}build(e){return new BN(e,this.config)}}M($N,yx,"PgDateStringBuilder");var _x,wx;class BN extends(wx=ye,_x=H,wx){getSQLType(){return"date"}}M(BN,_x,"PgDateString");function Y9(t,e){const{name:n,config:r}=Rt(t,e);return(r==null?void 0:r.mode)==="date"?new UN(n):new $N(n)}var Ex,Tx;class HN extends(Tx=Re,Ex=H,Tx){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new qN(e,this.config)}}M(HN,Ex,"PgDoublePrecisionBuilder");var Sx,xx;class qN extends(xx=ye,Sx=H,xx){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}M(qN,Sx,"PgDoublePrecision");function J9(t){return new HN(t??"")}var bx,Ix;class WN extends(Ix=Re,bx=H,Ix){constructor(e){super(e,"string","PgInet")}build(e){return new GN(e,this.config)}}M(WN,bx,"PgInetBuilder");var Cx,Ax;class GN extends(Ax=ye,Cx=H,Ax){getSQLType(){return"inet"}}M(GN,Cx,"PgInet");function eU(t){return new WN(t??"")}var Px,Rx;class KN extends(Rx=hu,Px=H,Rx){constructor(e){super(e,"number","PgInteger")}build(e){return new QN(e,this.config)}}M(KN,Px,"PgIntegerBuilder");var Nx,kx;class QN extends(kx=ye,Nx=H,kx){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}M(QN,Nx,"PgInteger");function XN(t){return new KN(t??"")}var Dx,Ox;class ZN extends(Ox=Re,Dx=H,Ox){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new YN(e,this.config)}}M(ZN,Dx,"PgIntervalBuilder");var Mx,Lx;class YN extends(Lx=ye,Mx=H,Lx){constructor(){super(...arguments);M(this,"fields",this.config.intervalConfig.fields);M(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}M(YN,Mx,"PgInterval");function tU(t,e={}){const{name:n,config:r}=Rt(t,e);return new ZN(n,r)}var Vx,jx;class JN extends(jx=Re,Vx=H,jx){constructor(e){super(e,"json","PgJson")}build(e){return new ek(e,this.config)}}M(JN,Vx,"PgJsonBuilder");var Fx,Ux;class ek extends(Ux=ye,Fx=H,Ux){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}M(ek,Fx,"PgJson");function nU(t){return new JN(t??"")}var zx,$x;class tk extends($x=Re,zx=H,$x){constructor(e){super(e,"json","PgJsonb")}build(e){return new nk(e,this.config)}}M(tk,zx,"PgJsonbBuilder");var Bx,Hx;class nk extends(Hx=ye,Bx=H,Hx){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}M(nk,Bx,"PgJsonb");function rU(t){return new tk(t??"")}var qx,Wx;class rk extends(Wx=Re,qx=H,Wx){constructor(e){super(e,"array","PgLine")}build(e){return new sk(e,this.config)}}M(rk,qx,"PgLineBuilder");var Gx,Kx;class sk extends(Kx=ye,Gx=H,Kx){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}M(sk,Gx,"PgLine");var Qx,Xx;class ik extends(Xx=Re,Qx=H,Xx){constructor(e){super(e,"json","PgLineABC")}build(e){return new ok(e,this.config)}}M(ik,Qx,"PgLineABCBuilder");var Zx,Yx;class ok extends(Yx=ye,Zx=H,Yx){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}M(ok,Zx,"PgLineABC");function sU(t,e){const{name:n,config:r}=Rt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new rk(n):new ik(n)}var Jx,eb;class ak extends(eb=Re,Jx=H,eb){constructor(e){super(e,"string","PgMacaddr")}build(e){return new lk(e,this.config)}}M(ak,Jx,"PgMacaddrBuilder");var tb,nb;class lk extends(nb=ye,tb=H,nb){getSQLType(){return"macaddr"}}M(lk,tb,"PgMacaddr");function iU(t){return new ak(t??"")}var rb,sb;class ck extends(sb=Re,rb=H,sb){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new uk(e,this.config)}}M(ck,rb,"PgMacaddr8Builder");var ib,ob;class uk extends(ob=ye,ib=H,ob){getSQLType(){return"macaddr8"}}M(uk,ib,"PgMacaddr8");function oU(t){return new ck(t??"")}var ab,lb;class dk extends(lb=Re,ab=H,lb){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new hk(e,this.config)}}M(dk,ab,"PgNumericBuilder");var cb,ub;class hk extends(ub=ye,cb=H,ub){constructor(n,r){super(n,r);M(this,"precision");M(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}M(hk,cb,"PgNumeric");function aU(t,e){const{name:n,config:r}=Rt(t,e);return new dk(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var db,hb;class fk extends(hb=Re,db=H,hb){constructor(e){super(e,"array","PgPointTuple")}build(e){return new pk(e,this.config)}}M(fk,db,"PgPointTupleBuilder");var fb,pb;class pk extends(pb=ye,fb=H,pb){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}M(pk,fb,"PgPointTuple");var mb,gb;class mk extends(gb=Re,mb=H,gb){constructor(e){super(e,"json","PgPointObject")}build(e){return new gk(e,this.config)}}M(mk,mb,"PgPointObjectBuilder");var yb,vb;class gk extends(vb=ye,yb=H,vb){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}M(gk,yb,"PgPointObject");function lU(t,e){const{name:n,config:r}=Rt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new fk(n):new mk(n)}function cU(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function KE(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,t[e+s]);return r.getFloat64(0,!0)}function yk(t){const e=cU(t);let n=0;const r=e[n];n+=1;const s=new DataView(e.buffer),i=s.getUint32(n,r===1);if(n+=4,i&536870912&&(s.getUint32(n,r===1),n+=4),(i&65535)===1){const o=KE(e,n);n+=8;const a=KE(e,n);return n+=8,[o,a]}throw new Error("Unsupported geometry type")}var _b,wb;class vk extends(wb=Re,_b=H,wb){constructor(e){super(e,"array","PgGeometry")}build(e){return new _k(e,this.config)}}M(vk,_b,"PgGeometryBuilder");var Eb,Tb;class _k extends(Tb=ye,Eb=H,Tb){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return yk(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}M(_k,Eb,"PgGeometry");var Sb,xb;class wk extends(xb=Re,Sb=H,xb){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Ek(e,this.config)}}M(wk,Sb,"PgGeometryObjectBuilder");var bb,Ib;class Ek extends(Ib=ye,bb=H,Ib){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=yk(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}M(Ek,bb,"PgGeometryObject");function uU(t,e){const{name:n,config:r}=Rt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new vk(n):new wk(n)}var Cb,Ab;class Tk extends(Ab=Re,Cb=H,Ab){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new Sk(e,this.config)}}M(Tk,Cb,"PgRealBuilder");var Pb,Rb;class Sk extends(Rb=ye,Pb=H,Rb){constructor(n,r){super(n,r);M(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}M(Sk,Pb,"PgReal");function dU(t){return new Tk(t??"")}var Nb,kb;class xk extends(kb=Re,Nb=H,kb){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new bk(e,this.config)}}M(xk,Nb,"PgSerialBuilder");var Db,Ob;class bk extends(Ob=ye,Db=H,Ob){getSQLType(){return"serial"}}M(bk,Db,"PgSerial");function hU(t){return new xk(t??"")}var Mb,Lb;class Ik extends(Lb=hu,Mb=H,Lb){constructor(e){super(e,"number","PgSmallInt")}build(e){return new Ck(e,this.config)}}M(Ik,Mb,"PgSmallIntBuilder");var Vb,jb;class Ck extends(jb=ye,Vb=H,jb){constructor(){super(...arguments);M(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}M(Ck,Vb,"PgSmallInt");function fU(t){return new Ik(t??"")}var Fb,Ub;class Ak extends(Ub=Re,Fb=H,Ub){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Pk(e,this.config)}}M(Ak,Fb,"PgSmallSerialBuilder");var zb,$b;class Pk extends($b=ye,zb=H,$b){getSQLType(){return"smallserial"}}M(Pk,zb,"PgSmallSerial");function pU(t){return new Ak(t??"")}var Bb,Hb;class Rk extends(Hb=Re,Bb=H,Hb){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new Nk(e,this.config)}}M(Rk,Bb,"PgTextBuilder");var qb,Wb;class Nk extends(Wb=ye,qb=H,Wb){constructor(){super(...arguments);M(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}M(Nk,qb,"PgText");function kr(t,e={}){const{name:n,config:r}=Rt(t,e);return new Rk(n,r)}var Gb,Kb;class kk extends(Kb=Ka,Gb=H,Kb){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new Dk(e,this.config)}}M(kk,Gb,"PgTimeBuilder");var Qb,Xb;class Dk extends(Xb=ye,Qb=H,Xb){constructor(n,r){super(n,r);M(this,"withTimezone");M(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(Dk,Qb,"PgTime");function mU(t,e={}){const{name:n,config:r}=Rt(t,e);return new kk(n,r.withTimezone??!1,r.precision)}var Zb,Yb;class Ok extends(Yb=Ka,Zb=H,Yb){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new Mk(e,this.config)}}M(Ok,Zb,"PgTimestampBuilder");var Jb,eI;class Mk extends(eI=ye,Jb=H,eI){constructor(n,r){super(n,r);M(this,"withTimezone");M(this,"precision");M(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));M(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(Mk,Jb,"PgTimestamp");var tI,nI;class Lk extends(nI=Ka,tI=H,nI){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new Vk(e,this.config)}}M(Lk,tI,"PgTimestampStringBuilder");var rI,sI;class Vk extends(sI=ye,rI=H,sI){constructor(n,r){super(n,r);M(this,"withTimezone");M(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(Vk,rI,"PgTimestampString");function Qa(t,e={}){const{name:n,config:r}=Rt(t,e);return(r==null?void 0:r.mode)==="string"?new Lk(n,r.withTimezone??!1,r.precision):new Ok(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var iI,oI;class jk extends(oI=Re,iI=H,oI){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(bh`gen_random_uuid()`)}build(e){return new Fk(e,this.config)}}M(jk,iI,"PgUUIDBuilder");var aI,lI;class Fk extends(lI=ye,aI=H,lI){getSQLType(){return"uuid"}}M(Fk,aI,"PgUUID");function gU(t){return new jk(t??"")}var cI,uI;class Uk extends(uI=Re,cI=H,uI){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new zk(e,this.config)}}M(Uk,cI,"PgVarcharBuilder");var dI,hI;class zk extends(hI=ye,dI=H,hI){constructor(){super(...arguments);M(this,"length",this.config.length);M(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}M(zk,dI,"PgVarchar");function Dr(t,e={}){const{name:n,config:r}=Rt(t,e);return new Uk(n,r)}var fI,pI;class $k extends(pI=Re,fI=H,pI){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new Bk(e,this.config)}}M($k,fI,"PgBinaryVectorBuilder");var mI,gI;class Bk extends(gI=ye,mI=H,gI){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}M(Bk,mI,"PgBinaryVector");function yU(t,e){const{name:n,config:r}=Rt(t,e);return new $k(n,r)}var yI,vI;class Hk extends(vI=Re,yI=H,vI){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new qk(e,this.config)}}M(Hk,yI,"PgHalfVectorBuilder");var _I,wI;class qk extends(wI=ye,_I=H,wI){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}M(qk,_I,"PgHalfVector");function vU(t,e){const{name:n,config:r}=Rt(t,e);return new Hk(n,r)}var EI,TI;class Wk extends(TI=Re,EI=H,TI){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new Gk(e,this.config)}}M(Wk,EI,"PgSparseVectorBuilder");var SI,xI;class Gk extends(xI=ye,SI=H,xI){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}M(Gk,SI,"PgSparseVector");function _U(t,e){const{name:n,config:r}=Rt(t,e);return new Wk(n,r)}var bI,II;class Kk extends(II=Re,bI=H,II){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new Qk(e,this.config)}}M(Kk,bI,"PgVectorBuilder");var CI,AI;class Qk extends(AI=ye,CI=H,AI){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}M(Qk,CI,"PgVector");function wU(t,e){const{name:n,config:r}=Rt(t,e);return new Kk(n,r)}function EU(){return{bigint:G9,bigserial:K9,boolean:Wv,char:Q9,cidr:X9,customType:Z9,date:Y9,doublePrecision:J9,inet:eU,integer:XN,interval:tU,json:nU,jsonb:rU,line:sU,macaddr:iU,macaddr8:oU,numeric:aU,point:lU,geometry:uU,real:dU,serial:hU,smallint:fU,smallserial:pU,text:kr,time:mU,timestamp:Qa,uuid:gU,varchar:Dr,bit:yU,halfvec:vU,sparsevec:_U,vector:wU}}const Vg=Symbol.for("drizzle:PgInlineForeignKeys"),QE=Symbol.for("drizzle:EnableRLS");var PI,RI,NI,kI,DI;class Ch extends(DI=tn,kI=H,NI=Vg,RI=QE,PI=tn.Symbol.ExtraConfigBuilder,DI){constructor(){super(...arguments);M(this,NI,[]);M(this,RI,!1);M(this,PI)}}M(Ch,kI,"PgTable"),M(Ch,"Symbol",Object.assign({},tn.Symbol,{InlineForeignKeys:Vg,EnableRLS:QE}));function TU(t,e,n,r,s=t){const i=new Ch(t,r,s),o=typeof e=="function"?e(EU()):e,a=Object.fromEntries(Object.entries(o).map(([d,h])=>{const p=h;p.setName(d);const v=p.build(i);return i[Vg].push(...p.buildForeignKeys(v,i)),[d,v]})),l=Object.fromEntries(Object.entries(o).map(([d,h])=>{const p=h;p.setName(d);const v=p.buildExtraConfigColumn(i);return[d,v]})),u=Object.assign(i,a);return u[tn.Symbol.Columns]=a,u[tn.Symbol.ExtraConfigColumns]=l,Object.assign(u,{enableRLS:()=>(u[Ch.Symbol.EnableRLS]=!0,u)})}const fu=(t,e,n)=>TU(t,e,n,void 0);var Ae;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ae||(Ae={}));var jg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(jg||(jg={}));const Z=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wr=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},q=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),SU=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class bn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof bn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bn.create=t=>new bn(t);const ka=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===Z.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ae.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ae.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ae.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${Ae.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ae.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ae.assertNever(t)}return{message:n}};let Xk=ka;function xU(t){Xk=t}function Ah(){return Xk}const Ph=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},bU=[];function Q(t,e){const n=Ah(),r=Ph({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ka?void 0:ka].filter(s=>!!s)});t.common.issues.push(r)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ce;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Kt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ce=Object.freeze({status:"aborted"}),Ho=t=>({status:"dirty",value:t}),rn=t=>({status:"valid",value:t}),Fg=t=>t.status==="aborted",Ug=t=>t.status==="dirty",Ji=t=>t.status==="valid",Nc=t=>typeof Promise<"u"&&t instanceof Promise;function Rh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Zk(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));var Vl,jl;class Or{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const XE=(t,e)=>{if(Ji(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new bn(t.common.issues);return this._error=n,this._error}}};function ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class Ee{get description(){return this._def.description}_getType(e){return Wr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Wr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kt,ctx:{common:e.parent.common,data:e.data,parsedType:Wr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Nc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wr(e)},i=this._parseSync({data:e,path:s.path,parent:s});return XE(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return Ji(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>Ji(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wr(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Nc(s)?s:Promise.resolve(s));return XE(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:q.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new sr({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sr.create(this,this._def)}nullable(){return li.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return er.create(this)}promise(){return Oa.create(this,this._def)}or(e){return Mc.create([this,e],this._def)}and(e){return Lc.create(this,e,this._def)}transform(e){return new sr({...ge(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new zc({...ge(this._def),innerType:this,defaultValue:n,typeName:le.ZodDefault})}brand(){return new Gv({typeName:le.ZodBranded,type:this,...ge(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new $c({...ge(this._def),innerType:this,catchValue:n,typeName:le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return pu.create(this,e)}readonly(){return Bc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IU=/^c[^\s-]{8,}$/i,CU=/^[0-9a-z]+$/,AU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RU=/^[a-z0-9_-]{21}$/i,NU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,DU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,OU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let um;const MU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,LU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,VU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,UU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Yk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zU=new RegExp(`^${Yk}$`);function Jk(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function $U(t){return new RegExp(`^${Jk(t)}$`)}function e2(t){let e=`${Yk}T${Jk(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function BU(t,e){return!!((e==="v4"||!e)&&MU.test(t)||(e==="v6"||!e)&&VU.test(t))}function HU(t,e){if(!NU.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function qU(t,e){return!!((e==="v4"||!e)&&LU.test(t)||(e==="v6"||!e)&&jU.test(t))}class Qn extends Ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const i=this._getOrReturnCtx(e);return Q(i,{code:q.invalid_type,expected:Z.string,received:i.parsedType}),ce}const r=new Kt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Q(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Q(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")DU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")um||(um=new RegExp(OU,"u")),um.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")PU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")RU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")IU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")CU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")AU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Q(s,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?e2(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?zU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?$U(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?kU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?BU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?HU(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"jwt",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?qU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cidr",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?FU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?UU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"base64url",code:q.invalid_string,message:i.message}),r.dirty()):Ae.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:q.invalid_string,...re.errToObj(r)})}_addCheck(e){return new Qn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...re.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...re.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...re.errToObj(n)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qn.create=t=>{var e;return new Qn({checks:[],typeName:le.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ge(t)})};function WU(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class ii extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const i=this._getOrReturnCtx(e);return Q(i,{code:q.invalid_type,expected:Z.number,received:i.parsedType}),ce}let r;const s=new Kt;for(const i of this._def.checks)i.kind==="int"?Ae.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?WU(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:q.not_finite,message:i.message}),s.dirty()):Ae.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,re.toString(n))}setLimit(e,n,r,s){return new ii({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(e){return new ii({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ae.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ii.create=t=>new ii({checks:[],typeName:le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class oi extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Z.bigint)return this._getInvalidInput(e);let r;const s=new Kt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ae.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Q(n,{code:q.invalid_type,expected:Z.bigint,received:n.parsedType}),ce}gte(e,n){return this.setLimit("min",e,!0,re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,re.toString(n))}setLimit(e,n,r,s){return new oi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(e){return new oi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}oi.create=t=>{var e;return new oi({checks:[],typeName:le.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ge(t)})};class kc extends Ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.boolean,received:r.parsedType}),ce}return rn(e.data)}}kc.create=t=>new kc({typeName:le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class eo extends Ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const i=this._getOrReturnCtx(e);return Q(i,{code:q.invalid_type,expected:Z.date,received:i.parsedType}),ce}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Q(i,{code:q.invalid_date}),ce}const r=new Kt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ae.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new eo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}eo.create=t=>new eo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:le.ZodDate,...ge(t)});class Nh extends Ee{_parse(e){if(this._getType(e)!==Z.symbol){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.symbol,received:r.parsedType}),ce}return rn(e.data)}}Nh.create=t=>new Nh({typeName:le.ZodSymbol,...ge(t)});class Dc extends Ee{_parse(e){if(this._getType(e)!==Z.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.undefined,received:r.parsedType}),ce}return rn(e.data)}}Dc.create=t=>new Dc({typeName:le.ZodUndefined,...ge(t)});class Oc extends Ee{_parse(e){if(this._getType(e)!==Z.null){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.null,received:r.parsedType}),ce}return rn(e.data)}}Oc.create=t=>new Oc({typeName:le.ZodNull,...ge(t)});class Da extends Ee{constructor(){super(...arguments),this._any=!0}_parse(e){return rn(e.data)}}Da.create=t=>new Da({typeName:le.ZodAny,...ge(t)});class Bi extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rn(e.data)}}Bi.create=t=>new Bi({typeName:le.ZodUnknown,...ge(t)});class ss extends Ee{_parse(e){const n=this._getOrReturnCtx(e);return Q(n,{code:q.invalid_type,expected:Z.never,received:n.parsedType}),ce}}ss.create=t=>new ss({typeName:le.ZodNever,...ge(t)});class kh extends Ee{_parse(e){if(this._getType(e)!==Z.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.void,received:r.parsedType}),ce}return rn(e.data)}}kh.create=t=>new kh({typeName:le.ZodVoid,...ge(t)});class er extends Ee{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Z.array)return Q(n,{code:q.invalid_type,expected:Z.array,received:n.parsedType}),ce;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Q(n,{code:o?q.too_big:q.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Q(n,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Q(n,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Or(n,o,n.path,a)))).then(o=>Kt.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Or(n,o,n.path,a)));return Kt.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new er({...this._def,minLength:{value:e,message:re.toString(n)}})}max(e,n){return new er({...this._def,maxLength:{value:e,message:re.toString(n)}})}length(e,n){return new er({...this._def,exactLength:{value:e,message:re.toString(n)}})}nonempty(e){return this.min(1,e)}}er.create=(t,e)=>new er({type:t,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...ge(e)});function Co(t){if(t instanceof Ye){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Sr.create(Co(r))}return new Ye({...t._def,shape:()=>e})}else return t instanceof er?new er({...t._def,type:Co(t.element)}):t instanceof Sr?Sr.create(Co(t.unwrap())):t instanceof li?li.create(Co(t.unwrap())):t instanceof Mr?Mr.create(t.items.map(e=>Co(e))):t}class Ye extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ae.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Z.object){const u=this._getOrReturnCtx(e);return Q(u,{code:q.invalid_type,expected:Z.object,received:u.parsedType}),ce}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ss&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],h=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Or(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ss){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(Q(s,{code:q.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Or(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Kt.mergeObjectSync(r,u)):Kt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new Ye({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=re.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ye({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ye({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ye({...this._def,catchall:e})}pick(e){const n={};return Ae.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}omit(e){const n={};return Ae.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}deepPartial(){return Co(this)}partial(e){const n={};return Ae.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ye({...this._def,shape:()=>n})}required(e){const n={};return Ae.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Sr;)i=i._def.innerType;n[r]=i}}),new Ye({...this._def,shape:()=>n})}keyof(){return t2(Ae.objectKeys(this.shape))}}Ye.create=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strip",catchall:ss.create(),typeName:le.ZodObject,...ge(e)});Ye.strictCreate=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strict",catchall:ss.create(),typeName:le.ZodObject,...ge(e)});Ye.lazycreate=(t,e)=>new Ye({shape:t,unknownKeys:"strip",catchall:ss.create(),typeName:le.ZodObject,...ge(e)});class Mc extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new bn(a.ctx.common.issues));return Q(n,{code:q.invalid_union,unionErrors:o}),ce}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new bn(l));return Q(n,{code:q.invalid_union,unionErrors:a}),ce}}get options(){return this._def.options}}Mc.create=(t,e)=>new Mc({options:t,typeName:le.ZodUnion,...ge(e)});const Br=t=>t instanceof jc?Br(t.schema):t instanceof sr?Br(t.innerType()):t instanceof Fc?[t.value]:t instanceof ai?t.options:t instanceof Uc?Ae.objectValues(t.enum):t instanceof zc?Br(t._def.innerType):t instanceof Dc?[void 0]:t instanceof Oc?[null]:t instanceof Sr?[void 0,...Br(t.unwrap())]:t instanceof li?[null,...Br(t.unwrap())]:t instanceof Gv||t instanceof Bc?Br(t.unwrap()):t instanceof $c?Br(t._def.innerType):[];class Vf extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.object)return Q(n,{code:q.invalid_type,expected:Z.object,received:n.parsedType}),ce;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Q(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Br(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Vf({typeName:le.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...ge(r)})}}function zg(t,e){const n=Wr(t),r=Wr(e);if(t===e)return{valid:!0,data:t};if(n===Z.object&&r===Z.object){const s=Ae.objectKeys(e),i=Ae.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=zg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Z.array&&r===Z.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=zg(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===Z.date&&r===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Lc extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Fg(i)||Fg(o))return ce;const a=zg(i.value,o.value);return a.valid?((Ug(i)||Ug(o))&&n.dirty(),{status:n.value,value:a.data}):(Q(r,{code:q.invalid_intersection_types}),ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Lc.create=(t,e,n)=>new Lc({left:t,right:e,typeName:le.ZodIntersection,...ge(n)});class Mr extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.array)return Q(r,{code:q.invalid_type,expected:Z.array,received:r.parsedType}),ce;if(r.data.length<this._def.items.length)return Q(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&r.data.length>this._def.items.length&&(Q(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Or(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Kt.mergeArray(n,o)):Kt.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Mr({...this._def,rest:e})}}Mr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mr({items:t,typeName:le.ZodTuple,rest:null,...ge(e)})};class Vc extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.object)return Q(r,{code:q.invalid_type,expected:Z.object,received:r.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Or(r,a,r.path,a)),value:o._parse(new Or(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Kt.mergeObjectAsync(n,s):Kt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ee?new Vc({keyType:e,valueType:n,typeName:le.ZodRecord,...ge(r)}):new Vc({keyType:Qn.create(),valueType:e,typeName:le.ZodRecord,...ge(n)})}}class Dh extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.map)return Q(r,{code:q.invalid_type,expected:Z.map,received:r.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Or(r,a,r.path,[u,"key"])),value:i._parse(new Or(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}Dh.create=(t,e,n)=>new Dh({valueType:e,keyType:t,typeName:le.ZodMap,...ge(n)});class to extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.set)return Q(r,{code:q.invalid_type,expected:Z.set,received:r.parsedType}),ce;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Q(r,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Q(r,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return ce;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Or(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new to({...this._def,minSize:{value:e,message:re.toString(n)}})}max(e,n){return new to({...this._def,maxSize:{value:e,message:re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}to.create=(t,e)=>new to({valueType:t,minSize:null,maxSize:null,typeName:le.ZodSet,...ge(e)});class na extends Ee{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.function)return Q(n,{code:q.invalid_type,expected:Z.function,received:n.parsedType}),ce;function r(a,l){return Ph({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ah(),ka].filter(u=>!!u),issueData:{code:q.invalid_arguments,argumentsError:l}})}function s(a,l){return Ph({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ah(),ka].filter(u=>!!u),issueData:{code:q.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Oa){const a=this;return rn(async function(...l){const u=new bn([]),d=await a._def.args.parseAsync(l,i).catch(v=>{throw u.addIssue(r(l,v)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,i).catch(v=>{throw u.addIssue(s(h,v)),u})})}else{const a=this;return rn(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new bn([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,i);if(!h.success)throw new bn([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new na({...this._def,args:Mr.create(e).rest(Bi.create())})}returns(e){return new na({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new na({args:e||Mr.create([]).rest(Bi.create()),returns:n||Bi.create(),typeName:le.ZodFunction,...ge(r)})}}class jc extends Ee{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}jc.create=(t,e)=>new jc({getter:t,typeName:le.ZodLazy,...ge(e)});class Fc extends Ee{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Q(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fc.create=(t,e)=>new Fc({value:t,typeName:le.ZodLiteral,...ge(e)});function t2(t,e){return new ai({values:t,typeName:le.ZodEnum,...ge(e)})}class ai extends Ee{constructor(){super(...arguments),Vl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{expected:Ae.joinValues(r),received:n.parsedType,code:q.invalid_type}),ce}if(Rh(this,Vl)||Zk(this,Vl,new Set(this._def.values)),!Rh(this,Vl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{received:n.data,code:q.invalid_enum_value,options:r}),ce}return rn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ai.create(e,{...this._def,...n})}exclude(e,n=this._def){return ai.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Vl=new WeakMap;ai.create=t2;class Uc extends Ee{constructor(){super(...arguments),jl.set(this,void 0)}_parse(e){const n=Ae.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Z.string&&r.parsedType!==Z.number){const s=Ae.objectValues(n);return Q(r,{expected:Ae.joinValues(s),received:r.parsedType,code:q.invalid_type}),ce}if(Rh(this,jl)||Zk(this,jl,new Set(Ae.getValidEnumValues(this._def.values))),!Rh(this,jl).has(e.data)){const s=Ae.objectValues(n);return Q(r,{received:r.data,code:q.invalid_enum_value,options:s}),ce}return rn(e.data)}get enum(){return this._def.values}}jl=new WeakMap;Uc.create=(t,e)=>new Uc({values:t,typeName:le.ZodNativeEnum,...ge(e)});class Oa extends Ee{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.promise&&n.common.async===!1)return Q(n,{code:q.invalid_type,expected:Z.promise,received:n.parsedType}),ce;const r=n.parsedType===Z.promise?n.data:Promise.resolve(n.data);return rn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Oa.create=(t,e)=>new Oa({type:t,typeName:le.ZodPromise,...ge(e)});class sr extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Q(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ce;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ce:l.status==="dirty"||n.value==="dirty"?Ho(l.value):l});{if(n.value==="aborted")return ce;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ce:a.status==="dirty"||n.value==="dirty"?Ho(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ji(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ji(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ae.assertNever(s)}}sr.create=(t,e,n)=>new sr({schema:t,typeName:le.ZodEffects,effect:e,...ge(n)});sr.createWithPreprocess=(t,e,n)=>new sr({schema:e,effect:{type:"preprocess",transform:t},typeName:le.ZodEffects,...ge(n)});class Sr extends Ee{_parse(e){return this._getType(e)===Z.undefined?rn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sr.create=(t,e)=>new Sr({innerType:t,typeName:le.ZodOptional,...ge(e)});class li extends Ee{_parse(e){return this._getType(e)===Z.null?rn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}li.create=(t,e)=>new li({innerType:t,typeName:le.ZodNullable,...ge(e)});class zc extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Z.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zc.create=(t,e)=>new zc({innerType:t,typeName:le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ge(e)});class $c extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Nc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}$c.create=(t,e)=>new $c({innerType:t,typeName:le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ge(e)});class Oh extends Ee{_parse(e){if(this._getType(e)!==Z.nan){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.nan,received:r.parsedType}),ce}return{status:"valid",value:e.data}}}Oh.create=t=>new Oh({typeName:le.ZodNaN,...ge(t)});const GU=Symbol("zod_brand");class Gv extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class pu extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ce:i.status==="dirty"?(n.dirty(),Ho(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new pu({in:e,out:n,typeName:le.ZodPipeline})}}class Bc extends Ee{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ji(s)&&(s.value=Object.freeze(s.value)),s);return Nc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Bc.create=(t,e)=>new Bc({innerType:t,typeName:le.ZodReadonly,...ge(e)});function ZE(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function n2(t,e={},n){return t?Da.create().superRefine((r,s)=>{var i,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var u,d;if(!l){const h=ZE(e,r),p=(d=(u=h.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...h,fatal:p})}});if(!a){const l=ZE(e,r),u=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:u})}}):Da.create()}const KU={object:Ye.lazycreate};var le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(le||(le={}));const QU=(t,e={message:`Input not instance of ${t.name}`})=>n2(n=>n instanceof t,e),r2=Qn.create,s2=ii.create,XU=Oh.create,ZU=oi.create,i2=kc.create,YU=eo.create,JU=Nh.create,ez=Dc.create,tz=Oc.create,nz=Da.create,rz=Bi.create,sz=ss.create,iz=kh.create,oz=er.create,az=Ye.create,lz=Ye.strictCreate,cz=Mc.create,uz=Vf.create,dz=Lc.create,hz=Mr.create,fz=Vc.create,pz=Dh.create,mz=to.create,gz=na.create,yz=jc.create,vz=Fc.create,_z=ai.create,wz=Uc.create,Ez=Oa.create,YE=sr.create,Tz=Sr.create,Sz=li.create,xz=sr.createWithPreprocess,bz=pu.create,Iz=()=>r2().optional(),Cz=()=>s2().optional(),Az=()=>i2().optional(),Pz={string:t=>Qn.create({...t,coerce:!0}),number:t=>ii.create({...t,coerce:!0}),boolean:t=>kc.create({...t,coerce:!0}),bigint:t=>oi.create({...t,coerce:!0}),date:t=>eo.create({...t,coerce:!0})},Rz=ce;var dn=Object.freeze({__proto__:null,defaultErrorMap:ka,setErrorMap:xU,getErrorMap:Ah,makeIssue:Ph,EMPTY_PATH:bU,addIssueToContext:Q,ParseStatus:Kt,INVALID:ce,DIRTY:Ho,OK:rn,isAborted:Fg,isDirty:Ug,isValid:Ji,isAsync:Nc,get util(){return Ae},get objectUtil(){return jg},ZodParsedType:Z,getParsedType:Wr,ZodType:Ee,datetimeRegex:e2,ZodString:Qn,ZodNumber:ii,ZodBigInt:oi,ZodBoolean:kc,ZodDate:eo,ZodSymbol:Nh,ZodUndefined:Dc,ZodNull:Oc,ZodAny:Da,ZodUnknown:Bi,ZodNever:ss,ZodVoid:kh,ZodArray:er,ZodObject:Ye,ZodUnion:Mc,ZodDiscriminatedUnion:Vf,ZodIntersection:Lc,ZodTuple:Mr,ZodRecord:Vc,ZodMap:Dh,ZodSet:to,ZodFunction:na,ZodLazy:jc,ZodLiteral:Fc,ZodEnum:ai,ZodNativeEnum:Uc,ZodPromise:Oa,ZodEffects:sr,ZodTransformer:sr,ZodOptional:Sr,ZodNullable:li,ZodDefault:zc,ZodCatch:$c,ZodNaN:Oh,BRAND:GU,ZodBranded:Gv,ZodPipeline:pu,ZodReadonly:Bc,custom:n2,Schema:Ee,ZodSchema:Ee,late:KU,get ZodFirstPartyTypeKind(){return le},coerce:Pz,any:nz,array:oz,bigint:ZU,boolean:i2,date:YU,discriminatedUnion:uz,effect:YE,enum:_z,function:gz,instanceof:QU,intersection:dz,lazy:yz,literal:vz,map:pz,nan:XU,nativeEnum:wz,never:sz,null:tz,nullable:Sz,number:s2,object:az,oboolean:Az,onumber:Cz,optional:Tz,ostring:Iz,pipeline:bz,preprocess:xz,promise:Ez,record:fz,set:mz,strictObject:lz,string:r2,symbol:JU,transformer:YE,tuple:hz,undefined:ez,union:cz,unknown:rz,void:iz,NEVER:Rz,ZodIssueCode:q,quotelessJson:SU,ZodError:bn});const Ze={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function lt(t,e){return e.includes(t.columnType)}function Nz(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const kz=dn.union([dn.string(),dn.number(),dn.boolean(),dn.null()]),Dz=dn.union([kz,dn.record(dn.any()),dn.array(dn.any())]),Oz=dn.custom(t=>t instanceof Buffer);function o2(t,e){const n=(e==null?void 0:e.zodInstance)??dn,r=(e==null?void 0:e.coerce)??{};let s;return Nz(t)&&(s=t.enumValues.length?n.enum(t.enumValues):n.string()),s||(lt(t,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):lt(t,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):lt(t,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=t.dimensions?s.length(t.dimensions):s):lt(t,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):lt(t,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):lt(t,["PgArray"])?(s=n.array(o2(t.baseColumn,n)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=n.array(n.any()):t.dataType==="number"?s=Mz(t,n,r):t.dataType==="bigint"?s=Lz(t,n,r):t.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?s=Vz(t,n,r):t.dataType==="json"?s=Dz:t.dataType==="custom"?s=n.any():t.dataType==="buffer"&&(s=Oz)),s||(s=n.any()),s}function Mz(t,e,n){let r=t.getSQLType().includes("unsigned"),s,i,o=!1;lt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:Ze.INT8_MIN,i=r?Ze.INT8_UNSIGNED_MAX:Ze.INT8_MAX,o=!0):lt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:Ze.INT16_MIN,i=r?Ze.INT16_UNSIGNED_MAX:Ze.INT16_MAX,o=!0):lt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:Ze.INT24_MIN,i=r?Ze.INT24_UNSIGNED_MAX:Ze.INT24_MAX,o=lt(t,["MySqlMediumInt","SingleStoreMediumInt"])):lt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:Ze.INT32_MIN,i=r?Ze.INT32_UNSIGNED_MAX:Ze.INT32_MAX,o=!0):lt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:Ze.INT48_MIN,i=r?Ze.INT48_UNSIGNED_MAX:Ze.INT48_MAX):lt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||lt(t,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):lt(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let a=n===!0||n!=null&&n.number?e.coerce.number():e.number();return a=a.min(s).max(i),o?a.int():a}function Lz(t,e,n){const r=t.getSQLType().includes("unsigned"),s=r?0n:Ze.INT64_MIN,i=r?Ze.INT64_UNSIGNED_MAX:Ze.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function Vz(t,e,n){if(lt(t,["PgUUID"]))return e.string().uuid();let r,s,i=!1;lt(t,["PgVarchar","SQLiteText"])?r=t.length:lt(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??Ze.INT16_UNSIGNED_MAX:lt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=Ze.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=Ze.INT24_UNSIGNED_MAX:t.textType==="text"?r=Ze.INT16_UNSIGNED_MAX:r=Ze.INT8_UNSIGNED_MAX),lt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,i=!0),lt(t,["PgBinaryVector"])&&(s=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=s?o.regex(s):o,r&&i?o.length(r):r?o.max(r):o}function a2(t){return _N(t)?q9(t):W9(t)}function l2(t,e,n,r){const s={};for(const[i,o]of Object.entries(t)){if(!Dt(o,Na)&&!Dt(o,Tt)&&!Dt(o,Tt.Aliased)&&typeof o=="object"){const h=_N(o)||H9(o)?a2(o):o;s[i]=l2(h,e[i]??{},n,r);continue}const a=e[i];if(a!==void 0&&typeof a!="function"){s[i]=a;continue}const l=Dt(o,Na)?o:void 0,u=l?o2(l,r):dn.any(),d=typeof a=="function"?a(u):u;n.never(l)||(s[i]=d,l&&(n.nullable(l)&&(s[i]=s[i].nullable()),n.optional(l)&&(s[i]=s[i].optional())))}return dn.object(s)}const jz={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},mu=(t,e)=>{const n=a2(t);return l2(n,{},jz)},Fz=fu("users",{id:Dr("id",{length:36}).primaryKey(),displayName:kr("display_name").notNull(),photoUrl:kr("photo_url").notNull().default("https://api.dicebear.com/7.x/bottts/svg?seed=default"),lastSeen:Qa("last_seen").defaultNow()}),Uz=fu("chat_messages",{id:Dr("id",{length:36}).primaryKey(),userId:Dr("user_id",{length:36}).notNull(),text:kr("text").notNull(),isCommand:Wv("is_command").default(!1),timestamp:Qa("timestamp").defaultNow()}),zz=fu("ghost_events",{id:Dr("id",{length:36}).primaryKey(),type:kr("type").notNull(),intensity:XN("intensity").notNull().default(1),message:kr("message"),triggeredBy:Dr("triggered_by",{length:36}),timestamp:Qa("timestamp").defaultNow()}),$z=fu("evidence",{id:Dr("id",{length:36}).primaryKey(),userId:Dr("user_id",{length:36}).notNull(),evidence:kr("evidence").notNull(),displayName:kr("display_name"),timestamp:Qa("timestamp").defaultNow()}),Bz=fu("squad_status",{id:Dr("id",{length:36}).primaryKey(),userId:Dr("user_id",{length:36}).notNull().unique(),isDead:Wv("is_dead").default(!1),map:kr("map"),location:kr("location"),timestamp:Qa("timestamp").defaultNow()});mu(Fz).omit({lastSeen:!0});mu(Uz).omit({timestamp:!0});mu(zz).omit({timestamp:!0});mu($z).omit({timestamp:!0});mu(Bz).omit({timestamp:!0});const $g={Spirit:{evidence:["EMF 5","Spirit Box","Writing"],strength:"No specific strengths.",weakness:"Smudge sticks stop attacks for a long duration."},Wraith:{evidence:["EMF 5","Spirit Box","DOTS"],strength:"Never leaves footsteps; rarely touches the ground.",weakness:"Extremely affected by salt."},Phantom:{evidence:["Spirit Box","Fingerprints","DOTS"],strength:"Looking at it drains sanity faster.",weakness:"Photo makes it disappear."},Poltergeist:{evidence:["Spirit Box","Fingerprints","Writing"],strength:"Can throw multiple objects at once.",weakness:"Weak in empty rooms."},Banshee:{evidence:["Fingerprints","DOTS","Orb"],strength:"Stalks one target at a time.",weakness:"Crucifix affects it more strongly."},Jinn:{evidence:["EMF 5","Fingerprints","Freezing"],strength:"Fast when far from victim.",weakness:"Loses ability when power is off."},Mare:{evidence:["Spirit Box","Orb","Writing"],strength:"More active in darkness.",weakness:"Turning lights on reduces attack chance."},Revenant:{evidence:["Orb","Writing","Freezing"],strength:"Very fast while hunting.",weakness:"Extremely slow while wandering."},Shade:{evidence:["EMF 5","Writing","Freezing"],strength:"Very shy; low activity around groups.",weakness:"Cannot hunt with 2+ people in same room."},Demon:{evidence:["Fingerprints","Writing","Freezing"],strength:"Can hunt very early.",weakness:"Crucifix is more effective."},Yurei:{evidence:["Orb","Freezing","DOTS"],strength:"Strong sanity drain.",weakness:"Smudging room traps it inside."},Oni:{evidence:["EMF 5","Freezing","DOTS"],strength:"Very active when players nearby.",weakness:"Easy to identify by behavior."},Yokai:{evidence:["Spirit Box","Orb","DOTS"],strength:"Hunts more when players speak near it.",weakness:"Cannot hear far-away voices."},Hantu:{evidence:["Fingerprints","Orb","Freezing"],strength:"Very fast in cold areas.",weakness:"Much slower in warmer areas."},Goryo:{evidence:["EMF 5","Fingerprints","DOTS"],strength:"Appears only through camera.",weakness:"Rarely seen outside ghost room."},Myling:{evidence:["EMF 5","Fingerprints","Writing"],strength:"Very quiet while hunting.",weakness:"Parabolic mic hears it clearly."},Onryo:{evidence:["Spirit Box","Orb","Freezing"],strength:"Hunts after flames go out.",weakness:"Candles protect from hunts."},Twins:{evidence:["Spirit Box","EMF 5","Freezing"],strength:"Two distinct activity sources.",weakness:"EMF patterns reveal them."},Raiju:{evidence:["EMF 5","DOTS","Orb"],strength:"Extremely fast near electronics.",weakness:"Causes large EMF spikes."},Obake:{evidence:["EMF 5","Fingerprints","Orb"],strength:"Can shapeshift fingerprints.",weakness:"Fingerprints disappear faster."},Mimic:{evidence:["Spirit Box","Freezing","Fingerprints","Orb"],strength:"Copies behavior of any ghost.",weakness:"Always shows ghost orbs."},Moroi:{evidence:["Spirit Box","Writing","Freezing"],strength:"Curses players; heavy sanity drain.",weakness:"Smudge sticks blind it longer."},Deogen:{evidence:["Spirit Box","Writing","DOTS"],strength:"Fast when far from target.",weakness:"Very slow when close to target."},Thaye:{evidence:["Orb","Writing","DOTS"],strength:"Very active early in investigation.",weakness:"Weakens drastically over time."}},kl={Grafton:{name:"Grafton Farmhouse",size:"Small"},Tanglewood:{name:"Tanglewood Street House",size:"Small"},Edgefield:{name:"Edgefield Street House",size:"Small"},Ridgeview:{name:"Ridgeview Road House",size:"Small"},Willow:{name:"Willow Street House",size:"Small"},Bleasdale:{name:"Bleasdale Farmhouse",size:"Small"},Brownstone:{name:"Brownstone High School",size:"Medium"},Prison:{name:"Prison",size:"Medium"},Asylum:{name:"Asylum",size:"Large"},Maple:{name:"Maple Lodge Campsite",size:"Large"},Lighthouse:{name:"Point Hope Lighthouse",size:"Small"},Sunny:{name:"Sunny Meadows",size:"Large"}},Hz=[{id:"1",title:"The Silent Approach",description:"Case File 001: Encounter at Brownstone High School. Docile at firstbut EMF spikes were undeniable."},{id:"2",title:"Closet Panic",description:"Case File 002: Trapped in a closet during a hunt. EMF went critical. Survivor's adrenaline record."},{id:"3",title:"Emergency Extraction",description:"Case File 003: A Demon rushed the group. Dragged back to the van with seconds to spare."},{id:"4",title:"Ouija Board Gamble",description:"Case File 004: Asked the wrong question. Sanity wiped instantly. High-risk intel retrieval."},{id:"5",title:"The Voodoo Threat",description:"Case File 005: Mimic puppeteering a Voodoo Doll. Aggressive, persistent, and personal."},{id:"6",title:"Circle of Summoning",description:"Case File 006: Ritual circle activation. Immediate manifestationdanger level extreme."}],JE=["EMF 5","Spirit Box","Fingerprints","Orb","Writing","Freezing","DOTS"];function qz({onEvidenceChange:t}){const[e,n]=g.useState(JE.map(l=>({name:l,state:"unknown"}))),r=l=>{const u=[...e],d=u[l].state;d==="unknown"?u[l].state="confirmed":d==="confirmed"?u[l].state="ruled_out":u[l].state="unknown",n(u);const h=u.filter(p=>p.state==="confirmed").map(p=>p.name);t==null||t(h)},s=e.filter(l=>l.state==="confirmed").map(l=>l.name),i=e.filter(l=>l.state==="ruled_out").map(l=>l.name),o=Object.entries($g).filter(([l,u])=>{const d=s.every(p=>u.evidence.includes(p)),h=!i.some(p=>u.evidence.includes(p));return d&&h}),a=()=>{n(JE.map(l=>({name:l,state:"unknown"}))),t==null||t([])};return m.jsxs("div",{className:"space-y-4","data-testid":"evidence-tracker",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(WP,{className:"w-5 h-5"}),"Evidence Tracker"]}),m.jsx(_r,{variant:"ghost",size:"sm",onClick:a,className:"text-xs font-jetbrains","data-testid":"button-reset-evidence",children:"Reset"})]}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.map((l,u)=>m.jsxs("button",{onClick:()=>r(u),className:`flex items-center justify-between p-3 rounded-md border transition-all font-jetbrains text-sm ${l.state==="confirmed"?"bg-green-900/30 border-green-500 text-green-400":l.state==="ruled_out"?"bg-red-900/30 border-red-500 text-red-400 line-through opacity-60":"bg-background/30 border-primary/30 text-foreground hover:border-primary"}`,"data-testid":`button-evidence-${l.name.toLowerCase().replace(" ","-")}`,children:[m.jsx("span",{children:l.name}),l.state==="confirmed"&&m.jsx(xv,{className:"w-4 h-4"}),l.state==="ruled_out"&&m.jsx(bv,{className:"w-4 h-4"}),l.state==="unknown"&&m.jsx(N3,{className:"w-4 h-4 opacity-30"})]},l.name))}),m.jsxs("div",{className:"border-t border-primary/30 pt-4",children:[m.jsxs("h4",{className:"text-sm font-orbitron text-primary mb-2",children:["Possible Ghosts (",o.length,")"]}),m.jsx(du,{className:"h-[120px]",children:m.jsx("div",{className:"flex flex-wrap gap-2 pr-4",children:o.length===0?m.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No matching ghosts. Check your evidence."}):o.map(([l])=>m.jsx(Bv,{variant:"outline",className:"bg-primary/10 border-primary text-primary font-jetbrains",children:l},l))})})]})]})}var dm=0;function c2(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??e1()),document.body.insertAdjacentElement("beforeend",t[1]??e1()),dm++,()=>{dm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dm--}},[])}function e1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hm="focusScope.autoFocusOnMount",fm="focusScope.autoFocusOnUnmount",t1={bubbles:!1,cancelable:!0},Wz="FocusScope",Kv=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=ot(s),d=ot(i),h=g.useRef(null),p=Pe(e,_=>l(_)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let _=function(T){if(v.paused||!a)return;const k=T.target;a.contains(k)?h.current=k:Ss(h.current,{select:!0})},S=function(T){if(v.paused||!a)return;const k=T.relatedTarget;k!==null&&(a.contains(k)||Ss(h.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Ss(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),w.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){r1.add(v);const _=document.activeElement;if(!a.contains(_)){const E=new CustomEvent(hm,t1);a.addEventListener(hm,u),a.dispatchEvent(E),E.defaultPrevented||(Gz(Yz(u2(a)),{select:!0}),document.activeElement===_&&Ss(a))}return()=>{a.removeEventListener(hm,u),setTimeout(()=>{const E=new CustomEvent(fm,t1);a.addEventListener(fm,d),a.dispatchEvent(E),E.defaultPrevented||Ss(_??document.body,{select:!0}),a.removeEventListener(fm,d),r1.remove(v)},0)}}},[a,u,d,v]);const b=g.useCallback(_=>{if(!n&&!r||v.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(S&&E){const w=_.currentTarget,[T,k]=Kz(w);T&&k?!_.shiftKey&&E===k?(_.preventDefault(),n&&Ss(T,{select:!0})):_.shiftKey&&E===T&&(_.preventDefault(),n&&Ss(k,{select:!0})):E===w&&_.preventDefault()}},[n,r,v.paused]);return m.jsx(he.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});Kv.displayName=Wz;function Gz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ss(r,{select:e}),document.activeElement!==n)return}function Kz(t){const e=u2(t),n=n1(e,t),r=n1(e.reverse(),t);return[n,r]}function u2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function n1(t,e){for(const n of t)if(!Qz(n,{upTo:e}))return n}function Qz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Xz(t){return t instanceof HTMLInputElement&&"select"in t}function Ss(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Xz(t)&&e&&t.select()}}var r1=Zz();function Zz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=s1(t,e),t.unshift(e)},remove(e){var n;t=s1(t,e),(n=t[0])==null||n.resume()}}}function s1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Yz(t){return t.filter(e=>e.tagName!=="A")}function d2(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Jz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},To=new WeakMap,ld=new WeakMap,cd={},pm=0,h2=function(t){return t&&(t.host||h2(t.parentNode))},e$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=h2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},t$=function(t,e,n,r){var s=e$(e,Array.isArray(t)?t:[t]);cd[n]||(cd[n]=new WeakMap);var i=cd[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var v=p.getAttribute(r),b=v!==null&&v!=="false",_=(To.get(p)||0)+1,S=(i.get(p)||0)+1;To.set(p,_),i.set(p,S),o.push(p),_===1&&b&&ld.set(p,!0),S===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return d(e),a.clear(),pm++,function(){o.forEach(function(h){var p=To.get(h)-1,v=i.get(h)-1;To.set(h,p),i.set(h,v),p||(ld.has(h)||h.removeAttribute(r),ld.delete(h)),v||h.removeAttribute(n)}),pm--,pm||(To=new WeakMap,To=new WeakMap,ld=new WeakMap,cd={})}},f2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Jz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),t$(r,s,n,"aria-hidden")):function(){return null}},vr=function(){return vr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vr.apply(this,arguments)};function p2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function n$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Dd="right-scroll-bar-position",Od="width-before-scroll-bar",r$="with-scroll-bars-hidden",s$="--removed-body-scroll-bar-size";function mm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function i$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var o$=typeof window<"u"?g.useLayoutEffect:g.useEffect,i1=new WeakMap;function a$(t,e){var n=i$(null,function(r){return t.forEach(function(s){return mm(s,r)})});return o$(function(){var r=i1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||mm(a,null)}),i.forEach(function(a){s.has(a)||mm(a,o)})}i1.set(n,t)},[t]),n}function l$(t){return t}function c$(t,e){e===void 0&&(e=l$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function u$(t){t===void 0&&(t={});var e=c$(null);return e.options=vr({async:!0,ssr:!1},t),e}var m2=function(t){var e=t.sideCar,n=p2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,vr({},n))};m2.isSideCarExport=!0;function d$(t,e){return t.useMedium(e),m2}var g2=u$(),gm=function(){},jf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:gm,onWheelCapture:gm,onTouchMoveCapture:gm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,v=t.noIsolation,b=t.inert,_=t.allowPinchZoom,S=t.as,E=S===void 0?"div":S,w=t.gapMode,T=p2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,O=a$([n,e]),L=vr(vr({},T),s);return g.createElement(g.Fragment,null,d&&g.createElement(k,{sideCar:g2,removeScrollBar:u,shards:h,noIsolation:v,inert:b,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(a),vr(vr({},L),{ref:O})):g.createElement(E,vr({},L,{className:l,ref:O}),a))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:Od,zeroRight:Dd};var h$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function f$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=h$();return e&&t.setAttribute("nonce",e),t}function p$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function m$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var g$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=f$())&&(p$(e,n),m$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},y$=function(){var t=g$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},y2=function(){var t=y$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},v$={left:0,top:0,right:0,gap:0},ym=function(t){return parseInt(t||"",10)||0},_$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ym(n),ym(r),ym(s)]},w$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return v$;var e=_$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},E$=y2(),ra="data-scroll-locked",T$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(r$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ra,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Od,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dd," .").concat(Dd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Od," .").concat(Od,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ra,`] {
    `).concat(s$,": ").concat(a,`px;
  }
`)},o1=function(){var t=parseInt(document.body.getAttribute(ra)||"0",10);return isFinite(t)?t:0},S$=function(){g.useEffect(function(){return document.body.setAttribute(ra,(o1()+1).toString()),function(){var t=o1()-1;t<=0?document.body.removeAttribute(ra):document.body.setAttribute(ra,t.toString())}},[])},x$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;S$();var i=g.useMemo(function(){return w$(s)},[s]);return g.createElement(E$,{styles:T$(i,!e,s,n?"":"!important")})},Bg=!1;if(typeof window<"u")try{var ud=Object.defineProperty({},"passive",{get:function(){return Bg=!0,!0}});window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,ud)}catch{Bg=!1}var So=Bg?{passive:!1}:!1,b$=function(t){return t.tagName==="TEXTAREA"},v2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!b$(t)&&n[e]==="visible")},I$=function(t){return v2(t,"overflowY")},C$=function(t){return v2(t,"overflowX")},a1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_2(t,r);if(s){var i=w2(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},A$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},P$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},_2=function(t,e){return t==="v"?I$(e):C$(e)},w2=function(t,e){return t==="v"?A$(e):P$(e)},R$=function(t,e){return t==="h"&&e==="rtl"?-1:1},N$=function(t,e,n,r,s){var i=R$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,p=0;do{var v=w2(t,a),b=v[0],_=v[1],S=v[2],E=_-S-i*b;(b||E)&&_2(t,a)&&(h+=E,p+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},dd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},l1=function(t){return[t.deltaX,t.deltaY]},c1=function(t){return t&&"current"in t?t.current:t},k$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},D$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},O$=0,xo=[];function M$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(O$++)[0],i=g.useState(y2)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=n$([t.lockRef.current],(t.shards||[]).map(c1),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var E=dd(_),w=n.current,T="deltaX"in _?_.deltaX:w[0]-E[0],k="deltaY"in _?_.deltaY:w[1]-E[1],O,L=_.target,I=Math.abs(T)>Math.abs(k)?"h":"v";if("touches"in _&&I==="h"&&L.type==="range")return!1;var x=a1(I,L);if(!x)return!0;if(x?O=I:(O=I==="v"?"h":"v",x=a1(I,L)),!x)return!1;if(!r.current&&"changedTouches"in _&&(T||k)&&(r.current=O),!O)return!0;var C=r.current||O;return N$(C,S,_,C==="h"?T:k,!0)},[]),l=g.useCallback(function(_){var S=_;if(!(!xo.length||xo[xo.length-1]!==i)){var E="deltaY"in S?l1(S):dd(S),w=e.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&k$(O.delta,E)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(c1).filter(Boolean).filter(function(O){return O.contains(S.target)}),k=T.length>0?a(S,T[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),u=g.useCallback(function(_,S,E,w){var T={name:_,delta:S,target:E,should:w,shadowParent:L$(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(k){return k!==T})},1)},[]),d=g.useCallback(function(_){n.current=dd(_),r.current=void 0},[]),h=g.useCallback(function(_){u(_.type,l1(_),_.target,a(_,t.lockRef.current))},[]),p=g.useCallback(function(_){u(_.type,dd(_),_.target,a(_,t.lockRef.current))},[]);g.useEffect(function(){return xo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,So),document.addEventListener("touchmove",l,So),document.addEventListener("touchstart",d,So),function(){xo=xo.filter(function(_){return _!==i}),document.removeEventListener("wheel",l,So),document.removeEventListener("touchmove",l,So),document.removeEventListener("touchstart",d,So)}},[]);var v=t.removeScrollBar,b=t.inert;return g.createElement(g.Fragment,null,b?g.createElement(i,{styles:D$(s)}):null,v?g.createElement(x$,{gapMode:t.gapMode}):null)}function L$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const V$=d$(g2,M$);var Qv=g.forwardRef(function(t,e){return g.createElement(jf,vr({},t,{ref:e,sideCar:V$}))});Qv.classNames=jf.classNames;var j$=[" ","Enter","ArrowUp","ArrowDown"],F$=[" ","Enter"],gu="Select",[Ff,Uf,U$]=wv(gu),[Xa,CQ]=or(gu,[U$,Rf]),zf=Rf(),[z$,_i]=Xa(gu),[$$,B$]=Xa(gu),E2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:v,form:b}=t,_=zf(e),[S,E]=g.useState(null),[w,T]=g.useState(null),[k,O]=g.useState(!1),L=Of(u),[I=!1,x]=Ca({prop:r,defaultProp:s,onChange:i}),[C,P]=Ca({prop:o,defaultProp:a,onChange:l}),N=g.useRef(null),D=S?b||!!S.closest("form"):!0,[R,B]=g.useState(new Set),ee=Array.from(R).map(te=>te.props.value).join(";");return m.jsx(N5,{..._,children:m.jsxs(z$,{required:v,scope:e,trigger:S,onTriggerChange:E,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:$i(),value:C,onValueChange:P,open:I,onOpenChange:x,dir:L,triggerPointerDownPosRef:N,disabled:p,children:[m.jsx(Ff.Provider,{scope:e,children:m.jsx($$,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(te=>{B(pe=>new Set(pe).add(te))},[]),onNativeOptionRemove:g.useCallback(te=>{B(pe=>{const F=new Set(pe);return F.delete(te),F})},[]),children:n})}),D?m.jsxs(W2,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:h,value:C,onChange:te=>P(te.target.value),disabled:p,form:b,children:[C===void 0?m.jsx("option",{value:""}):null,Array.from(R)]},ee):null]})})};E2.displayName=gu;var T2="SelectTrigger",S2=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=zf(n),o=_i(T2,n),a=o.disabled||r,l=Pe(e,o.onTriggerChange),u=Uf(n),d=g.useRef("touch"),[h,p,v]=G2(_=>{const S=u().filter(T=>!T.disabled),E=S.find(T=>T.value===o.value),w=K2(S,_,E);w!==void 0&&o.onValueChange(w.value)}),b=_=>{a||(o.onOpenChange(!0),v()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return m.jsx(PR,{asChild:!0,...i,children:m.jsx(he.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":q2(o.value)?"":void 0,...s,ref:l,onClick:se(s.onClick,_=>{_.currentTarget.focus(),d.current!=="mouse"&&b(_)}),onPointerDown:se(s.onPointerDown,_=>{d.current=_.pointerType;const S=_.target;S.hasPointerCapture(_.pointerId)&&S.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(b(_),_.preventDefault())}),onKeyDown:se(s.onKeyDown,_=>{const S=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&p(_.key),!(S&&_.key===" ")&&j$.includes(_.key)&&(b(),_.preventDefault())})})})});S2.displayName=T2;var x2="SelectValue",b2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=_i(x2,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=Pe(e,l.onValueNodeChange);return gt(()=>{u(d)},[u,d]),m.jsx(he.span,{...a,ref:h,style:{pointerEvents:"none"},children:q2(l.value)?m.jsx(m.Fragment,{children:o}):i})});b2.displayName=x2;var H$="SelectIcon",I2=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return m.jsx(he.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});I2.displayName=H$;var q$="SelectPortal",C2=t=>m.jsx(Sf,{asChild:!0,...t});C2.displayName=q$;var no="SelectContent",A2=g.forwardRef((t,e)=>{const n=_i(no,t.__scopeSelect),[r,s]=g.useState();if(gt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ho.createPortal(m.jsx(P2,{scope:t.__scopeSelect,children:m.jsx(Ff.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),i):null}return m.jsx(R2,{...t,ref:e})});A2.displayName=no;var $n=10,[P2,wi]=Xa(no),W$="SelectContentImpl",G$=Ia("SelectContent.RemoveScroll"),R2=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:_,avoidCollisions:S,...E}=t,w=_i(no,n),[T,k]=g.useState(null),[O,L]=g.useState(null),I=Pe(e,oe=>k(oe)),[x,C]=g.useState(null),[P,N]=g.useState(null),D=Uf(n),[R,B]=g.useState(!1),ee=g.useRef(!1);g.useEffect(()=>{if(T)return f2(T)},[T]),c2();const te=g.useCallback(oe=>{const[Ve,...vt]=D().map(De=>De.ref.current),[Ue]=vt.slice(-1),Oe=document.activeElement;for(const De of oe)if(De===Oe||(De==null||De.scrollIntoView({block:"nearest"}),De===Ve&&O&&(O.scrollTop=0),De===Ue&&O&&(O.scrollTop=O.scrollHeight),De==null||De.focus(),document.activeElement!==Oe))return},[D,O]),pe=g.useCallback(()=>te([x,T]),[te,x,T]);g.useEffect(()=>{R&&pe()},[R,pe]);const{onOpenChange:F,triggerPointerDownPosRef:G}=w;g.useEffect(()=>{if(T){let oe={x:0,y:0};const Ve=Ue=>{var Oe,De;oe={x:Math.abs(Math.round(Ue.pageX)-(((Oe=G.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((De=G.current)==null?void 0:De.y)??0))}},vt=Ue=>{oe.x<=10&&oe.y<=10?Ue.preventDefault():T.contains(Ue.target)||F(!1),document.removeEventListener("pointermove",Ve),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",vt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",vt,{capture:!0})}}},[T,F,G]),g.useEffect(()=>{const oe=()=>F(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[F]);const[ne,de]=G2(oe=>{const Ve=D().filter(Oe=>!Oe.disabled),vt=Ve.find(Oe=>Oe.ref.current===document.activeElement),Ue=K2(Ve,oe,vt);Ue&&setTimeout(()=>Ue.ref.current.focus())}),ke=g.useCallback((oe,Ve,vt)=>{const Ue=!ee.current&&!vt;(w.value!==void 0&&w.value===Ve||Ue)&&(C(oe),Ue&&(ee.current=!0))},[w.value]),xt=g.useCallback(()=>T==null?void 0:T.focus(),[T]),Qe=g.useCallback((oe,Ve,vt)=>{const Ue=!ee.current&&!vt;(w.value!==void 0&&w.value===Ve||Ue)&&N(oe)},[w.value]),ln=r==="popper"?Hg:N2,yt=ln===Hg?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:_,avoidCollisions:S}:{};return m.jsx(P2,{scope:n,content:T,viewport:O,onViewportChange:L,itemRefCallback:ke,selectedItem:x,onItemLeave:xt,itemTextRefCallback:Qe,focusSelectedItem:pe,selectedItemText:P,position:r,isPositioned:R,searchRef:ne,children:m.jsx(Qv,{as:G$,allowPinchZoom:!0,children:m.jsx(Kv,{asChild:!0,trapped:w.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:se(s,oe=>{var Ve;(Ve=w.trigger)==null||Ve.focus({preventScroll:!0}),oe.preventDefault()}),children:m.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:m.jsx(ln,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:oe=>oe.preventDefault(),...E,...yt,onPlaced:()=>B(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:se(E.onKeyDown,oe=>{const Ve=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Ve&&oe.key.length===1&&de(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ue=D().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Oe=oe.target,De=Ue.indexOf(Oe);Ue=Ue.slice(De+1)}setTimeout(()=>te(Ue)),oe.preventDefault()}})})})})})})});R2.displayName=W$;var K$="SelectItemAlignedPosition",N2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=_i(no,n),o=wi(no,n),[a,l]=g.useState(null),[u,d]=g.useState(null),h=Pe(e,I=>d(I)),p=Uf(n),v=g.useRef(!1),b=g.useRef(!0),{viewport:_,selectedItem:S,selectedItemText:E,focusSelectedItem:w}=o,T=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&_&&S&&E){const I=i.trigger.getBoundingClientRect(),x=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=P.left-x.left,De=C.left-Oe,Nt=I.left-De,yn=I.width+Nt,Ti=Math.max(yn,x.width),Fr=window.innerWidth-$n,Ur=Mg(De,[$n,Math.max($n,Fr-Ti)]);a.style.minWidth=yn+"px",a.style.left=Ur+"px"}else{const Oe=x.right-P.right,De=window.innerWidth-C.right-Oe,Nt=window.innerWidth-I.right-De,yn=I.width+Nt,Ti=Math.max(yn,x.width),Fr=window.innerWidth-$n,Ur=Mg(De,[$n,Math.max($n,Fr-Ti)]);a.style.minWidth=yn+"px",a.style.right=Ur+"px"}const N=p(),D=window.innerHeight-$n*2,R=_.scrollHeight,B=window.getComputedStyle(u),ee=parseInt(B.borderTopWidth,10),te=parseInt(B.paddingTop,10),pe=parseInt(B.borderBottomWidth,10),F=parseInt(B.paddingBottom,10),G=ee+te+R+F+pe,ne=Math.min(S.offsetHeight*5,G),de=window.getComputedStyle(_),ke=parseInt(de.paddingTop,10),xt=parseInt(de.paddingBottom,10),Qe=I.top+I.height/2-$n,ln=D-Qe,yt=S.offsetHeight/2,oe=S.offsetTop+yt,Ve=ee+te+oe,vt=G-Ve;if(Ve<=Qe){const Oe=N.length>0&&S===N[N.length-1].ref.current;a.style.bottom="0px";const De=u.clientHeight-_.offsetTop-_.offsetHeight,Nt=Math.max(ln,yt+(Oe?xt:0)+De+pe),yn=Ve+Nt;a.style.height=yn+"px"}else{const Oe=N.length>0&&S===N[0].ref.current;a.style.top="0px";const Nt=Math.max(Qe,ee+_.offsetTop+(Oe?ke:0)+yt)+vt;a.style.height=Nt+"px",_.scrollTop=Ve-Qe+_.offsetTop}a.style.margin=`${$n}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,a,u,_,S,E,i.dir,r]);gt(()=>T(),[T]);const[k,O]=g.useState();gt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const L=g.useCallback(I=>{I&&b.current===!0&&(T(),w==null||w(),b.current=!1)},[T,w]);return m.jsx(X$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:L,children:m.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:m.jsx(he.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});N2.displayName=K$;var Q$="SelectPopperPosition",Hg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=$n,...i}=t,o=zf(n);return m.jsx(RR,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hg.displayName=Q$;var[X$,Xv]=Xa(no,{}),qg="SelectViewport",k2=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=wi(qg,n),o=Xv(qg,n),a=Pe(e,i.onViewportChange),l=g.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(Ff.Slot,{scope:n,children:m.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const v=Math.abs(l.current-d.scrollTop);if(v>0){const b=window.innerHeight-$n*2,_=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),E=Math.max(_,S);if(E<b){const w=E+v,T=Math.min(b,w),k=w-T;h.style.height=T+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});k2.displayName=qg;var D2="SelectGroup",[Z$,Y$]=Xa(D2),J$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$i();return m.jsx(Z$,{scope:n,id:s,children:m.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:e})})});J$.displayName=D2;var O2="SelectLabel",M2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Y$(O2,n);return m.jsx(he.div,{id:s.id,...r,ref:e})});M2.displayName=O2;var Mh="SelectItem",[eB,L2]=Xa(Mh),V2=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=_i(Mh,n),l=wi(Mh,n),u=a.value===r,[d,h]=g.useState(i??""),[p,v]=g.useState(!1),b=Pe(e,w=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,w,r,s)}),_=$i(),S=g.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(eB,{scope:n,value:r,disabled:s,textId:_,isSelected:u,onItemTextChange:g.useCallback(w=>{h(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:m.jsx(Ff.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:m.jsx(he.div,{role:"option","aria-labelledby":_,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:se(o.onFocus,()=>v(!0)),onBlur:se(o.onBlur,()=>v(!1)),onClick:se(o.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:se(o.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:se(o.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:se(o.onPointerMove,w=>{var T;S.current=w.pointerType,s?(T=l.onItemLeave)==null||T.call(l):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:se(o.onKeyDown,w=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(F$.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});V2.displayName=Mh;var Fl="SelectItemText",j2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=_i(Fl,n),a=wi(Fl,n),l=L2(Fl,n),u=B$(Fl,n),[d,h]=g.useState(null),p=Pe(e,E=>h(E),l.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,l.value,l.disabled)}),v=d==null?void 0:d.textContent,b=g.useMemo(()=>m.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:_,onNativeOptionRemove:S}=u;return gt(()=>(_(b),()=>S(b)),[_,S,b]),m.jsxs(m.Fragment,{children:[m.jsx(he.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ho.createPortal(i.children,o.valueNode):null]})});j2.displayName=Fl;var F2="SelectItemIndicator",U2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return L2(F2,n).isSelected?m.jsx(he.span,{"aria-hidden":!0,...r,ref:e}):null});U2.displayName=F2;var Wg="SelectScrollUpButton",z2=g.forwardRef((t,e)=>{const n=wi(Wg,t.__scopeSelect),r=Xv(Wg,t.__scopeSelect),[s,i]=g.useState(!1),o=Pe(e,r.onScrollButtonChange);return gt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?m.jsx(B2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});z2.displayName=Wg;var Gg="SelectScrollDownButton",$2=g.forwardRef((t,e)=>{const n=wi(Gg,t.__scopeSelect),r=Xv(Gg,t.__scopeSelect),[s,i]=g.useState(!1),o=Pe(e,r.onScrollButtonChange);return gt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?m.jsx(B2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});$2.displayName=Gg;var B2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=wi("SelectScrollButton",n),o=g.useRef(null),a=Uf(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),gt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),m.jsx(he.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{l()})})}),tB="SelectSeparator",H2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx(he.div,{"aria-hidden":!0,...r,ref:e})});H2.displayName=tB;var Kg="SelectArrow",nB=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zf(n),i=_i(Kg,n),o=wi(Kg,n);return i.open&&o.position==="popper"?m.jsx(NR,{...s,...r,ref:e}):null});nB.displayName=Kg;function q2(t){return t===""||t===void 0}var W2=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=Pe(e,s),o=d2(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),m.jsx(cu,{asChild:!0,children:m.jsx("select",{...r,ref:i,defaultValue:n})})});W2.displayName="BubbleSelect";function G2(t){const e=ot(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function K2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=rB(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function rB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sB=E2,Q2=S2,iB=b2,oB=I2,aB=C2,X2=A2,lB=k2,Z2=M2,Y2=V2,cB=j2,uB=U2,J2=z2,eD=$2,tD=H2;const nD=sB,rD=iB,Zv=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(Q2,{ref:r,className:Te("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(oB,{asChild:!0,children:m.jsx(HP,{className:"h-4 w-4 opacity-50"})})]}));Zv.displayName=Q2.displayName;const sD=g.forwardRef(({className:t,...e},n)=>m.jsx(J2,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(C3,{className:"h-4 w-4"})}));sD.displayName=J2.displayName;const iD=g.forwardRef(({className:t,...e},n)=>m.jsx(eD,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(HP,{className:"h-4 w-4"})}));iD.displayName=eD.displayName;const Yv=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>m.jsx(aB,{children:m.jsxs(X2,{ref:s,className:Te("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(sD,{}),m.jsx(lB,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(iD,{})]})}));Yv.displayName=X2.displayName;const dB=g.forwardRef(({className:t,...e},n)=>m.jsx(Z2,{ref:n,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));dB.displayName=Z2.displayName;const Jv=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(Y2,{ref:r,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(uB,{children:m.jsx(xv,{className:"h-4 w-4"})})}),m.jsx(cB,{children:e})]}));Jv.displayName=Y2.displayName;const hB=g.forwardRef(({className:t,...e},n)=>m.jsx(tD,{ref:n,className:Te("-mx-1 my-1 h-px bg-muted",t),...e}));hB.displayName=tD.displayName;function fB(){const[t,e]=g.useState(""),n=t?$g[t]:null,r=Object.keys($g).sort();return m.jsxs("div",{className:"space-y-4","data-testid":"ghost-profile",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(BP,{className:"w-5 h-5"}),"Ghost Database"]}),m.jsxs(nD,{value:t,onValueChange:e,children:[m.jsx(Zv,{className:"bg-background/50 border-primary font-jetbrains","data-testid":"select-ghost",children:m.jsx(rD,{placeholder:"--- Select Ghost Type ---"})}),m.jsx(Yv,{className:"bg-card border-primary max-h-[300px]",children:r.map(s=>m.jsx(Jv,{value:s,className:"font-jetbrains",children:s},s))})]}),n?m.jsxs("div",{className:"log-container space-y-4","data-testid":"ghost-info",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(bc,{className:"w-6 h-6 text-accent"}),m.jsx("h4",{className:"text-xl font-orbitron text-accent text-glow-cyan",children:t})]}),m.jsx("div",{className:"border-b border-primary/50 pb-2"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-primary font-bold font-jetbrains mb-1",children:"Evidence:"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:n.evidence.map(s=>m.jsx(Bv,{variant:"outline",className:"bg-accent/10 border-accent text-accent font-jetbrains",children:s},s))})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(XP,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-primary font-bold font-jetbrains",children:"Strength:"}),m.jsx("p",{className:"text-sm text-foreground font-jetbrains",children:n.strength})]})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(V3,{className:"w-4 h-4 text-green-400 mt-0.5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-primary font-bold font-jetbrains",children:"Weakness:"}),m.jsx("p",{className:"text-sm text-foreground font-jetbrains",children:n.weakness})]})]})]})]}):m.jsxs("div",{className:"log-container text-center py-8",children:[m.jsx(bc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm",children:"Select a ghost type to view its profile"})]})]})}var e_="Dialog",[oD,AQ]=or(e_),[pB,lr]=oD(e_),aD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u=!1,d]=Ca({prop:r,defaultProp:s,onChange:i});return m.jsx(pB,{scope:e,triggerRef:a,contentRef:l,contentId:$i(),titleId:$i(),descriptionId:$i(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};aD.displayName=e_;var lD="DialogTrigger",mB=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(lD,n),i=Pe(e,s.triggerRef);return m.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":r_(s.open),...r,ref:i,onClick:se(t.onClick,s.onOpenToggle)})});mB.displayName=lD;var t_="DialogPortal",[gB,cD]=oD(t_,{forceMount:void 0}),uD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=lr(t_,e);return m.jsx(gB,{scope:e,forceMount:n,children:g.Children.map(r,o=>m.jsx(ar,{present:n||i.open,children:m.jsx(Sf,{asChild:!0,container:s,children:o})}))})};uD.displayName=t_;var Lh="DialogOverlay",dD=g.forwardRef((t,e)=>{const n=cD(Lh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=lr(Lh,t.__scopeDialog);return i.modal?m.jsx(ar,{present:r||i.open,children:m.jsx(vB,{...s,ref:e})}):null});dD.displayName=Lh;var yB=Ia("DialogOverlay.RemoveScroll"),vB=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(Lh,n);return m.jsx(Qv,{as:yB,allowPinchZoom:!0,shards:[s.contentRef],children:m.jsx(he.div,{"data-state":r_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ro="DialogContent",hD=g.forwardRef((t,e)=>{const n=cD(ro,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=lr(ro,t.__scopeDialog);return m.jsx(ar,{present:r||i.open,children:i.modal?m.jsx(_B,{...s,ref:e}):m.jsx(wB,{...s,ref:e})})});hD.displayName=ro;var _B=g.forwardRef((t,e)=>{const n=lr(ro,t.__scopeDialog),r=g.useRef(null),s=Pe(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return f2(i)},[]),m.jsx(fD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),wB=g.forwardRef((t,e)=>{const n=lr(ro,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return m.jsx(fD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),fD=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=lr(ro,n),l=g.useRef(null),u=Pe(e,l);return c2(),m.jsxs(m.Fragment,{children:[m.jsx(Kv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:m.jsx(lu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":r_(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(EB,{titleId:a.titleId}),m.jsx(SB,{contentRef:l,descriptionId:a.descriptionId})]})]})}),n_="DialogTitle",pD=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(n_,n);return m.jsx(he.h2,{id:s.titleId,...r,ref:e})});pD.displayName=n_;var mD="DialogDescription",gD=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(mD,n);return m.jsx(he.p,{id:s.descriptionId,...r,ref:e})});gD.displayName=mD;var yD="DialogClose",vD=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(yD,n);return m.jsx(he.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});vD.displayName=yD;function r_(t){return t?"open":"closed"}var _D="DialogTitleWarning",[PQ,wD]=MF(_D,{contentName:ro,titleName:n_,docsSlug:"dialog"}),EB=({titleId:t})=>{const e=wD(_D),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},TB="DialogDescriptionWarning",SB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wD(TB).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},xB=aD,bB=uD,ED=dD,TD=hD,SD=pD,xD=gD,IB=vD;const CB=xB,AB=bB,bD=g.forwardRef(({className:t,...e},n)=>m.jsx(ED,{ref:n,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));bD.displayName=ED.displayName;const ID=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(AB,{children:[m.jsx(bD,{}),m.jsxs(TD,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(IB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(bv,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ID.displayName=TD.displayName;const CD=({className:t,...e})=>m.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});CD.displayName="DialogHeader";const AD=g.forwardRef(({className:t,...e},n)=>m.jsx(SD,{ref:n,className:Te("text-lg font-semibold leading-none tracking-tight",t),...e}));AD.displayName=SD.displayName;const PD=g.forwardRef(({className:t,...e},n)=>m.jsx(xD,{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));PD.displayName=xD.displayName;const PB="/PhasmophobiaBroadsHeadQuarters/",RB={1:"case1_1764775148686.jpg",2:"case2_1764775148687.jpg",3:"case3_1764775148687.jpg",4:"case4_1764775148688.jpg",5:"case5_1764775148688.jpg",6:"case6_1764775148688.jpg"};function u1(t){const e=RB[t];return e?`${PB}assets/${e}`:null}function NB(){const[t,e]=g.useState(null);return m.jsxs("div",{className:"space-y-4","data-testid":"case-files-gallery",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(GP,{className:"w-5 h-5"}),"Case Files Archive"]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Hz.map(n=>{const r=u1(n.id);return m.jsxs(Df,{onClick:()=>e(n),className:"cursor-pointer overflow-hidden border-primary bg-background/50 hover:border-accent transition-all group",style:{boxShadow:"0 0 8px hsl(280 85% 50% / 0.3)"},"data-testid":`card-case-${n.id}`,children:[m.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[r&&m.jsx("img",{src:r,alt:n.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/20 to-transparent"}),m.jsxs("span",{className:"absolute bottom-2 left-2 text-xs font-orbitron text-accent text-glow-cyan",children:["#",n.id.padStart(3,"0")]})]}),m.jsx("div",{className:"p-2",children:m.jsx("p",{className:"text-xs font-jetbrains text-foreground truncate",children:n.title})})]},n.id)})}),m.jsx(CB,{open:!!t,onOpenChange:()=>e(null),children:m.jsxs(ID,{className:"bg-background border-accent max-w-2xl",style:{boxShadow:"0 0 60px hsl(187 100% 66% / 0.3)"},children:[m.jsxs(CD,{children:[m.jsx(AD,{className:"font-orbitron text-accent text-glow-cyan text-xl",children:t==null?void 0:t.title}),m.jsxs(PD,{className:"sr-only",children:["Case file details for ",t==null?void 0:t.title]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"aspect-video rounded-lg overflow-hidden border-2 border-accent/50",style:{boxShadow:"0 0 20px hsl(187 100% 66% / 0.4)"},children:(()=>{const n=t?u1(t.id):null;return n?m.jsx("img",{src:n,alt:(t==null?void 0:t.title)||"",className:"w-full h-full object-cover"}):null})()}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{className:"text-sm text-primary font-orbitron text-glow-purple",children:["Case #",t==null?void 0:t.id.padStart(3,"0")]}),m.jsx("p",{className:"text-foreground font-jetbrains text-sm leading-relaxed",children:t==null?void 0:t.description})]})]})]})})]})}function kB({roomName:t="PhasmoBroadsHQ"}){const[e,n]=g.useState(!1),{displayName:r}=fo(),s=()=>{n(!0);const i=`https://meet.jit.si/${t}#userInfo.displayName="${encodeURIComponent(r||"GhostHunter")}"`;setTimeout(()=>{window.open(i,"_blank","noopener,noreferrer"),n(!1)},1500)};return m.jsxs(m.Fragment,{children:[m.jsxs(_r,{onClick:s,disabled:e,className:`
          relative overflow-visible
          bg-red-900/80 hover:bg-red-800 
          border-2 border-red-500 
          text-white font-orbitron uppercase tracking-wider
          transition-all duration-300
          ${e?"animate-shake":""}
        `,style:{boxShadow:e?"0 0 30px rgba(239, 68, 68, 0.9), 0 0 60px rgba(239, 68, 68, 0.6), 0 0 90px rgba(239, 68, 68, 0.3)":"0 0 15px rgba(239, 68, 68, 0.6), 0 0 30px rgba(239, 68, 68, 0.3)"},"data-testid":"button-video-call",children:[m.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e?m.jsx(k3,{className:"w-5 h-5 animate-pulse"}):m.jsx(D3,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:e?"Connecting...":"Squad Call"})]}),m.jsx("span",{className:"absolute inset-0 rounded-md opacity-50",style:{background:"radial-gradient(circle at center, rgba(239, 68, 68, 0.4) 0%, transparent 70%)",animation:"pulse 2s ease-in-out infinite"}}),m.jsx("span",{className:"absolute -inset-1 rounded-lg opacity-30 blur-sm",style:{background:"linear-gradient(45deg, #ef4444, #dc2626, #ef4444)",animation:e?"none":"glow-pulse 3s ease-in-out infinite"}})]}),m.jsx("style",{children:`
        @keyframes glow-pulse {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 0.6; }
        }
      `})]})}function DB({members:t}){const e=t.filter(n=>!n.isDead).length;return m.jsxs("div",{className:"space-y-4","data-testid":"squad-status",children:[m.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(Pg,{className:"w-5 h-5"}),"Squad Status"]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs(Bv,{variant:"outline",className:`font-jetbrains ${e>0?"border-green-500 text-green-400":"border-red-500 text-red-400"}`,children:[e,"/",t.length," Active"]}),m.jsx(kB,{roomName:"PhasmoBroadsHQ"})]})]}),m.jsx(du,{className:"h-[280px]",children:m.jsx("div",{className:"space-y-3 pr-4",children:t.length===0?m.jsxs("div",{className:"log-container text-center py-8",children:[m.jsx(Pg,{className:"w-10 h-10 text-muted-foreground mx-auto mb-2 opacity-30"}),m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm",children:"No squad members online"}),m.jsx("p",{className:"text-xs text-muted-foreground/60 font-jetbrains mt-2",children:"Click the red phone to start a video call"})]}):t.map(n=>m.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border-2 transition-all ${n.isDead?"bg-red-950/20 border-red-500/50":"bg-green-950/20 border-green-500/50"}`,"data-testid":`squad-member-${n.id}`,children:[m.jsxs(Ac,{className:`w-10 h-10 border-2 ${n.isDead?"border-red-500":"border-green-500"}`,children:[m.jsx(Pc,{src:n.photoUrl,alt:n.displayName}),m.jsx(Rc,{className:"bg-primary/20 text-accent text-xs font-orbitron",children:n.displayName.slice(0,2).toUpperCase()})]}),m.jsxs("div",{className:"flex-grow min-w-0",children:[m.jsx("p",{className:"font-bold text-foreground font-jetbrains truncate",children:n.displayName}),m.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground font-jetbrains",children:[m.jsx(R3,{className:"w-3 h-3 text-primary"}),n.isDead?m.jsx("span",{className:"text-red-400",children:"DECEASED"}):m.jsxs("span",{className:"truncate",children:[n.map,"  ",n.location]})]})]}),m.jsx("div",{className:`p-2 rounded-full ${n.isDead?"bg-red-500/20":"bg-green-500/20"}`,children:n.isDead?m.jsx(QP,{className:"w-5 h-5 text-red-500"}):m.jsx(P3,{className:"w-5 h-5 text-green-500"})})]},n.id))})})]})}var OB="Label",RD=g.forwardRef((t,e)=>m.jsx(he.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RD.displayName=OB;var ND=RD;const MB=If("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Md=g.forwardRef(({className:t,...e},n)=>m.jsx(ND,{ref:n,className:Te(MB(),t),...e}));Md.displayName=ND.displayName;var vm="rovingFocusGroup.onEntryFocus",LB={bubbles:!1,cancelable:!0},$f="RovingFocusGroup",[Qg,kD,VB]=wv($f),[jB,DD]=or($f,[VB]),[FB,UB]=jB($f),OD=g.forwardRef((t,e)=>m.jsx(Qg.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Qg.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(zB,{...t,ref:e})})}));OD.displayName=$f;var zB=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=g.useRef(null),v=Pe(e,p),b=Of(i),[_=null,S]=Ca({prop:o,defaultProp:a,onChange:l}),[E,w]=g.useState(!1),T=ot(u),k=kD(n),O=g.useRef(!1),[L,I]=g.useState(0);return g.useEffect(()=>{const x=p.current;if(x)return x.addEventListener(vm,T),()=>x.removeEventListener(vm,T)},[T]),m.jsx(FB,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:_,onItemFocus:g.useCallback(x=>S(x),[S]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>I(x=>x+1),[]),onFocusableItemRemove:g.useCallback(()=>I(x=>x-1),[]),children:m.jsx(he.div,{tabIndex:E||L===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{O.current=!0}),onFocus:se(t.onFocus,x=>{const C=!O.current;if(x.target===x.currentTarget&&C&&!E){const P=new CustomEvent(vm,LB);if(x.currentTarget.dispatchEvent(P),!P.defaultPrevented){const N=k().filter(te=>te.focusable),D=N.find(te=>te.active),R=N.find(te=>te.id===_),ee=[D,R,...N].filter(Boolean).map(te=>te.ref.current);VD(ee,d)}}O.current=!1}),onBlur:se(t.onBlur,()=>w(!1))})})}),MD="RovingFocusGroupItem",LD=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=$i(),l=i||a,u=UB(MD,n),d=u.currentTabStopId===l,h=kD(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return g.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),m.jsx(Qg.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:m.jsx(he.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:se(t.onMouseDown,b=>{r?u.onItemFocus(l):b.preventDefault()}),onFocus:se(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:se(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=HB(b,u.orientation,u.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=h().filter(w=>w.focusable).map(w=>w.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const w=E.indexOf(b.currentTarget);E=u.loop?qB(E,w+1):E.slice(w+1)}setTimeout(()=>VD(E))}})})})});LD.displayName=MD;var $B={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function HB(t,e,n){const r=BB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $B[r]}function VD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function qB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var WB=OD,GB=LD,s_="Radio",[KB,jD]=or(s_),[QB,XB]=KB(s_),FD=g.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:u,...d}=t,[h,p]=g.useState(null),v=Pe(e,S=>p(S)),b=g.useRef(!1),_=h?u||!!h.closest("form"):!0;return m.jsxs(QB,{scope:n,checked:s,disabled:o,children:[m.jsx(he.button,{type:"button",role:"radio","aria-checked":s,"data-state":$D(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:v,onClick:se(t.onClick,S=>{s||l==null||l(),_&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),_&&m.jsx(ZB,{control:h,bubbles:!b.current,name:r,value:a,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});FD.displayName=s_;var UD="RadioIndicator",zD=g.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=XB(UD,n);return m.jsx(ar,{present:r||i.checked,children:m.jsx(he.span,{"data-state":$D(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});zD.displayName=UD;var ZB=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=g.useRef(null),o=d2(n),a=_R(e);return g.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const p=new Event("click",{bubbles:r});h.call(l,n),l.dispatchEvent(p)}},[o,n,r]),m.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $D(t){return t?"checked":"unchecked"}var YB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],i_="RadioGroup",[JB,RQ]=or(i_,[DD,jD]),BD=DD(),HD=jD(),[e8,t8]=JB(i_),qD=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:h,...p}=t,v=BD(n),b=Of(u),[_,S]=Ca({prop:i,defaultProp:s,onChange:h});return m.jsx(e8,{scope:n,name:r,required:o,disabled:a,value:_,onValueChange:S,children:m.jsx(WB,{asChild:!0,...v,orientation:l,dir:b,loop:d,children:m.jsx(he.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:b,...p,ref:e})})})});qD.displayName=i_;var WD="RadioGroupItem",GD=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=t8(WD,n),o=i.disabled||r,a=BD(n),l=HD(n),u=g.useRef(null),d=Pe(e,u),h=i.value===s.value,p=g.useRef(!1);return g.useEffect(()=>{const v=_=>{YB.includes(_.key)&&(p.current=!0)},b=()=>p.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",b)}},[]),m.jsx(GB,{asChild:!0,...a,focusable:!o,active:h,children:m.jsx(FD,{disabled:o,required:i.required,checked:h,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:se(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:se(s.onFocus,()=>{var v;p.current&&((v=u.current)==null||v.click())})})})});GD.displayName=WD;var n8="RadioGroupIndicator",KD=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=HD(n);return m.jsx(zD,{...s,...r,ref:e})});KD.displayName=n8;var QD=qD,XD=GD,r8=KD;const ZD=g.forwardRef(({className:t,...e},n)=>m.jsx(QD,{className:Te("grid gap-2",t),...e,ref:n}));ZD.displayName=QD.displayName;const YD=g.forwardRef(({className:t,...e},n)=>m.jsx(XD,{ref:n,className:Te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(r8,{className:"flex items-center justify-center",children:m.jsx(A3,{className:"h-2.5 w-2.5 fill-current text-current"})})}));YD.displayName=XD.displayName;const s8="/PhasmophobiaBroadsHeadQuarters/",d1=[{id:"hunter1",filename:"case1_1764775148686.jpg",label:"Hunter 1"},{id:"hunter2",filename:"case2_1764775148687.jpg",label:"Hunter 2"},{id:"hunter3",filename:"case3_1764775148687.jpg",label:"Hunter 3"},{id:"hunter4",filename:"case4_1764775148688.jpg",label:"Hunter 4"},{id:"hunter5",filename:"case5_1764775148688.jpg",label:"Hunter 5"},{id:"hunter6",filename:"case6_1764775148688.jpg",label:"Hunter 6"}].map(t=>({...t,url:`${s8}assets/${t.filename}`}));function i8({onSave:t}){const{displayName:e,photoUrl:n,setUser:r,userId:s}=fo(),[i,o]=g.useState(e||""),[a,l]=g.useState(n||d1[0].url),[u,d]=g.useState(!1),{toast:h}=pP(),p=()=>{if(i.trim().length<3){h({title:"Invalid Name",description:"Display name must be at least 3 characters.",variant:"destructive"});return}r(s,i.trim(),a),t==null||t(i.trim(),a),d(!0),h({title:"Profile Updated",description:"Your hunter profile has been saved."}),setTimeout(()=>d(!1),2e3)};return m.jsxs("div",{className:"space-y-6","data-testid":"profile-editor",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(ZP,{className:"w-5 h-5"}),"Hunter Profile"]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(Ac,{className:"w-20 h-20 border-2 border-accent",children:[m.jsx(Pc,{src:a,alt:"Profile"}),m.jsx(Rc,{className:"bg-primary/20 text-accent font-orbitron",children:i.slice(0,2).toUpperCase()||"GH"})]}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"text-foreground font-orbitron text-lg",children:i||"Ghost Hunter"}),m.jsxs("p",{className:"text-xs text-muted-foreground font-jetbrains",children:["ID: ",s||"Not authenticated"]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Md,{htmlFor:"display-name",className:"text-sm font-jetbrains text-primary",children:"Display Name"}),m.jsx(zv,{id:"display-name",value:i,onChange:v=>o(v.target.value),placeholder:"Enter your hunter name",className:"bg-background/50 border-primary focus:border-accent text-foreground font-jetbrains","data-testid":"input-display-name"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Md,{className:"text-sm font-jetbrains text-primary",children:"Select Avatar"}),m.jsx(ZD,{value:a,onValueChange:l,className:"grid grid-cols-3 gap-3",children:d1.map(v=>m.jsxs("div",{className:"relative",children:[m.jsx(YD,{value:v.url,id:v.id,className:"peer sr-only"}),m.jsxs(Md,{htmlFor:v.id,className:`flex flex-col items-center p-2 rounded-lg border-2 cursor-pointer transition-all ${a===v.url?"border-accent bg-accent/10":"border-primary/30 hover:border-primary bg-background/30"}`,"data-testid":`avatar-option-${v.id}`,children:[m.jsxs(Ac,{className:"w-12 h-12 mb-1",children:[m.jsx(Pc,{src:v.url,alt:v.label}),m.jsx(Rc,{children:v.label.slice(0,2)})]}),m.jsx("span",{className:"text-xs font-jetbrains text-muted-foreground",children:v.label})]})]},v.id))})]}),m.jsx(_r,{onClick:p,className:"w-full font-orbitron uppercase tracking-wider","data-testid":"button-save-profile",children:u?m.jsxs(m.Fragment,{children:[m.jsx(xv,{className:"w-4 h-4 mr-2"}),"Saved!"]}):m.jsxs(m.Fragment,{children:[m.jsx(M3,{className:"w-4 h-4 mr-2"}),"Save Profile"]})})]})]})}const o8="/PhasmophobiaBroadsHeadQuarters/",a8={Bleasdale:"bleasdale_1764775134033.jpg",Brownstone:"brownstone_1764775134033.jpg"};function h1(t){const e=a8[t];return e?`${o8}assets/${e}`:null}function l8({currentMap:t,onMapChange:e}){const[n,r]=g.useState(t||""),s=Object.keys(kl).sort(),i=l=>{r(l),e==null||e(l)},o=n?kl[n]:null,a=n?h1(n):null;return m.jsxs("div",{className:"space-y-4","data-testid":"map-display",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(rm,{className:"w-5 h-5"}),"Investigation Location"]}),m.jsxs(nD,{value:n,onValueChange:i,children:[m.jsx(Zv,{className:"bg-background/50 border-primary font-jetbrains hover:border-accent transition-colors","data-testid":"select-map",children:m.jsx(rD,{placeholder:"Select investigation location"})}),m.jsx(Yv,{className:"bg-card border-primary max-h-[300px]",children:s.map(l=>{const u=h1(l);return m.jsx(Jv,{value:l,className:"font-jetbrains hover:bg-accent/10",children:m.jsxs("div",{className:"flex items-center gap-2",children:[u&&m.jsx("div",{className:"w-6 h-6 rounded overflow-hidden border border-accent/30",children:m.jsx("img",{src:u,alt:kl[l].name,className:"w-full h-full object-cover"})}),m.jsxs("span",{children:[kl[l].name," (",kl[l].size,")"]})]})},l)})})]}),m.jsx(Df,{className:"overflow-hidden border-accent bg-background/50",style:{boxShadow:"0 0 12px hsl(187 100% 66% / 0.3)"},children:m.jsx("div",{className:"aspect-video relative overflow-hidden",children:o?m.jsxs(m.Fragment,{children:[a?m.jsx("img",{src:a,alt:o.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-accent/10 flex items-center justify-center",children:m.jsx(rm,{className:"w-16 h-16 text-accent/30"})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent"}),m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-background to-transparent",children:[m.jsx("p",{className:"font-orbitron text-accent text-lg text-glow-cyan",children:o.name}),m.jsxs("p",{className:"font-jetbrains text-xs text-muted-foreground",children:["Size: ",o.size]})]})]}):m.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-accent/10 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(rm,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-2"}),m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm",children:"Select a location"})]})})})})]})}const c8=()=>{};var f1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},u8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},eO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(p=64)),r.push(n[d],n[h],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new d8;const p=i<<2|a>>4;if(r.push(p),u!==64){const v=a<<4&240|u>>2;if(r.push(v),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h8=function(t){const e=JD(t);return eO.encodeByteArray(e,!0)},Vh=function(t){return h8(t).replace(/\./g,"")},tO=function(t){try{return eO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=()=>f8().__FIREBASE_DEFAULTS__,m8=()=>{if(typeof process>"u"||typeof f1>"u")return;const t=f1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},g8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tO(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return c8()||p8()||m8()||g8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nO=t=>{var e,n;return(n=(e=Bf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},y8=t=>{const e=nO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rO=()=>{var t;return(t=Bf())==null?void 0:t.config},sO=t=>{var e;return(e=Bf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vh(JSON.stringify(n)),Vh(JSON.stringify(o)),""].join(".")}const ec={};function w8(){const t={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?t.emulator.push(e):t.prod.push(e);return t}function E8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let p1=!1;function oO(t,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||ec[t]===e||ec[t]||p1)return;ec[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=w8().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{p1=!0,o()},p}function d(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=E8(r),v=n("text"),b=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),S=document.getElementById(_)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(S,_);const k=u();l(w,E),T.append(w,b,S,k),document.body.appendChild(T)}i?(b.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function S8(){var e;const t=(e=Bf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function I8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C8(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function A8(){return!S8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P8(){try{return typeof indexedDB=="object"}catch{return!1}}function R8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N8,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?k8(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ds(s,a,r)}}function k8(t,e){return t.replace(D8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const D8=/\{\$([^}]+)}/g;function O8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(m1(i)&&m1(o)){if(!so(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function m1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function M8(t,e){const n=new L8(t,e);return n.subscribe.bind(n)}class L8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V8(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_m),s.error===void 0&&(s.error=_m),s.complete===void 0&&(s.complete=_m);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U8(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F8(t){return t===Ri?void 0:t}function U8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const $8={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},B8=xe.INFO,H8={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},q8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=H8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o_{constructor(e){this.name=e,this._logLevel=B8,this._logHandler=q8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const W8=(t,e)=>e.some(n=>t instanceof n);let g1,y1;function G8(){return g1||(g1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K8(){return y1||(y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aO=new WeakMap,Xg=new WeakMap,lO=new WeakMap,wm=new WeakMap,a_=new WeakMap;function Q8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ks(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aO.set(n,t)}).catch(()=>{}),a_.set(e,t),e}function X8(t){if(Xg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Xg.set(t,e)}let Zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z8(t){Zg=t(Zg)}function Y8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Em(this),e,...n);return lO.set(r,e.sort?e.sort():[e]),Ks(r)}:K8().includes(t)?function(...e){return t.apply(Em(this),e),Ks(aO.get(this))}:function(...e){return Ks(t.apply(Em(this),e))}}function J8(t){return typeof t=="function"?Y8(t):(t instanceof IDBTransaction&&X8(t),W8(t,G8())?new Proxy(t,Zg):t)}function Ks(t){if(t instanceof IDBRequest)return Q8(t);if(wm.has(t))return wm.get(t);const e=J8(t);return e!==t&&(wm.set(t,e),a_.set(e,t)),e}const Em=t=>a_.get(t);function e7(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ks(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ks(o.result),l.oldVersion,l.newVersion,Ks(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const t7=["get","getKey","getAll","getAllKeys","count"],n7=["put","add","delete","clear"],Tm=new Map;function v1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=n7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||t7.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Tm.set(e,i),i}Z8(t=>({...t,get:(e,n,r)=>v1(e,n)||t.get(e,n,r),has:(e,n)=>!!v1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yg="@firebase/app",_1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new o_("@firebase/app"),i7="@firebase/app-compat",o7="@firebase/analytics-compat",a7="@firebase/analytics",l7="@firebase/app-check-compat",c7="@firebase/app-check",u7="@firebase/auth",d7="@firebase/auth-compat",h7="@firebase/database",f7="@firebase/data-connect",p7="@firebase/database-compat",m7="@firebase/functions",g7="@firebase/functions-compat",y7="@firebase/installations",v7="@firebase/installations-compat",_7="@firebase/messaging",w7="@firebase/messaging-compat",E7="@firebase/performance",T7="@firebase/performance-compat",S7="@firebase/remote-config",x7="@firebase/remote-config-compat",b7="@firebase/storage",I7="@firebase/storage-compat",C7="@firebase/firestore",A7="@firebase/ai",P7="@firebase/firestore-compat",R7="firebase",N7="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="[DEFAULT]",k7={[Yg]:"fire-core",[i7]:"fire-core-compat",[a7]:"fire-analytics",[o7]:"fire-analytics-compat",[c7]:"fire-app-check",[l7]:"fire-app-check-compat",[u7]:"fire-auth",[d7]:"fire-auth-compat",[h7]:"fire-rtdb",[f7]:"fire-data-connect",[p7]:"fire-rtdb-compat",[m7]:"fire-fn",[g7]:"fire-fn-compat",[y7]:"fire-iid",[v7]:"fire-iid-compat",[_7]:"fire-fcm",[w7]:"fire-fcm-compat",[E7]:"fire-perf",[T7]:"fire-perf-compat",[S7]:"fire-rc",[x7]:"fire-rc-compat",[b7]:"fire-gcs",[I7]:"fire-gcs-compat",[C7]:"fire-fst",[P7]:"fire-fst-compat",[A7]:"fire-vertex","fire-js":"fire-js",[R7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,D7=new Map,ey=new Map;function w1(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ma(t){const e=t.name;if(ey.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,t);for(const n of jh.values())w1(n,t);for(const n of D7.values())w1(n,t);return!0}function l_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new yu("app","Firebase",O7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=N7;function cO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Jg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Qs.create("bad-app-name",{appName:String(s)});if(n||(n=rO()),!n)throw Qs.create("no-options");const i=jh.get(s);if(i){if(so(n,i.options)&&so(r,i.config))return i;throw Qs.create("duplicate-app",{appName:s})}const o=new z8(s);for(const l of ey.values())o.addComponent(l);const a=new M7(n,r,o);return jh.set(s,a),a}function uO(t=Jg){const e=jh.get(t);if(!e&&t===Jg&&rO())return cO();if(!e)throw Qs.create("no-app",{appName:t});return e}function Xs(t,e,n){let r=k7[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(o.join(" "));return}Ma(new io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7="firebase-heartbeat-database",V7=1,Hc="firebase-heartbeat-store";let Sm=null;function dO(){return Sm||(Sm=e7(L7,V7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),Sm}async function j7(t){try{const n=(await dO()).transaction(Hc),r=await n.objectStore(Hc).get(hO(t));return await n.done,r}catch(e){if(e instanceof ds)is.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(n.message)}}}async function E1(t,e){try{const r=(await dO()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,hO(t)),await r.done}catch(n){if(n instanceof ds)is.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});is.warn(r.message)}}}function hO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=1024,U7=30;class z7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=T1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>U7){const o=H7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T1(),{heartbeatsToSend:r,unsentEntries:s}=$7(this._heartbeatsCache.heartbeats),i=Vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return is.warn(n),""}}}function T1(){return new Date().toISOString().substring(0,10)}function $7(t,e=F7){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),S1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),S1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P8()?R8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S1(t){return Vh(JSON.stringify({version:2,heartbeats:t})).length}function H7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){Ma(new io("platform-logger",e=>new r7(e),"PRIVATE")),Ma(new io("heartbeat",e=>new z7(e),"PRIVATE")),Xs(Yg,_1,t),Xs(Yg,_1,"esm2020"),Xs("fire-js","")}q7("");var W7="firebase",G7="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(W7,G7,"app");function fO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K7=fO,pO=new yu("auth","Firebase",fO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new o_("@firebase/auth");function Q7(t,...e){Fh.logLevel<=xe.WARN&&Fh.warn(`Auth (${Ya}): ${t}`,...e)}function Ld(t,...e){Fh.logLevel<=xe.ERROR&&Fh.error(`Auth (${Ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,...e){throw c_(t,...e)}function xr(t,...e){return c_(t,...e)}function mO(t,e,n){const r={...K7(),[e]:n};return new yu("auth","Firebase",r).create(e,{appName:t.name})}function Zs(t){return mO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pO.create(t,...e)}function ue(t,e,...n){if(!t)throw c_(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ld(e),new Error(e)}function as(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function X7(){return x1()==="http:"||x1()==="https:"}function x1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X7()||b8()||"connection"in navigator)?navigator.onLine:!0}function Y7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,as(n>e,"Short delay should be less than long delay!"),this.isMobile=T8()||I8()}get(){return Z7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){as(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tH=new _u(3e4,6e4);function Hf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ja(t,e,n,r,s={}){return yO(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=vu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return x8()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Za(t.emulatorConfig.host)&&(u.credentials="include"),gO.fetch()(await _O(t,t.config.apiHost,n,a),u)})}async function yO(t,e,n){t._canInitEmulator=!1;const r={...J7,...e};try{const s=new nH(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mO(t,d,u);os(t,d)}}catch(s){if(s instanceof ds)throw s;os(t,"network-request-failed",{message:String(s)})}}async function vO(t,e,n,r,s={}){const i=await Ja(t,e,n,r,s);return"mfaPendingCredential"in i&&os(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function _O(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?u_(t.config,s):`${t.config.apiScheme}://${s}`;return eH.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class nH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),tH.get())})}}function hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=xr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rH(t,e){return Ja(t,"POST","/v1/accounts:delete",e)}async function Uh(t,e){return Ja(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sH(t,e=!1){const n=gn(t),r=await n.getIdToken(e),s=d_(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:tc(xm(s.auth_time)),issuedAtTime:tc(xm(s.iat)),expirationTime:tc(xm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xm(t){return Number(t)*1e3}function d_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{const s=tO(n);return s?JSON.parse(s):(Ld("Failed to decode base64 JWT payload"),null)}catch(s){return Ld("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function b1(t){const e=d_(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ds&&iH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await qc(t,Uh(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?wO(s.providerUserInfo):[],o=lH(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ny(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function aH(t){const e=gn(t);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function wO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cH(t,e){const n=await yO(t,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await _O(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Za(t.emulatorConfig.host)&&(l.credentials="include"),gO.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uH(t,e){return Ja(t,"POST","/v2/accounts:revokeToken",Hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=b1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await cH(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new sa;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new oH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ny(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qc(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sH(this,e)}reload(){return aH(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await qc(this,rH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:v,providerData:b,stsTokenManager:_}=n;ue(h&&_,e,"internal-error");const S=sa.fromJSON(this.name,_);ue(typeof h=="string",e,"internal-error"),Es(r,e.name),Es(s,e.name),ue(typeof p=="boolean",e,"internal-error"),ue(typeof v=="boolean",e,"internal-error"),Es(i,e.name),Es(o,e.name),Es(a,e.name),Es(l,e.name),Es(u,e.name),Es(d,e.name);const E=new Xn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:u,lastLoginAt:d});return b&&Array.isArray(b)&&(E.providerData=b.map(w=>({...w}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new sa;s.updateFromServerResponse(n);const i=new Xn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?wO(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new sa;a.updateFromIdToken(r);const l=new Xn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ny(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Map;function Xr(t){as(t instanceof Function,"Expected a class definition");let e=I1.get(t);return e?(as(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EO.type="NONE";const C1=EO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t,e,n){return`firebase:${t}:${e}:${n}`}class ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Vd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Vd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ia(Xr(C1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Xr(C1);const o=Vd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await Uh(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Xn._fromGetAccountInfoResponse(e,p,d)}else h=Xn._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ia(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ia(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CO(e))return"Blackberry";if(AO(e))return"Webos";if(SO(e))return"Safari";if((e.includes("chrome/")||xO(e))&&!e.includes("edge/"))return"Chrome";if(IO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TO(t=Qt()){return/firefox\//i.test(t)}function SO(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xO(t=Qt()){return/crios\//i.test(t)}function bO(t=Qt()){return/iemobile/i.test(t)}function IO(t=Qt()){return/android/i.test(t)}function CO(t=Qt()){return/blackberry/i.test(t)}function AO(t=Qt()){return/webos/i.test(t)}function h_(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dH(t=Qt()){var e;return h_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function hH(){return C8()&&document.documentMode===10}function PO(t=Qt()){return h_(t)||IO(t)||AO(t)||CO(t)||/windows phone/i.test(t)||bO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e=[]){let n;switch(t){case"Browser":n=A1(Qt());break;case"Worker":n=`${A1(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pH(t,e={}){return Ja(t,"GET","/v2/passwordPolicy",Hf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=6;class gH{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mH,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P1(this),this.idTokenSubscription=new P1(this),this.beforeStateQueue=new fH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Zs(this));const n=e?gn(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pH(this),n=new gH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Q7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qf(t){return gn(t)}class P1{constructor(e){this.auth=e,this.observer=null,this.addObserver=M8(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vH(t){f_=t}function _H(t){return f_.loadJS(t)}function wH(){return f_.gapiScript}function EH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t,e){const n=l_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(so(i,e??{}))return s;os(s,"already-initialized")}return n.initialize({options:e})}function SH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xH(t,e,n){const r=qf(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=NO(e),{host:o,port:a}=bH(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(so(u,r.config.emulator)&&so(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Za(o)?(iO(`${i}//${o}${l}`),oO("Auth",!0)):IH()}function NO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bH(t){const e=NO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:R1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:R1(o)}}}function R1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e){return vO(t,"POST","/v1/accounts:signInWithIdp",Hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH="http://localhost";class oo extends kO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new oo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oa(e,n)}buildRequest(){const e={requestUri:CH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends DO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends wu{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends wu{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends wu{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AH(t,e){return vO(t,"POST","/v1/accounts:signUp",Hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xn._fromIdTokenResponse(e,r,s),o=N1(r);return new ci({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=N1(r);return new ci({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function N1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PH(t){var s;if(Kn(t.app))return Promise.reject(Zs(t));const e=qf(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new ci({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await AH(e,{returnSecureToken:!0}),r=await ci._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends ds{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $h(e,n,r,s)}}function OO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,i,e,r):i})}async function RH(t,e,n=!1){const r=await qc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ci._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NH(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(Zs(r));const s="reauthenticate";try{const i=await qc(t,OO(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=d_(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),ci._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&os(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kH(t,e,n=!1){if(Kn(t.app))return Promise.reject(Zs(t));const r="signIn",s=await OO(t,r,e),i=await ci._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function DH(t,e,n,r){return gn(t).onIdTokenChanged(e,n,r)}function OH(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function MH(t,e,n,r){return gn(t).onAuthStateChanged(e,n,r)}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=1e3,VH=10;class LO extends MO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);hH()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,VH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},LH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LO.type="LOCAL";const jH=LO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO extends MO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VO.type="SESSION";const jO=VO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await FH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=p_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function zH(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function $H(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function HH(){return FO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firebaseLocalStorageDb",qH=1,Hh="firebaseLocalStorage",zO="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gf(t,e){return t.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function WH(){const t=indexedDB.deleteDatabase(UO);return new Eu(t).toPromise()}function ry(){const t=indexedDB.open(UO,qH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hh,{keyPath:zO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await WH(),e(await ry()))})})}async function k1(t,e,n){const r=Gf(t,!0).put({[zO]:e,value:n});return new Eu(r).toPromise()}async function GH(t,e){const n=Gf(t,!1).get(e),r=await new Eu(n).toPromise();return r===void 0?null:r.value}function D1(t,e){const n=Gf(t,!0).delete(e);return new Eu(n).toPromise()}const KH=800,QH=3;class $O{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(HH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await $H(),!this.activeServiceWorker)return;this.sender=new UH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await k1(e,Bh,"1"),await D1(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Gf(s,!1).getAll();return new Eu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$O.type="LOCAL";const XH=$O;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(t,e){return e?Xr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends kO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YH(t){return kH(t.auth,new m_(t),t.bypassAuthState)}function JH(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),NH(n,new m_(t),t.bypassAuthState)}async function eq(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),RH(n,new m_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YH;case"linkViaPopup":case"linkViaRedirect":return eq;case"reauthViaPopup":case"reauthViaRedirect":return JH;default:os(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=new _u(2e3,1e4);class qo extends BO{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=p_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tq.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq="pendingRedirect",jd=new Map;class rq extends BO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const r=await sq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sq(t,e){const n=aq(e),r=oq(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function iq(t,e){jd.set(t._key(),e)}function oq(t){return Xr(t._redirectPersistence)}function aq(t){return Vd(nq,t.config.apiKey,t.name)}async function lq(t,e,n=!1){if(Kn(t.app))return Promise.reject(Zs(t));const r=qf(t),s=ZH(r,e),o=await new rq(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=10*60*1e3;class uq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HO(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(xr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cq&&this.cachedEventUids.clear(),this.cachedEventUids.has(O1(e))}saveEventToCache(e){this.cachedEventUids.add(O1(e)),this.lastProcessedEventTime=Date.now()}}function O1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hq(t,e={}){return Ja(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pq=/^https?/;async function mq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hq(t);for(const n of e)try{if(gq(n))return}catch{}os(t,"unauthorized-domain")}function gq(t){const e=ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pq.test(n))return!1;if(fq.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=new _u(3e4,6e4);function M1(){const t=br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vq(t){return new Promise((e,n)=>{var s,i,o;function r(){M1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M1(),n(xr(t,"network-request-failed"))},timeout:yq.get()})}if((i=(s=br().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=br().gapi)!=null&&o.load)r();else{const a=EH("iframefcb");return br()[a]=()=>{gapi.load?r():n(xr(t,"network-request-failed"))},_H(`${wH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fd=null,e})}let Fd=null;function _q(t){return Fd=Fd||vq(t),Fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=new _u(5e3,15e3),Eq="__/auth/iframe",Tq="emulator/auth/iframe",Sq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bq(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u_(e,Tq):`https://${t.config.authDomain}/${Eq}`,r={apiKey:e.apiKey,appName:t.name,v:Ya},s=xq.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vu(r).slice(1)}`}async function Iq(t){const e=await _q(t),n=br().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:bq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sq,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=xr(t,"network-request-failed"),a=br().setTimeout(()=>{i(o)},wq.get());function l(){br().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Aq=500,Pq=600,Rq="_blank",Nq="http://localhost";class L1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kq(t,e,n,r=Aq,s=Pq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Cq,width:r.toString(),height:s.toString(),top:i,left:o},u=Qt().toLowerCase();n&&(a=xO(u)?Rq:n),TO(u)&&(e=e||Nq,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[v,b])=>`${p}${v}=${b},`,"");if(dH(u)&&a!=="_self")return Dq(e||"",a),new L1(null);const h=window.open(e||"",a,d);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new L1(h)}function Dq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq="__/auth/handler",Mq="emulator/auth/handler",Lq=encodeURIComponent("fac");async function V1(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ya,eventId:s};if(e instanceof DO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",O8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof wu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${Lq}=${encodeURIComponent(l)}`:"";return`${Vq(t)}?${vu(a).slice(1)}${u}`}function Vq({config:t}){return t.emulator?u_(t,Mq):`https://${t.authDomain}/${Oq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class jq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jO,this._completeRedirectFn=lq,this._overrideRedirectResult=iq}async _openPopup(e,n,r,s){var o;as((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await V1(e,n,r,ty(),s);return kq(e,i,p_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await V1(e,n,r,ty(),s);return zH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(as(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Iq(e),r=new uq(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[bm];i!==void 0&&n(!!i),os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PO()||SO()||h_()}}const Fq=jq;var j1="@firebase/auth",F1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $q(t){Ma(new io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RO(t)},u=new yH(r,s,i,l);return SH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ma(new io("auth-internal",e=>{const n=qf(e.getProvider("auth").getImmediate());return(r=>new Uq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(j1,F1,zq(t)),Xs(j1,F1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=5*60,Hq=sO("authIdTokenMaxAge")||Bq;let U1=null;const qq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Hq)return;const s=n==null?void 0:n.token;U1!==s&&(U1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Wq(t=uO()){const e=l_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TH(t,{popupRedirectResolver:Fq,persistence:[XH,jH,jO]}),r=sO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=qq(i.toString());OH(n,o,()=>o(n.currentUser)),DH(n,a=>o(a))}}const s=nO("auth");return s&&xH(n,`http://${s}`),n}function Gq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}vH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=xr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Gq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$q("Browser");var z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,qO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(P,N,D){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return x.prototype[N].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,x,C){C||(C=0);const P=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)P[N]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(N=0;N<16;++N)P[N]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],N=I.g[2];let D=I.g[3],R;R=x+(D^C&(N^D))+P[0]+3614090360&4294967295,x=C+(R<<7&4294967295|R>>>25),R=D+(N^x&(C^N))+P[1]+3905402710&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(C^D&(x^C))+P[2]+606105819&4294967295,N=D+(R<<17&4294967295|R>>>15),R=C+(x^N&(D^x))+P[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(D^C&(N^D))+P[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=D+(N^x&(C^N))+P[5]+1200080426&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(C^D&(x^C))+P[6]+2821735955&4294967295,N=D+(R<<17&4294967295|R>>>15),R=C+(x^N&(D^x))+P[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(D^C&(N^D))+P[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=D+(N^x&(C^N))+P[9]+2336552879&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(C^D&(x^C))+P[10]+4294925233&4294967295,N=D+(R<<17&4294967295|R>>>15),R=C+(x^N&(D^x))+P[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(D^C&(N^D))+P[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=D+(N^x&(C^N))+P[13]+4254626195&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(C^D&(x^C))+P[14]+2792965006&4294967295,N=D+(R<<17&4294967295|R>>>15),R=C+(x^N&(D^x))+P[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(N^D&(C^N))+P[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=D+(C^N&(x^C))+P[6]+3225465664&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(D^x))+P[11]+643717713&4294967295,N=D+(R<<14&4294967295|R>>>18),R=C+(D^x&(N^D))+P[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(N^D&(C^N))+P[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=D+(C^N&(x^C))+P[10]+38016083&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(D^x))+P[15]+3634488961&4294967295,N=D+(R<<14&4294967295|R>>>18),R=C+(D^x&(N^D))+P[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(N^D&(C^N))+P[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=D+(C^N&(x^C))+P[14]+3275163606&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(D^x))+P[3]+4107603335&4294967295,N=D+(R<<14&4294967295|R>>>18),R=C+(D^x&(N^D))+P[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(N^D&(C^N))+P[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=D+(C^N&(x^C))+P[2]+4243563512&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(D^x))+P[7]+1735328473&4294967295,N=D+(R<<14&4294967295|R>>>18),R=C+(D^x&(N^D))+P[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(C^N^D)+P[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=D+(x^C^N)+P[8]+2272392833&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^C)+P[11]+1839030562&4294967295,N=D+(R<<16&4294967295|R>>>16),R=C+(N^D^x)+P[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(C^N^D)+P[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=D+(x^C^N)+P[4]+1272893353&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^C)+P[7]+4139469664&4294967295,N=D+(R<<16&4294967295|R>>>16),R=C+(N^D^x)+P[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(C^N^D)+P[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=D+(x^C^N)+P[0]+3936430074&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^C)+P[3]+3572445317&4294967295,N=D+(R<<16&4294967295|R>>>16),R=C+(N^D^x)+P[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(C^N^D)+P[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=D+(x^C^N)+P[12]+3873151461&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^C)+P[15]+530742520&4294967295,N=D+(R<<16&4294967295|R>>>16),R=C+(N^D^x)+P[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(N^(C|~D))+P[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=D+(C^(x|~N))+P[7]+1126891415&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~C))+P[14]+2878612391&4294967295,N=D+(R<<15&4294967295|R>>>17),R=C+(D^(N|~x))+P[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=x+(N^(C|~D))+P[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=D+(C^(x|~N))+P[3]+2399980690&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~C))+P[10]+4293915773&4294967295,N=D+(R<<15&4294967295|R>>>17),R=C+(D^(N|~x))+P[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=x+(N^(C|~D))+P[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=D+(C^(x|~N))+P[15]+4264355552&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~C))+P[6]+2734768916&4294967295,N=D+(R<<15&4294967295|R>>>17),R=C+(D^(N|~x))+P[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=x+(N^(C|~D))+P[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=D+(C^(x|~N))+P[11]+3174756917&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~C))+P[2]+718787259&4294967295,N=D+(R<<15&4294967295|R>>>17),R=C+(D^(N|~x))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,P=this.C;let N=this.h,D=0;for(;D<x;){if(N==0)for(;D<=C;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<x;)if(P[N++]=I.charCodeAt(D++),N==this.blockSize){s(this,P),N=0;break}}else for(;D<x;)if(P[N++]=I[D++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)I[x++]=this.g[C]>>>P&255;return I};function i(I,x){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function o(I,x){this.h=x;const C=[];let P=!0;for(let N=I.length-1;N>=0;N--){const D=I[N]|0;P&&D==x||(C[N]=D,P=!1)}this.g=C}var a={};function l(I){return-128<=I&&I<128?i(I,function(x){return new o([x|0],x<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return S(u(-I));const x=[];let C=1;for(let P=0;I>=C;P++)x[P]=I/C|0,C*=4294967296;return new o(x,0)}function d(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return S(d(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(x,8));let P=h;for(let D=0;D<I.length;D+=8){var N=Math.min(8,I.length-D);const R=parseInt(I.substring(D,D+N),x);N<8?(N=u(Math.pow(x,N)),P=P.j(N).add(u(R))):(P=P.j(C),P=P.add(u(R)))}return P}var h=l(0),p=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);I+=(P>=0?P:4294967296+P)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(_(this))return"-"+S(this).toString(I);const x=u(Math.pow(I,6));var C=this;let P="";for(;;){const N=k(C,x).g;C=E(C,N.j(x));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,b(C))return D+P;for(;D.length<6;)D="0"+D;P=D+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=E(this,I),_(I)?-1:b(I)?0:1};function S(I){const x=I.g.length,C=[];for(let P=0;P<x;P++)C[P]=~I.g[P];return new o(C,~I.h).add(p)}t.abs=function(){return _(this)?S(this):this},t.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let P=0;for(let N=0;N<=x;N++){let D=P+(this.i(N)&65535)+(I.i(N)&65535),R=(D>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);P=R>>>16,D&=65535,R&=65535,C[N]=R<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(I,x){return I.add(S(x))}t.j=function(I){if(b(this)||b(I))return h;if(_(this))return _(I)?S(this).j(S(I)):S(S(this).j(I));if(_(I))return S(this.j(S(I)));if(this.l(v)<0&&I.l(v)<0)return u(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var P=0;P<2*x;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<I.g.length;N++){const D=this.i(P)>>>16,R=this.i(P)&65535,B=I.i(N)>>>16,ee=I.i(N)&65535;C[2*P+2*N]+=R*ee,w(C,2*P+2*N),C[2*P+2*N+1]+=D*ee,w(C,2*P+2*N+1),C[2*P+2*N+1]+=R*B,w(C,2*P+2*N+1),C[2*P+2*N+2]+=D*B,w(C,2*P+2*N+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new o(C,0)};function w(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function T(I,x){this.g=I,this.h=x}function k(I,x){if(b(x))throw Error("division by zero");if(b(I))return new T(h,h);if(_(I))return x=k(S(I),x),new T(S(x.g),S(x.h));if(_(x))return x=k(I,S(x)),new T(S(x.g),x.h);if(I.g.length>30){if(_(I)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var C=p,P=x;P.l(I)<=0;)C=O(C),P=O(P);var N=L(C,1),D=L(P,1);for(P=L(P,2),C=L(C,2);!b(P);){var R=D.add(P);R.l(I)<=0&&(N=N.add(C),D=R),P=L(P,1),C=L(C,1)}return x=E(I,N.j(x)),new T(N,x)}for(N=h;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),D=u(C),R=D.j(x);_(R)||R.l(I)>0;)C-=P,D=u(C),R=D.j(x);b(D)&&(D=p),N=N.add(D),I=E(I,R)}return new T(N,I)}t.B=function(I){return k(this,I).h},t.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<x;P++)C[P]=this.i(P)&I.i(P);return new o(C,this.h&I.h)},t.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<x;P++)C[P]=this.i(P)|I.i(P);return new o(C,this.h|I.h)},t.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<x;P++)C[P]=this.i(P)^I.i(P);return new o(C,this.h^I.h)};function O(I){const x=I.g.length+1,C=[];for(let P=0;P<x;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(C,I.h)}function L(I,x){const C=x>>5;x%=32;const P=I.g.length-C,N=[];for(let D=0;D<P;D++)N[D]=x>0?I.i(D+C)>>>x|I.i(D+C+1)<<32-x:I.i(D+C);return new o(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ys=o}).apply(typeof z1<"u"?z1:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WO,Ul,GO,Ud,sy,KO,QO,XO;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var f=0;f<c.length;++f){var y=c[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var y=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var V=c[A];if(!(V in y))break e;y=y[V]}c=c[c.length-1],A=y[c],f=f(A),f!=A&&f!=null&&e(y,c,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(f){var y=[],A;for(A in f)Object.prototype.hasOwnProperty.call(f,A)&&y.push([A,f[A]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function l(c,f,y){return c.call.apply(c.bind,arguments)}function u(c,f,y){return u=l,u.apply(null,arguments)}function d(c,f){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function h(c,f){function y(){}y.prototype=f.prototype,c.Z=f.prototype,c.prototype=new y,c.prototype.constructor=c,c.Ob=function(A,V,j){for(var K=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)K[_e-2]=arguments[_e];return f.prototype[V].apply(A,K)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function v(c){const f=c.length;if(f>0){const y=Array(f);for(let A=0;A<f;A++)y[A]=c[A];return y}return[]}function b(c,f){for(let A=1;A<arguments.length;A++){const V=arguments[A];var y=typeof V;if(y=y!="object"?y:V?Array.isArray(V)?"array":y:"null",y=="array"||y=="object"&&typeof V.length=="number"){y=c.length||0;const j=V.length||0;c.length=y+j;for(let K=0;K<j;K++)c[y+K]=V[K]}else c.push(V)}}class _{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function S(c){o.setTimeout(()=>{throw c},0)}function E(){var c=I;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class w{constructor(){this.h=this.g=null}add(f,y){const A=T.get();A.set(f,y),this.h?this.h.next=A:this.g=A,this.h=A}}var T=new _(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let O,L=!1,I=new w,x=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(C)}};function C(){for(var c;c=E();){try{c.h.call(c.g)}catch(y){S(y)}var f=T;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}L=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};o.addEventListener("test",y,f),o.removeEventListener("test",y,f)}catch{}return c}();function R(c){return/^[\s\xa0]*$/.test(c)}function B(c,f){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}h(B,N),B.prototype.init=function(c,f){const y=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(y=="mouseover"?f=c.fromElement:y=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),te=0;function pe(c,f,y,A,V){this.listener=c,this.proxy=null,this.src=f,this.type=y,this.capture=!!A,this.ha=V,this.key=++te,this.da=this.fa=!1}function F(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function G(c,f,y){for(const A in c)f.call(y,c[A],A,c)}function ne(c,f){for(const y in c)f.call(void 0,c[y],y,c)}function de(c){const f={};for(const y in c)f[y]=c[y];return f}const ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(c,f){let y,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(y in A)c[y]=A[y];for(let j=0;j<ke.length;j++)y=ke[j],Object.prototype.hasOwnProperty.call(A,y)&&(c[y]=A[y])}}function Qe(c){this.src=c,this.g={},this.h=0}Qe.prototype.add=function(c,f,y,A,V){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const K=yt(c,f,A,V);return K>-1?(f=c[K],y||(f.fa=!1)):(f=new pe(f,this.src,j,!!A,V),f.fa=y,c.push(f)),f};function ln(c,f){const y=f.type;if(y in c.g){var A=c.g[y],V=Array.prototype.indexOf.call(A,f,void 0),j;(j=V>=0)&&Array.prototype.splice.call(A,V,1),j&&(F(f),c.g[y].length==0&&(delete c.g[y],c.h--))}}function yt(c,f,y,A){for(let V=0;V<c.length;++V){const j=c[V];if(!j.da&&j.listener==f&&j.capture==!!y&&j.ha==A)return V}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),Ve={};function vt(c,f,y,A,V){if(Array.isArray(f)){for(let j=0;j<f.length;j++)vt(c,f[j],y,A,V);return null}return y=Cu(y),c&&c[ee]?c.J(f,y,a(A)?!!A.capture:!!A,V):Ue(c,f,y,!1,A,V)}function Ue(c,f,y,A,V,j){if(!f)throw Error("Invalid event type");const K=a(V)?!!V.capture:!!V;let _e=Fr(c);if(_e||(c[oe]=_e=new Qe(c)),y=_e.add(f,y,A,K,j),y.proxy)return y;if(A=Oe(),y.proxy=A,A.src=c,A.listener=y,c.addEventListener)D||(V=K),V===void 0&&(V=!1),c.addEventListener(f.toString(),A,V);else if(c.attachEvent)c.attachEvent(yn(f.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Oe(){function c(y){return f.call(c.src,c.listener,y)}const f=Ti;return c}function De(c,f,y,A,V){if(Array.isArray(f))for(var j=0;j<f.length;j++)De(c,f[j],y,A,V);else A=a(A)?!!A.capture:!!A,y=Cu(y),c&&c[ee]?(c=c.i,j=String(f).toString(),j in c.g&&(f=c.g[j],y=yt(f,y,A,V),y>-1&&(F(f[y]),Array.prototype.splice.call(f,y,1),f.length==0&&(delete c.g[j],c.h--)))):c&&(c=Fr(c))&&(f=c.g[f.toString()],c=-1,f&&(c=yt(f,y,A,V)),(y=c>-1?f[c]:null)&&Nt(y))}function Nt(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[ee])ln(f.i,c);else{var y=c.type,A=c.proxy;f.removeEventListener?f.removeEventListener(y,A,c.capture):f.detachEvent?f.detachEvent(yn(y),A):f.addListener&&f.removeListener&&f.removeListener(A),(y=Fr(f))?(ln(y,c),y.h==0&&(y.src=null,f[oe]=null)):F(c)}}}function yn(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function Ti(c,f){if(c.da)c=!0;else{f=new B(f,this);const y=c.listener,A=c.ha||c.src;c.fa&&Nt(c),c=y.call(A,f)}return c}function Fr(c){return c=c[oe],c instanceof Qe?c:null}var Ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cu(c){return typeof c=="function"?c:(c[Ur]||(c[Ur]=function(f){return c.handleEvent(f)}),c[Ur])}function at(){P.call(this),this.i=new Qe(this),this.M=this,this.G=null}h(at,P),at.prototype[ee]=!0,at.prototype.removeEventListener=function(c,f,y,A){De(this,c,f,y,A)};function Xt(c,f){var y,A=c.G;if(A)for(y=[];A;A=A.G)y.push(A);if(c=c.M,A=f.type||f,typeof f=="string")f=new N(f,c);else if(f instanceof N)f.target=f.target||c;else{var V=f;f=new N(A,c),xt(f,V)}V=!0;let j,K;if(y)for(K=y.length-1;K>=0;K--)j=f.g=y[K],V=Au(j,A,!0,f)&&V;if(j=f.g=c,V=Au(j,A,!0,f)&&V,V=Au(j,A,!1,f)&&V,y)for(K=0;K<y.length;K++)j=f.g=y[K],V=Au(j,A,!1,f)&&V}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const y=c.g[f];for(let A=0;A<y.length;A++)F(y[A]);delete c.g[f],c.h--}}this.G=null},at.prototype.J=function(c,f,y,A){return this.i.add(String(c),f,!1,y,A)},at.prototype.K=function(c,f,y,A){return this.i.add(String(c),f,!0,y,A)};function Au(c,f,y,A){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let V=!0;for(let j=0;j<f.length;++j){const K=f[j];if(K&&!K.da&&K.capture==y){const _e=K.listener,_t=K.ha||K.src;K.fa&&ln(c.i,K),V=_e.call(_t,A)!==!1&&V}}return V&&!A.defaultPrevented}function CL(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(c,f||0)}function nw(c){c.g=CL(()=>{c.g=null,c.i&&(c.i=!1,nw(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class AL extends P{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:nw(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(c){P.call(this),this.h=c,this.g={}}h(ol,P);var rw=[];function sw(c){G(c.g,function(f,y){this.g.hasOwnProperty(y)&&Nt(f)},c),c.g={}}ol.prototype.N=function(){ol.Z.N.call(this),sw(this)},ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lp=o.JSON.stringify,PL=o.JSON.parse,RL=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function iw(){}function ow(){}var al={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cp(){N.call(this,"d")}h(cp,N);function up(){N.call(this,"c")}h(up,N);var Si={},aw=null;function Pu(){return aw=aw||new at}Si.Ia="serverreachability";function lw(c){N.call(this,Si.Ia,c)}h(lw,N);function ll(c){const f=Pu();Xt(f,new lw(f))}Si.STAT_EVENT="statevent";function cw(c,f){N.call(this,Si.STAT_EVENT,c),this.stat=f}h(cw,N);function Zt(c){const f=Pu();Xt(f,new cw(f,c))}Si.Ja="timingevent";function uw(c,f){N.call(this,Si.Ja,c),this.size=f}h(uw,N);function cl(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},f)}function ul(){this.g=!0}ul.prototype.ua=function(){this.g=!1};function NL(c,f,y,A,V,j){c.info(function(){if(c.g)if(j){var K="",_e=j.split("&");for(let ze=0;ze<_e.length;ze++){var _t=_e[ze].split("=");if(_t.length>1){const bt=_t[0];_t=_t[1];const ur=bt.split("_");K=ur.length>=2&&ur[1]=="type"?K+(bt+"="+_t+"&"):K+(bt+"=redacted&")}}}else K=null;else K=j;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+f+`
`+y+`
`+K})}function kL(c,f,y,A,V,j,K){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+f+`
`+y+`
`+j+" "+K})}function vo(c,f,y,A){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+OL(c,y)+(A?" "+A:"")})}function DL(c,f){c.info(function(){return"TIMEOUT: "+f})}ul.prototype.info=function(){};function OL(c,f){if(!c.g)return f;if(!f)return null;try{const j=JSON.parse(f);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var y=j[c];if(!(y.length<2)){var A=y[1];if(Array.isArray(A)&&!(A.length<1)){var V=A[0];if(V!="noop"&&V!="stop"&&V!="close")for(let K=1;K<A.length;K++)A[K]=""}}}}return lp(j)}catch{return f}}var Ru={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dw={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hw;function dp(){}h(dp,iw),dp.prototype.g=function(){return new XMLHttpRequest},hw=new dp;function dl(c){return encodeURIComponent(String(c))}function ML(c){var f=1;c=c.split(":");const y=[];for(;f>0&&c.length;)y.push(c.shift()),f--;return c.length&&y.push(c.join(":")),y}function hs(c,f,y,A){this.j=c,this.i=f,this.l=y,this.S=A||1,this.V=new ol(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fw}function fw(){this.i=null,this.g="",this.h=!1}var pw={},hp={};function fp(c,f,y){c.M=1,c.A=ku(cr(f)),c.u=y,c.R=!0,mw(c,null)}function mw(c,f){c.F=Date.now(),Nu(c),c.B=cr(c.A);var y=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Aw(y.i,"t",A),c.C=0,y=c.j.L,c.h=new fw,c.g=Ww(c.j,y?f:null,!c.u),c.P>0&&(c.O=new AL(u(c.Y,c,c.g),c.P)),f=c.V,y=c.g,A=c.ba;var V="readystatechange";Array.isArray(V)||(V&&(rw[0]=V.toString()),V=rw);for(let j=0;j<V.length;j++){const K=vt(y,V[j],A||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=c.J?de(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),ll(),NL(c.i,c.v,c.B,c.l,c.S,c.u)}hs.prototype.ba=function(c){c=c.target;const f=this.O;f&&ms(c)==3?f.j():this.Y(c)},hs.prototype.Y=function(c){try{if(c==this.g)e:{const _e=ms(this.g),_t=this.g.ya(),ze=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||Mw(this.g)))){this.K||_e!=4||_t==7||(_t==8||ze<=0?ll(3):ll(2)),pp(this);var f=this.g.ca();this.X=f;var y=LL(this);if(this.o=f==200,kL(this.i,this.v,this.B,this.l,this.S,_e,f),this.o){if(this.U&&!this.L){t:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var j=A;break t}}j=null}if(c=j)vo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mp(this,c);else{this.o=!1,this.m=3,Zt(12),xi(this),hl(this);break e}}if(this.R){c=!0;let bt;for(;!this.K&&this.C<y.length;)if(bt=VL(this,y),bt==hp){_e==4&&(this.m=4,Zt(14),c=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==pw){this.m=4,Zt(15),vo(this.i,this.l,y,"[Invalid Chunk]"),c=!1;break}else vo(this.i,this.l,bt,null),mp(this,bt);if(gw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||y.length!=0||this.h.h||(this.m=1,Zt(16),c=!1),this.o=this.o&&c,!c)vo(this.i,this.l,y,"[Invalid Chunked Response]"),xi(this),hl(this);else if(y.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Sp(K),K.P=!0,Zt(11))}}else vo(this.i,this.l,y,null),mp(this,y);_e==4&&xi(this),this.o&&!this.K&&(_e==4?$w(this.j,this):(this.o=!1,Nu(this)))}else ZL(this.g),f==400&&y.indexOf("Unknown SID")>0?(this.m=3,Zt(12)):(this.m=0,Zt(13)),xi(this),hl(this)}}}catch{}finally{}};function LL(c){if(!gw(c))return c.g.la();const f=Mw(c.g);if(f==="")return"";let y="";const A=f.length,V=ms(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return xi(c),hl(c),"";c.h.i=new o.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,y+=c.h.i.decode(f[j],{stream:!(V&&j==A-1)});return f.length=0,c.h.g+=y,c.C=0,c.h.g}function gw(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function VL(c,f){var y=c.C,A=f.indexOf(`
`,y);return A==-1?hp:(y=Number(f.substring(y,A)),isNaN(y)?pw:(A+=1,A+y>f.length?hp:(f=f.slice(A,A+y),c.C=A+y,f)))}hs.prototype.cancel=function(){this.K=!0,xi(this)};function Nu(c){c.T=Date.now()+c.H,yw(c,c.H)}function yw(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=cl(u(c.aa,c),f)}function pp(c){c.D&&(o.clearTimeout(c.D),c.D=null)}hs.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(DL(this.i,this.B),this.M!=2&&(ll(),Zt(17)),xi(this),this.m=2,hl(this)):yw(this,this.T-c)};function hl(c){c.j.I==0||c.K||$w(c.j,c)}function xi(c){pp(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,sw(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function mp(c,f){try{var y=c.j;if(y.I!=0&&(y.g==c||gp(y.h,c))){if(!c.L&&gp(y.h,c)&&y.I==3){try{var A=y.Ba.g.parse(f)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<c.F)Vu(y),Mu(y);else break e;Tp(y),Zt(18)}}else y.xa=V[1],0<y.xa-y.K&&V[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=cl(u(y.Va,y),6e3));ww(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ii(y,11)}else if((c.L||y.g==c)&&Vu(y),!R(f))for(V=y.Ba.g.parse(f),f=0;f<V.length;f++){let ze=V[f];const bt=ze[0];if(!(bt<=y.K))if(y.K=bt,ze=ze[1],y.I==2)if(ze[0]=="c"){y.M=ze[1],y.ba=ze[2];const ur=ze[3];ur!=null&&(y.ka=ur,y.j.info("VER="+y.ka));const Ci=ze[4];Ci!=null&&(y.za=Ci,y.j.info("SVER="+y.za));const gs=ze[5];gs!=null&&typeof gs=="number"&&gs>0&&(A=1.5*gs,y.O=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const ys=c.g;if(ys){const Fu=ys.g?ys.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fu){var j=A.h;j.g||Fu.indexOf("spdy")==-1&&Fu.indexOf("quic")==-1&&Fu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(yp(j,j.h),j.h=null))}if(A.G){const xp=ys.g?ys.g.getResponseHeader("X-HTTP-Session-Id"):null;xp&&(A.wa=xp,He(A.J,A.G,xp))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-c.F,y.j.info("Handshake RTT: "+y.T+"ms")),A=y;var K=c;if(A.na=qw(A,A.L?A.ba:null,A.W),K.L){Ew(A.h,K);var _e=K,_t=A.O;_t&&(_e.H=_t),_e.D&&(pp(_e),Nu(_e)),A.g=K}else Uw(A);y.i.length>0&&Lu(y)}else ze[0]!="stop"&&ze[0]!="close"||Ii(y,7);else y.I==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Ii(y,7):Ep(y):ze[0]!="noop"&&y.l&&y.l.qa(ze),y.A=0)}}ll(4)}catch{}}var jL=class{constructor(c,f){this.g=c,this.map=f}};function vw(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _w(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ww(c){return c.h?1:c.g?c.g.size:0}function gp(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function yp(c,f){c.g?c.g.add(f):c.h=f}function Ew(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}vw.prototype.cancel=function(){if(this.i=Tw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tw(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const y of c.g.values())f=f.concat(y.G);return f}return v(c.i)}var Sw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FL(c,f){if(c){c=c.split("&");for(let y=0;y<c.length;y++){const A=c[y].indexOf("=");let V,j=null;A>=0?(V=c[y].substring(0,A),j=c[y].substring(A+1)):V=c[y],f(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function fs(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof fs?(this.l=c.l,fl(this,c.j),this.o=c.o,this.g=c.g,pl(this,c.u),this.h=c.h,vp(this,Pw(c.i)),this.m=c.m):c&&(f=String(c).match(Sw))?(this.l=!1,fl(this,f[1]||"",!0),this.o=ml(f[2]||""),this.g=ml(f[3]||"",!0),pl(this,f[4]),this.h=ml(f[5]||"",!0),vp(this,f[6]||"",!0),this.m=ml(f[7]||"")):(this.l=!1,this.i=new yl(null,this.l))}fs.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(gl(f,xw,!0),":");var y=this.g;return(y||f=="file")&&(c.push("//"),(f=this.o)&&c.push(gl(f,xw,!0),"@"),c.push(dl(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&c.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(gl(y,y.charAt(0)=="/"?$L:zL,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",gl(y,HL)),c.join("")},fs.prototype.resolve=function(c){const f=cr(this);let y=!!c.j;y?fl(f,c.j):y=!!c.o,y?f.o=c.o:y=!!c.g,y?f.g=c.g:y=c.u!=null;var A=c.h;if(y)pl(f,c.u);else if(y=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var V=f.h.lastIndexOf("/");V!=-1&&(A=f.h.slice(0,V+1)+A)}if(V=A,V==".."||V==".")A="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){A=V.lastIndexOf("/",0)==0,V=V.split("/");const j=[];for(let K=0;K<V.length;){const _e=V[K++];_e=="."?A&&K==V.length&&j.push(""):_e==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&K==V.length&&j.push("")):(j.push(_e),A=!0)}A=j.join("/")}else A=V}return y?f.h=A:y=c.i.toString()!=="",y?vp(f,Pw(c.i)):y=!!c.m,y&&(f.m=c.m),f};function cr(c){return new fs(c)}function fl(c,f,y){c.j=y?ml(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function pl(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function vp(c,f,y){f instanceof yl?(c.i=f,qL(c.i,c.l)):(y||(f=gl(f,BL)),c.i=new yl(f,c.l))}function He(c,f,y){c.i.set(f,y)}function ku(c){return He(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ml(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gl(c,f,y){return typeof c=="string"?(c=encodeURI(c).replace(f,UL),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function UL(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xw=/[#\/\?@]/g,zL=/[#\?:]/g,$L=/[#\?]/g,BL=/[#\?@]/g,HL=/#/g;function yl(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function bi(c){c.g||(c.g=new Map,c.h=0,c.i&&FL(c.i,function(f,y){c.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}t=yl.prototype,t.add=function(c,f){bi(this),this.i=null,c=_o(this,c);let y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(f),this.h+=1,this};function bw(c,f){bi(c),f=_o(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Iw(c,f){return bi(c),f=_o(c,f),c.g.has(f)}t.forEach=function(c,f){bi(this),this.g.forEach(function(y,A){y.forEach(function(V){c.call(f,V,A,this)},this)},this)};function Cw(c,f){bi(c);let y=[];if(typeof f=="string")Iw(c,f)&&(y=y.concat(c.g.get(_o(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)y=y.concat(c[f]);return y}t.set=function(c,f){return bi(this),this.i=null,c=_o(this,c),Iw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=Cw(this,c),c.length>0?String(c[0]):f):f};function Aw(c,f,y){bw(c,f),y.length>0&&(c.i=null,c.g.set(_o(c,f),v(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let A=0;A<f.length;A++){var y=f[A];const V=dl(y);y=Cw(this,y);for(let j=0;j<y.length;j++){let K=V;y[j]!==""&&(K+="="+dl(y[j])),c.push(K)}}return this.i=c.join("&")};function Pw(c){const f=new yl;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function _o(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function qL(c,f){f&&!c.j&&(bi(c),c.i=null,c.g.forEach(function(y,A){const V=A.toLowerCase();A!=V&&(bw(this,A),Aw(this,V,y))},c)),c.j=f}function WL(c,f){const y=new ul;if(o.Image){const A=new Image;A.onload=d(ps,y,"TestLoadImage: loaded",!0,f,A),A.onerror=d(ps,y,"TestLoadImage: error",!1,f,A),A.onabort=d(ps,y,"TestLoadImage: abort",!1,f,A),A.ontimeout=d(ps,y,"TestLoadImage: timeout",!1,f,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else f(!1)}function GL(c,f){const y=new ul,A=new AbortController,V=setTimeout(()=>{A.abort(),ps(y,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(V),j.ok?ps(y,"TestPingServer: ok",!0,f):ps(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),ps(y,"TestPingServer: error",!1,f)})}function ps(c,f,y,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(y)}catch{}}function KL(){this.g=new RL}function _p(c){this.i=c.Sb||null,this.h=c.ab||!1}h(_p,iw),_p.prototype.g=function(){return new Du(this.i,this.h)};function Du(c,f){at.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Du,at),t=Du.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,_l(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?vl(this):_l(this),this.readyState==3&&Rw(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,vl(this))},t.Na=function(c){this.g&&(this.response=c,vl(this))},t.ga=function(){this.g&&vl(this)};function vl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,_l(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=f.next();return c.join(`\r
`)};function _l(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nw(c){let f="";return G(c,function(y,A){f+=A,f+=":",f+=y,f+=`\r
`}),f}function wp(c,f,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Nw(y),typeof c=="string"?y!=null&&dl(y):He(c,f,y))}function rt(c){at.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(rt,at);var QL=/^https?$/i,XL=["POST","PUT"];t=rt.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hw.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(j){kw(this,j);return}if(c=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)y.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())y.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),V=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(XL,f,void 0)>=0)||A||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of y)this.g.setRequestHeader(j,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){kw(this,j)}};function kw(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,Dw(c),Ou(c)}function Dw(c){c.A||(c.A=!0,Xt(c,"complete"),Xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Xt(this,"complete"),Xt(this,"abort"),Ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ou(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ow(this):this.Xa())},t.Xa=function(){Ow(this)};function Ow(c){if(c.h&&typeof i<"u"){if(c.v&&ms(c)==4)setTimeout(c.Ca.bind(c),0);else if(Xt(c,"readystatechange"),ms(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var A;if(A=j===0){let K=String(c.D).match(Sw)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),A=!QL.test(K?K.toLowerCase():"")}y=A}if(y)Xt(c,"complete"),Xt(c,"success");else{c.o=6;try{var V=ms(c)>2?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.ca()+"]",Dw(c)}}finally{Ou(c)}}}}function Ou(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const y=c.g;c.g=null,f||Xt(c,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ms(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),PL(f)}};function Mw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ZL(c){const f={};c=(c.g&&ms(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var y=ML(c[A]);const V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=f[V]||[];f[V]=j,j.push(y)}ne(f,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wl(c,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||f}function Lw(c){this.za=0,this.i=[],this.j=new ul,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wl("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wl("baseRetryDelayMs",5e3,c),this.Za=wl("retryDelaySeedMs",1e4,c),this.Ta=wl("forwardChannelMaxRetries",2,c),this.va=wl("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new vw(c&&c.concurrentRequestLimit),this.Ba=new KL,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Lw.prototype,t.ka=8,t.I=1,t.connect=function(c,f,y,A){Zt(0),this.W=c,this.H=f||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.J=qw(this,null,this.W),Lu(this)};function Ep(c){if(Vw(c),c.I==3){var f=c.V++,y=cr(c.J);if(He(y,"SID",c.M),He(y,"RID",f),He(y,"TYPE","terminate"),El(c,y),f=new hs(c,c.j,f),f.M=2,f.A=ku(cr(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=f.A,y=!0),y||(f.g=Ww(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Nu(f)}Hw(c)}function Mu(c){c.g&&(Sp(c),c.g.cancel(),c.g=null)}function Vw(c){Mu(c),c.v&&(o.clearTimeout(c.v),c.v=null),Vu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Lu(c){if(!_w(c.h)&&!c.m){c.m=!0;var f=c.Ea;O||x(),L||(O(),L=!0),I.add(f,c),c.D=0}}function YL(c,f){return ww(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=cl(u(c.Ea,c,f),Bw(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const V=new hs(this,this.j,c);let j=this.o;if(this.U&&(j?(j=de(j),xt(j,this.U)):j=this.U),this.u!==null||this.R||(V.J=j,j=null),this.S)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(f+=A,f>4096){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Fw(this,V,f),y=cr(this.J),He(y,"RID",c),He(y,"CVER",22),this.G&&He(y,"X-HTTP-Session-Id",this.G),El(this,y),j&&(this.R?f="headers="+dl(Nw(j))+"&"+f:this.u&&wp(y,this.u,j)),yp(this.h,V),this.Ra&&He(y,"TYPE","init"),this.S?(He(y,"$req",f),He(y,"SID","null"),V.U=!0,fp(V,y,null)):fp(V,y,f),this.I=2}}else this.I==3&&(c?jw(this,c):this.i.length==0||_w(this.h)||jw(this))};function jw(c,f){var y;f?y=f.l:y=c.V++;const A=cr(c.J);He(A,"SID",c.M),He(A,"RID",y),He(A,"AID",c.K),El(c,A),c.u&&c.o&&wp(A,c.u,c.o),y=new hs(c,c.j,y,c.D+1),c.u===null&&(y.J=c.o),f&&(c.i=f.G.concat(c.i)),f=Fw(c,y,1e3),y.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),yp(c.h,y),fp(y,A,f)}function El(c,f){c.H&&G(c.H,function(y,A){He(f,A,y)}),c.l&&G({},function(y,A){He(f,A,y)})}function Fw(c,f,y){y=Math.min(c.i.length,y);const A=c.l?u(c.l.Ka,c.l,c):null;e:{var V=c.i;let _e=-1;for(;;){const _t=["count="+y];_e==-1?y>0?(_e=V[0].g,_t.push("ofs="+_e)):_e=0:_t.push("ofs="+_e);let ze=!0;for(let bt=0;bt<y;bt++){var j=V[bt].g;const ur=V[bt].map;if(j-=_e,j<0)_e=Math.max(0,V[bt].g-100),ze=!1;else try{j="req"+j+"_"||"";try{var K=ur instanceof Map?ur:Object.entries(ur);for(const[Ci,gs]of K){let ys=gs;a(gs)&&(ys=lp(gs)),_t.push(j+Ci+"="+encodeURIComponent(ys))}}catch(Ci){throw _t.push(j+"type="+encodeURIComponent("_badmap")),Ci}}catch{A&&A(ur)}}if(ze){K=_t.join("&");break e}}K=void 0}return c=c.i.splice(0,y),f.G=c,K}function Uw(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;O||x(),L||(O(),L=!0),I.add(f,c),c.A=0}}function Tp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=cl(u(c.Da,c),Bw(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,zw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=cl(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Zt(10),Mu(this),zw(this))};function Sp(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function zw(c){c.g=new hs(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=cr(c.na);He(f,"RID","rpc"),He(f,"SID",c.M),He(f,"AID",c.K),He(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&He(f,"TO",c.ia),He(f,"TYPE","xmlhttp"),El(c,f),c.u&&c.o&&wp(f,c.u,c.o),c.O&&(c.g.H=c.O);var y=c.g;c=c.ba,y.M=1,y.A=ku(cr(f)),y.u=null,y.R=!0,mw(y,c)}t.Va=function(){this.C!=null&&(this.C=null,Mu(this),Tp(this),Zt(19))};function Vu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function $w(c,f){var y=null;if(c.g==f){Vu(c),Sp(c),c.g=null;var A=2}else if(gp(c.h,f))y=f.G,Ew(c.h,f),A=1;else return;if(c.I!=0){if(f.o)if(A==1){y=f.u?f.u.length:0,f=Date.now()-f.F;var V=c.D;A=Pu(),Xt(A,new uw(A,y)),Lu(c)}else Uw(c);else if(V=f.m,V==3||V==0&&f.X>0||!(A==1&&YL(c,f)||A==2&&Tp(c)))switch(y&&y.length>0&&(f=c.h,f.i=f.i.concat(y)),V){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Bw(c,f){let y=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(y*=2),y*f}function Ii(c,f){if(c.j.info("Error code "+f),f==2){var y=u(c.bb,c),A=c.Ua;const V=!A;A=new fs(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fl(A,"https"),ku(A),V?WL(A.toString(),y):GL(A.toString(),y)}else Zt(2);c.I=0,c.l&&c.l.pa(f),Hw(c),Vw(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Hw(c){if(c.I=0,c.ja=[],c.l){const f=Tw(c.h);(f.length!=0||c.i.length!=0)&&(b(c.ja,f),b(c.ja,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.oa()}}function qw(c,f,y){var A=y instanceof fs?cr(y):new fs(y);if(A.g!="")f&&(A.g=f+"."+A.g),pl(A,A.u);else{var V=o.location;A=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;const j=new fs(null);A&&fl(j,A),f&&(j.g=f),V&&pl(j,V),y&&(j.h=y),A=j}return y=c.G,f=c.wa,y&&f&&He(A,y,f),He(A,"VER",c.ka),El(c,A),A}function Ww(c,f,y){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new rt(new _p({ab:y})):new rt(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gw(){}t=Gw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ju(){}ju.prototype.g=function(c,f){return new vn(c,f)};function vn(c,f){at.call(this),this.g=new Lw(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!R(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!R(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new wo(this)}h(vn,at),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Ep(this.g)},vn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.v&&(y={},y.__data__=lp(c),c=y);f.i.push(new jL(f.Ya++,c)),f.I==3&&Lu(f)},vn.prototype.N=function(){this.g.l=null,delete this.j,Ep(this.g),delete this.g,vn.Z.N.call(this)};function Kw(c){cp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const y in f){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}h(Kw,cp);function Qw(){up.call(this),this.status=1}h(Qw,up);function wo(c){this.g=c}h(wo,Gw),wo.prototype.ra=function(){Xt(this.g,"a")},wo.prototype.qa=function(c){Xt(this.g,new Kw(c))},wo.prototype.pa=function(c){Xt(this.g,new Qw)},wo.prototype.oa=function(){Xt(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,XO=function(){return new ju},QO=function(){return Pu()},KO=Si,sy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ru.NO_ERROR=0,Ru.TIMEOUT=8,Ru.HTTP_ERROR=6,Ud=Ru,dw.COMPLETE="complete",GO=dw,ow.EventType=al,al.OPEN="a",al.CLOSE="b",al.ERROR="c",al.MESSAGE="d",at.prototype.listen=at.prototype.J,Ul=ow,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,WO=rt}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const $1="@firebase/firestore",B1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new o_("@firebase/firestore");function Ao(){return ao.logLevel}function Y(t,...e){if(ao.logLevel<=xe.DEBUG){const n=e.map(g_);ao.debug(`Firestore (${el}): ${t}`,...n)}}function ls(t,...e){if(ao.logLevel<=xe.ERROR){const n=e.map(g_);ao.error(`Firestore (${el}): ${t}`,...n)}}function La(t,...e){if(ao.logLevel<=xe.WARN){const n=e.map(g_);ao.warn(`Firestore (${el}): ${t}`,...n)}}function g_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZO(t,r,n)}function ZO(t,e,n){let r=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ls(r),new Error(r)}function Le(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ZO(e,s,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class Qq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Xq{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new YO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class Zq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Zq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=eW(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function iy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Im(s)===Im(i)?be(s,i):Im(s)?1:-1}return be(t.length,e.length)}const tW=55296,nW=57343;function Im(t){const e=t.charCodeAt(0);return e>=tW&&e<=nW}function Va(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="__name__";class fr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=fr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return be(e.length,n.length)}static compareSegments(e,n){const r=fr.isNumericId(e),s=fr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?fr.extractNumericId(e).compare(fr.extractNumericId(n)):iy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class $e extends fr{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const rW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends fr{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return rW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q1}static keyField(){return new Mt([q1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie($e.fromString(e))}static fromName(e){return new ie($e.fromString(e).popFirst(5))}static empty(){return new ie($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new $e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sW(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W1(t){if(!ie.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G1(t){if(ie.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function iW(t,e){if(e<=0)throw new X(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tu(t,e){if(!eM(t))throw new X(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=-62135596800,Q1=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Q1);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K1)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q1}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:pt("string",Ge._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Ge(0,0))}static max(){return new fe(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=-1;function oW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new ui(s,ie.empty(),e)}function aW(t){return new ui(t.readTime,t.key,Wc)}class ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(fe.min(),ie.empty(),Wc)}static max(){return new ui(fe.max(),ie.empty(),Wc)}}function lW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==cW)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function dW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-1;function Xf(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function hW(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="";function fW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=X1(e)),e=pW(t.get(n),e);return X1(e)}function pW(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case tM:n+="";break;default:n+=i}}return n}function X1(t){return t+tM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=s??Ot.EMPTY,this.right=i??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y1(this.data.getIterator())}getIteratorFrom(e){return new Y1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class Y1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new St(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rM("Invalid base64 string: "+i):i}}(e);return new jt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const mW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=mW.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hi(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="server_timestamp",iM="__type__",oM="__previous_value__",aM="__local_write_time__";function __(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iM])==null?void 0:r.stringValue)===sM}function Zf(t){const e=t.mapValue.fields[oM];return __(e)?Zf(e):e}function Gc(t){const e=di(t.mapValue.fields[aM].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Wh="(default)";class Kc{constructor(e,n){this.projectId=e,this.database=n||Wh}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="__type__",cM="__max__",md={mapValue:{fields:{__type__:{stringValue:cM}}}},uM="__vector__",Gh="value";function fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__(t)?4:vW(t)?9007199254740991:yW(t)?10:11:ae(28295,{value:t})}function Lr(t,e){if(t===e)return!0;const n=fi(t);if(n!==fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=di(s.timestampValue),a=di(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return hi(s.bytesValue).isEqual(hi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ct(s.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ct(s.integerValue)===ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ct(s.doubleValue),a=ct(i.doubleValue);return o===a?qh(o)===qh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Va(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Z1(o)!==Z1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Lr(o[l],a[l])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function Qc(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function ja(t,e){if(t===e)return 0;const n=fi(t),r=fi(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ct(i.integerValue||i.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return J1(t.timestampValue,e.timestampValue);case 4:return J1(Gc(t),Gc(e));case 5:return iy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=hi(i),l=hi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=be(a[u],l[u]);if(d!==0)return d}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=be(ct(i.latitude),ct(o.latitude));return a!==0?a:be(ct(i.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,b,_;const a=i.fields||{},l=o.fields||{},u=(p=a[Gh])==null?void 0:p.arrayValue,d=(v=l[Gh])==null?void 0:v.arrayValue,h=be(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return h!==0?h:eT(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===md.mapValue&&o===md.mapValue)return 0;if(i===md.mapValue)return 1;if(o===md.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=iy(l[h],d[h]);if(p!==0)return p;const v=ja(a[l[h]],u[d[h]]);if(v!==0)return v}return be(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function J1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=di(t),r=di(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function eT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ja(n[s],r[s]);if(i)return i}return be(n.length,r.length)}function Fa(t){return oy(t)}function oy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=oy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${oy(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function zd(t){switch(fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zf(t);return e?16+zd(e):16;case 5:return 2*t.stringValue.length;case 6:return hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+zd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return po(r.fields,(i,o)=>{s+=i.length+zd(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function tT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ay(t){return!!t&&"integerValue"in t}function w_(t){return!!t&&"arrayValue"in t}function nT(t){return!!t&&"nullValue"in t}function rT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $d(t){return!!t&&"mapValue"in t}function yW(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lM])==null?void 0:r.stringValue)===uM}function nc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(t.arrayValue.values[n]);return e}return{...t}}function vW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=Mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=nc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());$d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];$d(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){po(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new On(nc(this.value))}}function dM(t){const e=[];return po(t.fields,(n,r)=>{const s=new Mt([n]);if($d(r)){const i=dM(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,fe.min(),fe.min(),fe.min(),On.empty(),0)}static newFoundDocument(e,n,r,s){return new Wt(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Wt(e,2,n,fe.min(),fe.min(),On.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,fe.min(),fe.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function sT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=ja(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function iT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function _W(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{}class ft extends hM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EW(e,n,r):n==="array-contains"?new xW(e,r):n==="in"?new bW(e,r):n==="not-in"?new IW(e,r):n==="array-contains-any"?new CW(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TW(e,r):new SW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ja(n,this.value)):n!==null&&fi(this.value)===fi(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends hM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ir(e,n)}matches(e){return fM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fM(t){return t.op==="and"}function pM(t){return wW(t)&&fM(t)}function wW(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function ly(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Fa(t.value);if(pM(t))return t.filters.map(e=>ly(e)).join(",");{const e=t.filters.map(n=>ly(n)).join(",");return`${t.op}(${e})`}}function mM(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Lr(r.value,s.value)}(t,e):t instanceof ir?function(r,s){return s instanceof ir&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mM(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function gM(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(t):t instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(gM).join(" ,")+"}"}(t):"Filter"}class EW extends ft{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class TW extends ft{constructor(e,n){super(e,"in",n),this.keys=yM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SW extends ft{constructor(e,n){super(e,"not-in",n),this.keys=yM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class xW extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w_(n)&&Qc(n.arrayValue,this.value)}}class bW extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qc(this.value.arrayValue,n)}}class IW extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qc(this.value.arrayValue,n)}}class CW extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function oT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new AW(t,e,n,r,s,i,o)}function E_(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ly(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fa(r)).join(",")),e.Te=n}return e.Te}function T_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_W(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function cy(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PW(t,e,n,r,s,i,o,a){return new rl(t,e,n,r,s,i,o,a)}function S_(t){return new rl(t)}function aT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vM(t){return t.collectionGroup!==null}function rc(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(Mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Xc(i,r))}),n.has(Mt.keyField().canonicalString())||e.Ie.push(new Xc(Mt.keyField(),r))}return e.Ie}function Ir(t){const e=me(t);return e.Ee||(e.Ee=RW(e,rc(t))),e.Ee}function RW(t,e){if(t.limitType==="F")return oT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Xc(s.field,i)});const n=t.endAt?new Kh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kh(t.startAt.position,t.startAt.inclusive):null;return oT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uy(t,e){const n=t.filters.concat([e]);return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qh(t,e,n){return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yf(t,e){return T_(Ir(t),Ir(e))&&t.limitType===e.limitType}function _M(t){return`${E_(Ir(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gM(s)).join(", ")}]`),Xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fa(s)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function Jf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of rc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=sT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,rc(r),s)||r.endAt&&!function(o,a,l){const u=sT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,rc(r),s))}(t,e)}function NW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wM(t){return(e,n)=>{let r=!1;for(const s of rc(t)){const i=kW(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function kW(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?ja(l,u):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return nM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=new nt(ie.comparator);function cs(){return DW}const EM=new nt(ie.comparator);function zl(...t){let e=EM;for(const n of t)e=e.insert(n.key,n);return e}function TM(t){let e=EM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mi(){return sc()}function SM(){return sc()}function sc(){return new mo(t=>t.toString(),(t,e)=>t.isEqual(e))}const OW=new nt(ie.comparator),MW=new St(ie.comparator);function Ie(...t){let e=MW;for(const n of t)e=e.add(n);return e}const LW=new St(be);function VW(){return LW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function xM(t){return{integerValue:""+t}}function jW(t,e){return hW(e)?xM(e):x_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this._=void 0}}function FW(t,e,n){return t instanceof Zc?function(s,i){const o={fields:{[iM]:{stringValue:sM},[aM]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&__(i)&&(i=Zf(i)),i&&(o.fields[oM]=i),{mapValue:o}}(n,e):t instanceof Yc?IM(t,e):t instanceof Jc?CM(t,e):function(s,i){const o=bM(s,i),a=lT(o)+lT(s.Ae);return ay(o)&&ay(s.Ae)?xM(a):x_(s.serializer,a)}(t,e)}function UW(t,e,n){return t instanceof Yc?IM(t,e):t instanceof Jc?CM(t,e):n}function bM(t,e){return t instanceof Xh?function(r){return ay(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zc extends ep{}class Yc extends ep{constructor(e){super(),this.elements=e}}function IM(t,e){const n=AM(e);for(const r of t.elements)n.some(s=>Lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jc extends ep{constructor(e){super(),this.elements=e}}function CM(t,e){let n=AM(e);for(const r of t.elements)n=n.filter(s=>!Lr(s,r));return{arrayValue:{values:n}}}class Xh extends ep{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lT(t){return ct(t.integerValue||t.doubleValue)}function AM(t){return w_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,n){this.field=e,this.transform=n}}function $W(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Yc&&s instanceof Yc||r instanceof Jc&&s instanceof Jc?Va(r.elements,s.elements,Lr):r instanceof Xh&&s instanceof Xh?Lr(r.Ae,s.Ae):r instanceof Zc&&s instanceof Zc}(t.transform,e.transform)}class BW{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tp{}function PM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NM(t.key,Cr.none()):new Su(t.key,t.data,Cr.none());{const n=t.data,r=On.empty();let s=new St(Mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new go(t.key,r,new Zn(s.toArray()),Cr.none())}}function HW(t,e,n){t instanceof Su?function(s,i,o){const a=s.value.clone(),l=uT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof go?function(s,i,o){if(!Bd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=uT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(RM(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof Su?function(i,o,a,l){if(!Bd(i.precondition,o))return a;const u=i.value.clone(),d=dT(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof go?function(i,o,a,l){if(!Bd(i.precondition,o))return a;const u=dT(i.fieldTransforms,l,o),d=o.data;return d.setAll(RM(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Bd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qW(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=bM(r.transform,s||null);i!=null&&(n===null&&(n=On.empty()),n.set(r.field,i))}return n||null}function cT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Va(r,s,(i,o)=>$W(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends tp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class go extends tp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function RM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uT(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,UW(o,a,n[s]))}return r}function dT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,FW(i,o,e))}return r}class NM extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WW extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&HW(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SM();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=PM(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(n,r)=>cT(n,r))&&Va(this.baseMutations,e.baseMutations,(n,r)=>cT(n,r))}}class b_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return OW}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new b_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ce;function XW(t){switch(t){case U.OK:return ae(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function kM(t){if(t===void 0)return ls("GRPC error has no .code"),U.UNKNOWN;switch(t){case dt.OK:return U.OK;case dt.CANCELLED:return U.CANCELLED;case dt.UNKNOWN:return U.UNKNOWN;case dt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case dt.INTERNAL:return U.INTERNAL;case dt.UNAVAILABLE:return U.UNAVAILABLE;case dt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case dt.NOT_FOUND:return U.NOT_FOUND;case dt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case dt.ABORTED:return U.ABORTED;case dt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case dt.DATA_LOSS:return U.DATA_LOSS;default:return ae(39323,{code:t})}}(Ce=dt||(dt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=new Ys([4294967295,4294967295],0);function hT(t){const e=ZW().encode(t),n=new qO;return n.update(e),new Uint8Array(n.digest())}function fT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ys([n,r],0),new Ys([s,i],0)]}class I_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ys.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ys.fromNumber(r)));return s.compare(YW)===1&&(s=new Ys([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hT(e),[r,s]=fT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new I_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=hT(e),[r,s]=fT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new np(fe.min(),s,new nt(be),cs(),Ie())}}class xu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class DM{constructor(e,n){this.targetId=e,this.Ce=n}}class OM{constructor(e,n,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class pT{constructor(){this.ve=0,this.Fe=mT(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new xu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=mT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JW{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=gd(),this.He=gd(),this.Ye=new nt(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(cy(i))if(r===0){const o=new ie(i.path);this.et(n,o,Wt.newNoDocument(o,fe.min()))}else Le(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=hi(r).toUint8Array()}catch(l){if(l instanceof rM)return La("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new I_(o,s,i)}catch(l){return La(l instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&cy(a.target)){const l=new ie(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Wt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ie();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new np(e,n,this.Ye,this.je,r);return this.je=cs(),this.Je=gd(),this.He=gd(),this.Ye=new nt(be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new pT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new St(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new St(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gd(){return new nt(ie.comparator)}function mT(){return new nt(ie.comparator)}const eG={asc:"ASCENDING",desc:"DESCENDING"},tG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nG={and:"AND",or:"OR"};class rG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dy(t,e){return t.useProto3Json||Xf(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sG(t,e){return Zh(t,e.toTimestamp())}function Ar(t){return Le(!!t,49232),fe.fromTimestamp(function(n){const r=di(n);return new Ge(r.seconds,r.nanos)}(t))}function C_(t,e){return hy(t,e).canonicalString()}function hy(t,e){const n=function(s){return new $e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LM(t){const e=$e.fromString(t);return Le(zM(e),10190,{key:e.toString()}),e}function fy(t,e){return C_(t.databaseId,e.path)}function Cm(t,e){const n=LM(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(jM(n))}function VM(t,e){return C_(t.databaseId,e)}function iG(t){const e=LM(t);return e.length===4?$e.emptyPath():jM(e)}function py(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jM(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gT(t,e,n){return{name:fy(t,e),fields:n.value.mapValue.fields}}function oG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Le(d===void 0||typeof d=="string",58123),jt.fromBase64String(d||"")):(Le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),jt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:kM(u.code);return new X(d,u.message||"")}(o);n=new OM(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cm(t,r.document.name),i=Ar(r.document.updateTime),o=r.document.createTime?Ar(r.document.createTime):fe.min(),a=new On({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Hd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Cm(t,r.document),i=r.readTime?Ar(r.readTime):fe.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Cm(t,r.document),i=r.removedTargetIds||[];n=new Hd([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new QW(s,i),a=r.targetId;n=new DM(a,o)}}return n}function aG(t,e){let n;if(e instanceof Su)n={update:gT(t,e.key,e.value)};else if(e instanceof NM)n={delete:fy(t,e.key)};else if(e instanceof go)n={update:gT(t,e.key,e.data),updateMask:gG(e.fieldMask)};else{if(!(e instanceof WW))return ae(16599,{Vt:e.type});n={verify:fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Zc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:sG(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function lG(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ar(s.updateTime):Ar(i);return o.isEqual(fe.min())&&(o=Ar(i)),new BW(o,s.transformResults||[])}(n,e))):[]}function cG(t,e){return{documents:[VM(t,e.path)]}}function uG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VM(t,s);const i=function(u){if(u.length!==0)return UM(ir.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Ro(p.field),direction:fG(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function dG(t){let e=iG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Le(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=FM(h);return p instanceof ir&&pM(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(b){return new Xc(No(b.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Xf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,v=h.values||[];return new Kh(v,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,v=h.values||[];return new Kh(v,p)}(n.endAt)),PW(e,s,o,i,a,"F",l,u)}function hG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=No(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=No(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=No(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return ft.create(No(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(r=>FM(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function fG(t){return eG[t]}function pG(t){return tG[t]}function mG(t){return nG[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function No(t){return Mt.fromServerFormat(t.fieldPath)}function UM(t){return t instanceof ft?function(n){if(n.op==="=="){if(rT(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(nT(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rT(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(nT(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:pG(n.op),value:n.value}}}(t):t instanceof ir?function(n){const r=n.getFilters().map(s=>UM(s));return r.length===1?r[0]:{compositeFilter:{op:mG(n.op),filters:r}}}(t):ae(54877,{filter:t})}function gG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e){this.yt=e}}function vG(t){const e=dG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(){this.Cn=new wG}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ui.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class wG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new St($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$M=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn($M,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ua(0)}static cr(){return new Ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="LruGarbageCollector",EG=1048576;function _T([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class TG{constructor(e){this.Ir=e,this.buffer=new St(_T),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_T(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(vT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?Y(vT,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Vr(3e5)})}}class xG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Qf.ce);const r=new TG(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(yT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ao()<=xe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function bG(t,e){return new xG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.changes=new mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ic(r.mutation,s,Zn.empty(),Ge.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Mi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=zl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=cs();const o=sc(),a=function(){return sc()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof go)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ic(d.mutation,u,d.mutation.getFieldMask(),Ge.now())):o.set(u.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new CG(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=sc();let s=new nt((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Zn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=SM();d.forEach(p=>{if(!i.has(p)){const v=PM(n.get(p),r.get(p));v!==null&&h.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Mi());let a=Wc,l=i;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ie())).next(d=>({batchId:a,changes:TM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=zl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=zl();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(h,p){return new rl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Wt.newInvalidDocument(d)))});let a=zl();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&ic(d.mutation,u,Zn.empty(),Ge.now()),Jf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ar(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:vG(s.bundledQuery),readTime:Ar(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this.overlays=new nt(ie.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mi();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Mi(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Mi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Mi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return z.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KW(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.Qr=new St(It.$r),this.Ur=new St(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ie(new $e([])),r=new It(n,e),s=new It(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new $e([])),r=new It(n,e),s=new It(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new St(It.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GW(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?v_:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(be);return n.forEach(s=>{const i=new It(s,0),o=new It(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new It(new ie(i),0);let a=new St(be);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,s=>{const i=new It(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new It(n,0),s=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e){this.ri=e,this.docs=function(){return new nt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=cs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=cs();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||lW(aW(d),r)<=0||(s.has(d.key)||Jf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OG(this)}getSize(e){return z.resolve(this.size)}}class OG extends IG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e){this.persistence=e,this.si=new mo(n=>E_(n),T_),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new A_,this.targetCount=0,this.ai=Ua.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ua(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new NG,this.referenceDelegate=e(this),this.Pi=new MG(this),this.indexManager=new _G,this.remoteDocumentCache=function(s){return new DG(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new yG(n),this.Ii=new PG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new kG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new LG(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class LG extends uW{constructor(e){super(),this.currentSequenceNumber=e}}class P_{constructor(e){this.persistence=e,this.Ri=new A_,this.Vi=null}static mi(e){return new P_(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const s=ie.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.pi=new mo(r=>fW(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=bG(this,n)}static mi(e,n){return new Yh(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zd(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new R_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return A8()?8:dW(Qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new VG;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ao()<=xe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Ao()<=xe.DEBUG&&Y("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ao()<=xe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):z.resolve())}ys(e,n){if(aT(n))return z.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Qh(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Qh(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return aT(n)||s.isEqual(fe.min())?z.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?z.resolve(null):(Ao()<=xe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Po(n)),this.vs(e,o,n,oW(s,Wc)).next(a=>a))})}Ds(e,n){let r=new St(wM(e));return n.forEach((s,i)=>{Jf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ao()<=xe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ps.getDocumentsMatchingQuery(e,n,ui.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="LocalStore",FG=3e8;class UG{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new nt(be),this.xs=new mo(i=>E_(i),T_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zG(t,e,n,r){return new UG(t,e,n,r)}async function HM(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function $G(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let v=z.resolve();return p.forEach(b=>{v=v.next(()=>d.getEntry(l,b)).next(_=>{const S=u.docVersions.get(b);Le(S!==null,48541),_.version.compareTo(S)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function qM(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function BG(t,e){const n=me(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(jt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(h,v),function(_,S,E){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=FG?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,v,d)&&a.push(n.Pi.updateTargetData(i,v))});let l=cs(),u=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(HG(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(fe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function HG(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=cs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(N_,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function qG(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=v_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WG(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function my(t,e,n){const r=me(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!nl(o))throw o;Y(N_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function wT(t,e,n){const r=me(t);let s=fe.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=me(l),p=h.xs.get(d);return p!==void 0?z.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(r,o,Ir(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ie())).next(a=>(GG(r,NW(e),a),{documents:a,Qs:i})))}function GG(t,e,n){let r=t.Os.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class ET{constructor(){this.activeTargetIds=VW()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KG{constructor(){this.Mo=new ET,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ET,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class ST{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(TT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(TT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function gy(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",XG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=gy(),a=this.zo(e,n.toUriEncodedString());Y(Am,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=Za(u);return this.Jo(e,a,l,r,d).then(h=>(Y(Am,`Received RPC '${e}' ${o}: `,h),h),h=>{throw La(Am,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=XG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class JG extends ZG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=gy();return new Promise((a,l)=>{const u=new WO;u.setWithCredentials(!0),u.listenOnce(GO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ud.NO_ERROR:const h=u.getResponseJson();Y($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Ud.TIMEOUT:Y($t,`RPC '${e}' ${o} timed out`),l(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const p=u.getStatus();if(Y($t,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const _=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(b.status);l(new X(_,b.message))}else l(new X(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(U.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y($t,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Y($t,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=gy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XO(),a=QO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");Y($t,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,v=!1;const b=new YG({Yo:S=>{v?Y($t,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(Y($t,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Y($t,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},Zo:()=>h.close()}),_=(S,E,w)=>{S.listen(E,T=>{try{w(T)}catch(k){setTimeout(()=>{throw k},0)}})};return _(h,Ul.EventType.OPEN,()=>{v||(Y($t,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),_(h,Ul.EventType.CLOSE,()=>{v||(v=!0,Y($t,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(h))}),_(h,Ul.EventType.ERROR,S=>{v||(v=!0,La($t,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),b.a_(new X(U.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ul.EventType.MESSAGE,S=>{var E;if(!v){const w=S.data[0];Le(!!w,16349);const T=w,k=(T==null?void 0:T.error)||((E=T[0])==null?void 0:E.error);if(k){Y($t,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let L=function(C){const P=dt[C];if(P!==void 0)return kM(P)}(O),I=k.message;L===void 0&&(L=U.INTERNAL,I="Unknown error status: "+O+" with message "+k.message),v=!0,b.a_(new X(L,I)),h.close()}else Y($t,`RPC '${e}' stream ${s} received:`,w),b.u_(w)}}),_(a,KO.STAT_EVENT,S=>{S.stat===sy.PROXY?Y($t,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===sy.NOPROXY&&Y($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t){return new rG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class GM{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(xT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eK extends GM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oG(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Ar(o.readTime):fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=py(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=cy(l)?{documents:cG(i,l)}:{query:uG(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MM(i,o.resumeToken);const u=dy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=Zh(i,o.snapshotVersion.toTimestamp());const u=dy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=hG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=py(this.serializer),n.removeTarget=e,this.q_(n)}}class tK extends GM{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lG(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=py(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{}class rK extends nK{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,hy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,hy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class sK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class iK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{yo(this)&&(Y(lo,"Restarting streams for network reachability change."),await async function(l){const u=me(l);u.Ea.add(4),await bu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await sp(u)}(this))})}),this.Ra=new sK(r,s)}}async function sp(t){if(yo(t))for(const e of t.da)await e(!0)}async function bu(t){for(const e of t.da)await e(!1)}function KM(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),M_(n)?O_(n):sl(n).O_()&&D_(n,e))}function k_(t,e){const n=me(t),r=sl(n);n.Ia.delete(e),r.O_()&&QM(n,e),n.Ia.size===0&&(r.O_()?r.L_():yo(n)&&n.Ra.set("Unknown"))}function D_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sl(t).Y_(e)}function QM(t,e){t.Va.Ue(e),sl(t).Z_(e)}function O_(t){t.Va=new JW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sl(t).start(),t.Ra.ua()}function M_(t){return yo(t)&&!sl(t).x_()&&t.Ia.size>0}function yo(t){return me(t).Ea.size===0}function XM(t){t.Va=void 0}async function oK(t){t.Ra.set("Online")}async function aK(t){t.Ia.forEach((e,n)=>{D_(t,e)})}async function lK(t,e){XM(t),M_(t)?(t.Ra.ha(e),O_(t)):t.Ra.set("Unknown")}async function cK(t,e,n){if(t.Ra.set("Online"),e instanceof OM&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(t,r)}else if(e instanceof Hd?t.Va.Ze(e):e instanceof DM?t.Va.st(e):t.Va.tt(e),!n.isEqual(fe.min()))try{const r=await qM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(jt.EMPTY_BYTE_STRING,d.snapshotVersion)),QM(i,l);const h=new Fs(d.target,l,u,d.sequenceNumber);D_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(lo,"Failed to raise snapshot:",r),await Jh(t,r)}}async function Jh(t,e,n){if(!nl(e))throw e;t.Ea.add(1),await bu(t),t.Ra.set("Offline"),n||(n=()=>qM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(lo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sp(t)})}function ZM(t,e){return e().catch(n=>Jh(t,n,e))}async function ip(t){const e=me(t),n=pi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:v_;for(;uK(e);)try{const s=await qG(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,dK(e,s)}catch(s){await Jh(e,s)}YM(e)&&JM(e)}function uK(t){return yo(t)&&t.Ta.length<10}function dK(t,e){t.Ta.push(e);const n=pi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function YM(t){return yo(t)&&!pi(t).x_()&&t.Ta.length>0}function JM(t){pi(t).start()}async function hK(t){pi(t).ra()}async function fK(t){const e=pi(t);for(const n of t.Ta)e.ea(n.mutations)}async function pK(t,e,n){const r=t.Ta.shift(),s=b_.from(r,e,n);await ZM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ip(t)}async function mK(t,e){e&&pi(t).X_&&await async function(r,s){if(function(o){return XW(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();pi(r).B_(),await ZM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ip(r)}}(t,e),YM(t)&&JM(t)}async function bT(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Y(lo,"RemoteStore received new credentials");const r=yo(n);n.Ea.add(3),await bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sp(n)}async function gK(t,e){const n=me(t);e?(n.Ea.delete(2),await sp(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function sl(t){return t.ma||(t.ma=function(n,r,s){const i=me(n);return i.sa(),new eK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:oK.bind(null,t),t_:aK.bind(null,t),r_:lK.bind(null,t),H_:cK.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),M_(t)?O_(t):t.Ra.set("Unknown")):(await t.ma.stop(),XM(t))})),t.ma}function pi(t){return t.fa||(t.fa=function(n,r,s){const i=me(n);return i.sa(),new tK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hK.bind(null,t),r_:mK.bind(null,t),ta:fK.bind(null,t),na:pK.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ip(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(lo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new L_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(t,e){if(ls("AsyncQueue",`${e}: ${t}`),nl(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{static emptySet(e){return new aa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=zl(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.ga=new nt(ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class za{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new za(e,n,aa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class vK{constructor(){this.queries=CT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=CT(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function CT(){return new mo(t=>_M(t),Yf)}async function _K(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new yK,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=V_(o,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&j_(n)}async function wK(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function EK(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&j_(n)}function TK(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function j_(t){t.Ca.forEach(e=>{e.next()})}var yy,AT;(AT=yy||(yy={})).Ma="default",AT.Cache="cache";class SK{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.key=e}}class tL{constructor(e){this.key=e}}class xK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=wM(e),this.tu=new aa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new IT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),v=Jf(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;p&&v?p.data.isEqual(v.data)?b!==_&&(r.track({type:3,doc:v}),S=!0):this.su(p,v)||(r.track({type:2,doc:v}),S=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),S=!0):p&&!v&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(v?(o=o.add(v),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(v,b){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:S})}};return _(v)-_(b)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new za(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new tL(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new eL(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const F_="SyncEngine";class bK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IK{constructor(e){this.key=e,this.hu=!1}}class CK{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new mo(a=>_M(a),Yf),this.Iu=new Map,this.Eu=new Set,this.du=new nt(ie.comparator),this.Au=new Map,this.Ru=new A_,this.Vu={},this.mu=new Map,this.fu=Ua.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AK(t,e,n=!0){const r=aL(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await nL(r,e,n,!0),s}async function PK(t,e){const n=aL(t);await nL(n,e,!0,!1)}async function nL(t,e,n,r){const s=await WG(t.localStore,Ir(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await RK(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&KM(t.remoteStore,s),a}async function RK(t,e,n,r,s){t.pu=(h,p,v)=>async function(_,S,E,w){let T=S.view.ru(E);T.Cs&&(T=await wT(_.localStore,S.query,!1).then(({documents:I})=>S.view.ru(I,T)));const k=w&&w.targetChanges.get(S.targetId),O=w&&w.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(T,_.isPrimaryClient,k,O);return RT(_,S.targetId,L.au),L.snapshot}(t,h,p,v);const i=await wT(t.localStore,e,!0),o=new xK(e,i.Qs),a=o.ru(i.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);RT(t,n,u.au);const d=new bK(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function NK(t,e,n){const r=me(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Yf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await my(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&k_(r.remoteStore,s.targetId),vy(r,s.targetId)}).catch(tl)):(vy(r,s.targetId),await my(r.localStore,s.targetId,!0))}async function kK(t,e){const n=me(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),k_(n.remoteStore,r.targetId))}async function DK(t,e,n){const r=UK(t);try{const s=await function(o,a){const l=me(o),u=Ge.now(),d=a.reduce((v,b)=>v.add(b.key),Ie());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=cs(),_=Ie();return l.Ns.getEntries(v,d).next(S=>{b=S,b.forEach((E,w)=>{w.isValidDocument()||(_=_.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(S=>{h=S;const E=[];for(const w of a){const T=qW(w,h.get(w.key).overlayedDocument);T!=null&&E.push(new go(w.key,T,dM(T.value.mapValue),Cr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,E,a)}).next(S=>{p=S;const E=S.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(v,S.batchId,E)})}).then(()=>({batchId:p.batchId,changes:TM(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new nt(be)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Iu(r,s.changes),await ip(r.remoteStore)}catch(s){const i=V_(s,"Failed to persist write");n.reject(i)}}async function rL(t,e){const n=me(t);try{const r=await BG(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Le(o.hu,14607):s.removedDocuments.size>0&&(Le(o.hu,42227),o.hu=!1))}),await Iu(n,r,e)}catch(r){await tl(r)}}function PT(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(u=!0)}),u&&j_(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OK(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new nt(ie.comparator);o=o.insert(i,Wt.newNoDocument(i,fe.min()));const a=Ie().add(i),l=new np(fe.min(),new Map,new nt(be),o,a);await rL(r,l),r.du=r.du.remove(i),r.Au.delete(e),U_(r)}else await my(r.localStore,e,!1).then(()=>vy(r,e,n)).catch(tl)}async function MK(t,e){const n=me(t),r=e.batch.batchId;try{const s=await $G(n.localStore,e);iL(n,r,null),sL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(n,s)}catch(s){await tl(s)}}async function LK(t,e,n){const r=me(t);try{const s=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Le(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);iL(r,e,n),sL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Iu(r,s)}catch(s){await tl(s)}}function sL(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function iL(t,e,n){const r=me(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||oL(t,r)})}function oL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(k_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),U_(t))}function RT(t,e,n){for(const r of n)r instanceof eL?(t.Ru.addReference(r.key,e),VK(t,r)):r instanceof tL?(Y(F_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oL(t,r.key)):ae(19791,{wu:r})}function VK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(F_,"New document in limbo: "+n),t.Eu.add(r),U_(t))}function U_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie($e.fromString(e)),r=t.fu.next();t.Au.set(r,new IK(n)),t.du=t.du.insert(n,r),KM(t.remoteStore,new Fs(Ir(S_(n.path)),r,"TargetPurposeLimboResolution",Qf.ce))}}async function Iu(t,e,n){const r=me(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=R_.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=me(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,p=>z.forEach(p.Es,v=>d.persistence.referenceDelegate.addReference(h,p.targetId,v)).next(()=>z.forEach(p.ds,v=>d.persistence.referenceDelegate.removeReference(h,p.targetId,v)))))}catch(h){if(!nl(h))throw h;Y(N_,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const v=d.Ms.get(p),b=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(p,_)}}}(r.localStore,i))}async function jK(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Y(F_,"User change. New user:",e.toKey());const r=await HM(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new X(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(n,r.Ls)}}function FK(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function aL(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OK.bind(null,e),e.Pu.H_=EK.bind(null,e.eventManager),e.Pu.yu=TK.bind(null,e.eventManager),e}function UK(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LK.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zG(this.persistence,new jG,e.initialUser,this.serializer)}Cu(e){return new BM(P_.mi,this.serializer)}Du(e){return new KG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class zK extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof Yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new BM(r=>Yh.mi(r,n),this.serializer)}}class _y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jK.bind(null,this.syncEngine),await gK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vK}()}createDatastore(e){const n=rp(e.databaseInfo.databaseId),r=function(i){return new JG(i)}(e.databaseInfo);return function(i,o,a,l){return new rK(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new iK(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>PT(this.syncEngine,n,0),function(){return ST.v()?new ST:new QG}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new CK(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);Y(lo,"RemoteStore shutting down."),i.Ea.add(5),await bu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="FirestoreClient";class BK{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(mi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(mi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=V_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rm(t,e){t.asyncQueue.verifyOperationInProgress(),Y(mi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await HM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HK(t);Y(mi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>bT(e.remoteStore,s)),t._onlineComponents=e}async function HK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(mi,"Using user provided OfflineComponentProvider");try{await Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Rm(t,new ef)}}else Y(mi,"Using default OfflineComponentProvider"),await Rm(t,new zK(void 0));return t._offlineComponents}async function lL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(mi,"Using user provided OnlineComponentProvider"),await NT(t,t._uninitializedComponentsProvider._online)):(Y(mi,"Using default OnlineComponentProvider"),await NT(t,new _y))),t._onlineComponents}function qK(t){return lL(t).then(e=>e.syncEngine)}async function kT(t){const e=await lL(t),n=e.eventManager;return n.onListen=AK.bind(null,e.syncEngine),n.onUnlisten=NK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kK.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="firestore.googleapis.com",OT=!0;class MT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uL,this.ssl=OT}else this.host=e.host,this.ssl=e.ssl??OT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$M;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EG)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cL(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class op{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Kq;switch(r.type){case"firstParty":return new Yq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DT.get(n);r&&(Y("ComponentProvider","Removing Datastore"),DT.delete(n),r.terminate())}(this),Promise.resolve()}}function WK(t,e,n,r={}){var u;t=qi(t,op);const s=Za(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(iO(`https://${a}`),oO("Firestore",!0)),i.host!==uL&&i.host!==a&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!so(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Ht.MOCK_USER;else{d=_8(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ht(p)}t._authCredentials=new Qq(new YO(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tu(n,mt._jsonSchema))return new mt(e,r||null,new ie($e.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:pt("string",mt._jsonSchemaVersion),referencePath:pt("string")};class Js extends Ei{constructor(e,n,r){super(e,n,S_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ie(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function il(t,e,...n){if(t=gn(t),JO("collection","path",e),t instanceof op){const r=$e.fromString(e,...n);return G1(r),new Js(t,null,r)}{if(!(t instanceof mt||t instanceof Js))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return G1(r),new Js(t.firestore,null,r)}}function dL(t,e,...n){if(t=gn(t),arguments.length===1&&(e=y_.newId()),JO("doc","path",e),t instanceof op){const r=$e.fromString(e,...n);return W1(r),new mt(t,null,new ie(r))}{if(!(t instanceof mt||t instanceof Js))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return W1(r),new mt(t.firestore,t instanceof Js?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WM(this,"async_queue_retry"),this._c=()=>{const r=Pm();r&&Y(LT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nl(e))throw e;Y(LT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",jT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=L_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:jT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class eu extends op{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new VT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function GK(t,e){const n=typeof t=="object"?t:uO(),r=typeof t=="string"?t:Wh,s=l_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=y8("firestore");i&&WK(s,...i)}return s}function hL(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KK(t),t._firestoreClient}function KK(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new gW(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cL(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new BK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(jt.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:pt("string",Mn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:pt("string",Pr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Rr(e.vectorValues);throw new X(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:pt("string",Rr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK=/^__.*__$/;class XK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new go(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}function fL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class B_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new B_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fL(this.Ac)&&QK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rp(e)}Cc(e,n,r,s=!1){return new B_({Ac:e,methodName:n,Dc:r,path:Mt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H_(t){const e=t._freezeSettings(),n=rp(t._databaseId);return new ZK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pL(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);yL("Data must be an object, but it was:",o,r);const a=mL(r,o);let l,u;if(i.merge)l=new Zn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=JK(e,h,n);if(!o.contains(p))throw new X(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);tQ(d,p)||d.push(p)}l=new Zn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new XK(new On(a),l,u)}class q_ extends $_{_toFieldTransform(e){return new zW(e.path,new Zc)}isEqual(e){return e instanceof q_}}function YK(t,e,n,r=!1){return W_(n,t.Cc(r?4:3,e))}function W_(t,e){if(gL(t=gn(t)))return yL("Unsupported field value:",e,t),mL(t,e);if(t instanceof $_)return function(r,s){if(!fL(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=W_(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jW(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ge.fromDate(r);return{timestampValue:Zh(s.serializer,i)}}if(r instanceof Ge){const i=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(s.serializer,i)}}if(r instanceof Pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:MM(s.serializer,r._byteString)};if(r instanceof mt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:C_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rr)return function(o,a){return{mapValue:{fields:{[lM]:{stringValue:uM},[Gh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return x_(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Kf(r)}`)}(t,e)}function mL(t,e){const n={};return nM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(t,(r,s)=>{const i=W_(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function gL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Pr||t instanceof Mn||t instanceof mt||t instanceof $_||t instanceof Rr)}function yL(t,e,n){if(!gL(n)||!eM(n)){const r=Kf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function JK(t,e,n){if((e=gn(e))instanceof z_)return e._internalPath;if(typeof e=="string")return vL(t,e);throw tf("Field path arguments must be of type string or ",t,!1,void 0,n)}const eQ=new RegExp("[~\\*/\\[\\]]");function vL(t,e,n){if(e.search(eQ)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new z_(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(U.INVALID_ARGUMENT,a+t+l)}function tQ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(G_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nQ extends _L{data(){return super.data()}}function G_(t,e){return typeof e=="string"?vL(t,e):e instanceof z_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K_{}class Q_ extends K_{}function wL(t,e,...n){let r=[];e instanceof K_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Z_).length,a=i.filter(l=>l instanceof X_).length;if(o>1||o>0&&a>0)throw new X(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class X_ extends Q_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new X_(e,n,r)}_apply(e){const n=this._parse(e);return SL(e._query,n),new Ei(e.firestore,e.converter,uy(e._query,n))}_parse(e){const n=H_(e.firestore);return function(i,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){zT(h,d);const b=[];for(const _ of h)b.push(UT(l,i,_));p={arrayValue:{values:b}}}else p=UT(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||zT(h,d),p=YK(a,o,h,d==="in"||d==="not-in");return ft.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Z_ extends K_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Z_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)SL(o,l),o=uy(o,l)}(e._query,n),new Ei(e.firestore,e.converter,uy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y_ extends Q_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Y_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(i,o)}(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new rl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function EL(t,e="asc"){const n=e,r=G_("orderBy",t);return Y_._create(r,n)}class J_ extends Q_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new J_(e,n,r)}_apply(e){return new Ei(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function TL(t){return iW("limit",t),J_._create("limit",t,"F")}function UT(t,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new X(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vM(e)&&n.indexOf("/")!==-1)throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!ie.isDocumentKey(r))throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tT(t,new ie(r))}if(n instanceof mt)return tT(t,n._key);throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function zT(t,e){if(!Array.isArray(t)||t.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SL(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sQ{convertValue(e,n="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return po(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Gh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ct(o.doubleValue));return new Rr(n)}convertGeoPoint(e){return new Pr(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=di(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Le(zM(r),9688,{name:e});const s=new Kc(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||ls(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wi extends _L{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(G_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wi._jsonSchema={type:pt("string",Wi._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class qd extends Wi{data(e={}){return super.data(e)}}class la{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qd(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new qd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new qd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:iQ(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=y_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:pt("string",la._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class bL extends sQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function oQ(t,e,n){t=qi(t,mt);const r=qi(t.firestore,eu),s=xL(t.converter,e,n);return IL(r,[pL(H_(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Cr.none())])}function ew(t,e){const n=qi(t.firestore,eu),r=dL(t),s=xL(t.converter,e);return IL(n,[pL(H_(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function tw(t,...e){var l,u,d;t=gn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||FT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(FT(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof mt)o=qi(t.firestore,eu),a=S_(t._key.path),i={next:h=>{e[r]&&e[r](aQ(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=qi(t,Ei);o=qi(h.firestore,eu),a=h._query;const p=new bL(o);i={next:v=>{e[r]&&e[r](new la(o,p,h,v))},error:e[r+1],complete:e[r+2]},rQ(t._query)}return function(p,v,b,_){const S=new $K(_),E=new SK(v,S,b);return p.asyncQueue.enqueueAndForget(async()=>_K(await kT(p),E)),()=>{S.Nu(),p.asyncQueue.enqueueAndForget(async()=>wK(await kT(p),E))}}(hL(o),a,s,i)}function IL(t,e){return function(r,s){const i=new Hi;return r.asyncQueue.enqueueAndForget(async()=>DK(await qK(r),s,i)),i.promise}(hL(t),e)}function aQ(t,e,n){const r=n.docs.get(e._key),s=new bL(t);return new Wi(t,s,e._key,r,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}function ap(){return new q_("serverTimestamp")}(function(e,n=!0){(function(s){el=s})(Ya),Ma(new io("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new eu(new Xq(r.getProvider("auth-internal")),new Jq(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xs($1,B1,e),Xs($1,B1,"esm2020")})();const $T={apiKey:"AIzaSyB2WA7yotRlqNidwIgJcT19JNrK8ukMgs4",authDomain:"phasmophobiabroads.firebaseapp.com",projectId:"phasmophobiabroads",storageBucket:"phasmophobiabroads.firebasestorage.app",messagingSenderId:"503659624108",appId:"1:503659624108:web:6e57fbc6bf36b0d5989109"},lQ=!0;let Nm=null,sn=null,wy=null;$T&&(Nm=cO($T),sn=GK(Nm),wy=Wq(Nm));let Ct=null;async function cQ(){if(!wy||!lQ)return Ct=`offline-${typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).substring(2,15)}`}`,console.log("Firebase not configured. Using offline mode  ID:",Ct),{userId:Ct,isOnline:!1};const t=wy;return new Promise((e,n)=>{MH(t,async r=>{if(r)Ct=r.uid,console.log("Firebase Auth Ready  UID:",Ct),e({userId:Ct,isOnline:!0});else try{Ct=(await PH(t)).user.uid,console.log("Signed in anonymously  UID:",Ct),e({userId:Ct,isOnline:!0})}catch(s){console.error("Firebase auth error:",s),n(s)}})})}async function uQ(t,e,n,r=!1){!Ct||!sn||await ew(il(sn,"chat"),{userId:Ct,displayName:e,photoUrl:n,text:t,isCommand:r,timestamp:ap()})}async function bo(t,e=3){if(!Ct||!sn)return;const n={hunt:"HUNT INITIATED! All agents take cover immediately!",flicker:"Lights flickering detected. Paranormal activity rising.",manifest:"Ghost manifestation in progress...",slam:"Door SLAM! Ghost activity confirmed.",curse:"Cursed object interaction detected!",event:"Paranormal event registered."};await ew(il(sn,"events"),{type:t,intensity:e,message:n[t]||n.event,triggeredBy:Ct,timestamp:ap()})}async function Io(t,e,n,r,s){if(!Ct||!sn)return;const i=dL(sn,"status",Ct);await oQ(i,{userId:Ct,displayName:t,photoUrl:e,isDead:n??!1,map:r??null,location:s??null,timestamp:ap()},{merge:!0})}async function BT(t,e){!Ct||!sn||await ew(il(sn,"evidence"),{userId:Ct,evidence:t,displayName:e,timestamp:ap()})}function dQ(t){if(!sn)return()=>{};const e=wL(il(sn,"chat"),EL("timestamp","asc"),TL(100));return tw(e,n=>{const r=[];n.forEach(s=>{var o;const i=s.data();r.push({id:s.id,userId:i.userId,displayName:i.displayName||"Unknown",photoUrl:i.photoUrl||"",text:i.text,isCommand:i.isCommand||!1,timestamp:((o=i.timestamp)==null?void 0:o.toDate())||new Date})}),t(r)})}function hQ(t){if(!sn)return()=>{};const e=wL(il(sn,"events"),EL("timestamp","desc"),TL(1));return tw(e,n=>{n.docChanges().forEach(r=>{var s;if(r.type==="added"){const i=r.doc.data();t({id:r.doc.id,type:i.type,intensity:i.intensity||3,message:i.message||"",triggeredBy:i.triggeredBy||"",timestamp:((s=i.timestamp)==null?void 0:s.toDate())||new Date})}})})}function fQ(t){return sn?tw(il(sn,"status"),e=>{const n=[];e.forEach(r=>{var i;const s=r.data();n.push({id:r.id,userId:s.userId,displayName:s.displayName||"Unknown",photoUrl:s.photoUrl||"",isDead:s.isDead||!1,map:s.map||"Unknown",location:s.location||"Unknown",timestamp:((i=s.timestamp)==null?void 0:i.toDate())||new Date})}),t(n)}):()=>{}}function pQ(){const{userId:t,displayName:e,photoUrl:n,setUser:r,activeTab:s,isFlickering:i,isShaking:o,triggerEffect:a,setEmfLevel:l,setFirebaseOnline:u}=fo(),[d,h]=g.useState(!1),[p,v]=g.useState([]),[b,_]=g.useState([]),[S,E]=g.useState([{id:"1",type:"system",message:"Command center initializing...",timestamp:new Date}]);g.useEffect(()=>{(async()=>{try{const{userId:N,isOnline:D}=await cQ();r(N,e||"Ghost Hunter",n||"https://api.dicebear.com/7.x/bottts/svg?seed=ghost1&backgroundColor=b71cff"),h(!0),u(D),E(R=>[...R,{id:Date.now().toString(),type:"system",message:D?`Firebase connected. Agent ${N.slice(0,8)} authenticated.`:`Using offline mode. Agent ${N.slice(0,8)} initialized.`,timestamp:new Date}]),D&&await Io(e||"Ghost Hunter",n||"https://api.dicebear.com/7.x/bottts/svg?seed=ghost1&backgroundColor=b71cff")}catch(N){console.error("Firebase init error:",N),u(!1),E(D=>[...D,{id:Date.now().toString(),type:"event",message:"Firebase connection failed. Using offline mode.",timestamp:new Date}])}})()},[]),g.useEffect(()=>{if(!d)return;const P=dQ(R=>{v(R)}),N=hQ(R=>{R.type==="hunt"||R.type==="slam"?a("hunt"):(R.type==="flicker"||R.type==="manifest")&&a("flicker"),l(R.intensity||3),E(B=>B.some(ee=>ee.id===`event-${R.id}`)?B:[...B,{id:`event-${R.id}`,type:R.type==="hunt"?"hunt":"event",message:R.message,timestamp:R.timestamp}])}),D=fQ(R=>{_(R)});return()=>{P(),N(),D()}},[d,a,l]);const w=g.useCallback(async(P,N)=>{if(d){if(N){const D=P.substring(1).toLowerCase(),[R,B]=D.split(":");switch(R){case"hunt":await bo("hunt",5);break;case"flicker":await bo("flicker",3);break;case"manifest":await bo("manifest",4);break;case"slam":await bo("slam",4);break;case"curse":await bo("curse",5);break;case"dead":B&&(await Io(e,n,!0),E(ee=>[...ee,{id:Date.now().toString(),type:"event",message:`${B||e} has been killed by the ghost!`,timestamp:new Date}]));break;case"revive":B&&(await Io(e,n,!1),E(ee=>[...ee,{id:Date.now().toString(),type:"system",message:`${B||e} has been revived.`,timestamp:new Date}]));break;case"location":B&&(await Io(e,n,void 0,void 0,B),E(ee=>[...ee,{id:Date.now().toString(),type:"system",message:`${e} moved to: ${B}`,timestamp:new Date}]));break;case"evidence":B&&(await BT(B.toUpperCase(),e),E(ee=>[...ee,{id:Date.now().toString(),type:"command",message:`Evidence logged: ${B.toUpperCase()}`,timestamp:new Date}]));break;default:E(ee=>[...ee,{id:Date.now().toString(),type:"command",message:`Unknown command: ${R}`,timestamp:new Date}])}}await uQ(P,e,n,N)}},[d,e,n]),T=g.useCallback(async()=>{d&&await bo("hunt",5)},[d]),k=g.useCallback(async(P,N)=>{E(D=>[...D,{id:Date.now().toString(),type:"system",message:`Profile updated: ${P}`,timestamp:new Date}]),await Io(P,N)},[]),O=g.useCallback(async P=>{await Io(e,n,void 0,P),E(N=>[...N,{id:Date.now().toString(),type:"system",message:`Investigation location set: ${P}`,timestamp:new Date}])},[e,n]),L=g.useCallback(async P=>{if(P.length>0){const N=P[P.length-1];await BT(N,e)}},[e]),I=p.map(P=>({id:P.id,userId:P.userId,displayName:P.displayName,photoUrl:P.photoUrl||"https://api.dicebear.com/7.x/bottts/svg?seed=default",text:P.text,isCommand:P.isCommand,timestamp:P.timestamp})),x=b.map(P=>({id:P.id,userId:P.userId,displayName:P.displayName,photoUrl:P.photoUrl||"https://api.dicebear.com/7.x/bottts/svg?seed=default",isDead:P.isDead,map:P.map||"Unknown",location:P.location||"Unknown"})),C=()=>{switch(s){case"chat":return m.jsx($E,{messages:I});case"evidence":return m.jsx(qz,{onEvidenceChange:L});case"ghost":return m.jsx(fB,{});case"cases":return m.jsx(NB,{});case"squad":return m.jsxs("div",{className:"space-y-6",children:[m.jsx(DB,{members:x}),m.jsx(l8,{onMapChange:O})]});case"profile":return m.jsx(i8,{onSave:k});default:return m.jsx($E,{messages:I})}};return m.jsx("div",{className:`min-h-screen p-4 sm:p-6 lg:p-10 ${i?"animate-flicker":""} ${o?"animate-shake":""}`,"data-testid":"home-page",children:m.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[m.jsx(o9,{}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsx(u9,{onTriggerHunt:T}),m.jsx(C9,{logs:S}),m.jsx(A9,{onSendMessage:w})]}),m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"phasmo-card",children:[m.jsx("h2",{className:"phasmo-subtitle text-lg font-orbitron mb-4","data-testid":"text-data-terminal",children:"DATA TERMINAL"}),m.jsx(R9,{}),m.jsx("div",{className:"mt-6","data-testid":"tab-content",children:C()})]})})]})]})})}const mQ="/PhasmophobiaBroadsHeadQuarters/";function gQ(){return m.jsxs(nF,{children:[m.jsx(dE,{path:"/",component:pQ}),m.jsx(dE,{component:t9})]})}function yQ(){return m.jsx(IF,{client:PF,children:m.jsx(Q5,{children:m.jsxs(iP,{base:mQ,children:[m.jsx(S6,{}),m.jsx(gQ,{})]})})})}KA(document.getElementById("root")).render(m.jsx(yQ,{}));
