var nV=Object.defineProperty;var Jw=t=>{throw TypeError(t)};var rV=(t,e,n)=>e in t?nV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var M=(t,e,n)=>rV(t,typeof e!="symbol"?e+"":e,n),bp=(t,e,n)=>e.has(t)||Jw("Cannot "+n);var $=(t,e,n)=>(bp(t,e,"read from private field"),n?n.call(t):e.get(t)),Me=(t,e,n)=>e.has(t)?Jw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(bp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ft=(t,e,n)=>(bp(t,e,"access private method"),n);var Uu=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return $(t,e,r)}});function sV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function LI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VI={exports:{}},rf={},jI={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.element"),iV=Symbol.for("react.portal"),oV=Symbol.for("react.fragment"),aV=Symbol.for("react.strict_mode"),lV=Symbol.for("react.profiler"),cV=Symbol.for("react.provider"),uV=Symbol.for("react.context"),dV=Symbol.for("react.forward_ref"),hV=Symbol.for("react.suspense"),fV=Symbol.for("react.memo"),pV=Symbol.for("react.lazy"),e0=Symbol.iterator;function mV(t){return t===null||typeof t!="object"?null:(t=e0&&t[e0]||t["@@iterator"],typeof t=="function"?t:null)}var FI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UI=Object.assign,zI={};function $a(t,e,n){this.props=t,this.context=e,this.refs=zI,this.updater=n||FI}$a.prototype.isReactComponent={};$a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $I(){}$I.prototype=$a.prototype;function Sy(t,e,n){this.props=t,this.context=e,this.refs=zI,this.updater=n||FI}var xy=Sy.prototype=new $I;xy.constructor=Sy;UI(xy,$a.prototype);xy.isPureReactComponent=!0;var t0=Array.isArray,BI=Object.prototype.hasOwnProperty,by={current:null},HI={key:!0,ref:!0,__self:!0,__source:!0};function qI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)BI.call(e,r)&&!HI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ru,type:t,key:i,ref:o,props:s,_owner:by.current}}function gV(t,e){return{$$typeof:ru,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iy(t){return typeof t=="object"&&t!==null&&t.$$typeof===ru}function yV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n0=/\/+/g;function Ip(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yV(""+t.key):e.toString(36)}function vd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ru:case iV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ip(o,0):r,t0(s)?(n="",t!=null&&(n=t.replace(n0,"$&/")+"/"),vd(s,e,n,"",function(u){return u})):s!=null&&(Iy(s)&&(s=gV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(n0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",t0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ip(i,a);o+=vd(i,e,n,l,s)}else if(l=mV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ip(i,a++),o+=vd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zu(t,e,n){if(t==null)return t;var r=[],s=0;return vd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},_d={transition:null},_V={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:_d,ReactCurrentOwner:by};function WI(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:zu,forEach:function(t,e,n){zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zu(t,function(){e++}),e},toArray:function(t){return zu(t,function(e){return e})||[]},only:function(t){if(!Iy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=$a;Se.Fragment=oV;Se.Profiler=lV;Se.PureComponent=Sy;Se.StrictMode=aV;Se.Suspense=hV;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_V;Se.act=WI;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=by.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BI.call(e,l)&&!HI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ru,type:t.type,key:s,ref:i,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:uV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cV,_context:t},t.Consumer=t};Se.createElement=qI;Se.createFactory=function(t){var e=qI.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:dV,render:t}};Se.isValidElement=Iy;Se.lazy=function(t){return{$$typeof:pV,_payload:{_status:-1,_result:t},_init:vV}};Se.memo=function(t,e){return{$$typeof:fV,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=_d.transition;_d.transition={};try{t()}finally{_d.transition=e}};Se.unstable_act=WI;Se.useCallback=function(t,e){return on.current.useCallback(t,e)};Se.useContext=function(t){return on.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return on.current.useDeferredValue(t)};Se.useEffect=function(t,e){return on.current.useEffect(t,e)};Se.useId=function(){return on.current.useId()};Se.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return on.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};Se.useRef=function(t){return on.current.useRef(t)};Se.useState=function(t){return on.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return on.current.useTransition()};Se.version="18.3.1";jI.exports=Se;var g=jI.exports;const Nn=LI(g),GI=sV({__proto__:null,default:Nn},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wV=g,EV=Symbol.for("react.element"),TV=Symbol.for("react.fragment"),SV=Object.prototype.hasOwnProperty,xV=wV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bV={key:!0,ref:!0,__self:!0,__source:!0};function KI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)SV.call(e,r)&&!bV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:EV,type:t,key:i,ref:o,props:s,_owner:xV.current}}rf.Fragment=TV;rf.jsx=KI;rf.jsxs=KI;VI.exports=rf;var m=VI.exports,QI={exports:{}},Cn={},XI={exports:{}},ZI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,G){var ne=F.length;F.push(G);e:for(;0<ne;){var de=ne-1>>>1,ke=F[de];if(0<s(ke,G))F[de]=G,F[ne]=ke,ne=de;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var G=F[0],ne=F.pop();if(ne!==G){F[0]=ne;e:for(var de=0,ke=F.length,xt=ke>>>1;de<xt;){var Qe=2*(de+1)-1,ln=F[Qe],yt=Qe+1,oe=F[yt];if(0>s(ln,ne))yt<ke&&0>s(oe,ln)?(F[de]=oe,F[yt]=ne,de=yt):(F[de]=ln,F[Qe]=ne,de=Qe);else if(yt<ke&&0>s(oe,ne))F[de]=oe,F[yt]=ne,de=yt;else break e}}return G}function s(F,G){var ne=F.sortIndex-G.sortIndex;return ne!==0?ne:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,v=!1,b=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=F)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function k(F){if(_=!1,T(F),!b)if(n(l)!==null)b=!0,te(O);else{var G=n(u);G!==null&&pe(k,G.startTime-F)}}function O(F,G){b=!1,_&&(_=!1,E(x),x=-1),v=!0;var ne=p;try{for(T(G),h=n(l);h!==null&&(!(h.expirationTime>G)||F&&!N());){var de=h.callback;if(typeof de=="function"){h.callback=null,p=h.priorityLevel;var ke=de(h.expirationTime<=G);G=t.unstable_now(),typeof ke=="function"?h.callback=ke:h===n(l)&&r(l),T(G)}else r(l);h=n(l)}if(h!==null)var xt=!0;else{var Qe=n(u);Qe!==null&&pe(k,Qe.startTime-G),xt=!1}return xt}finally{h=null,p=ne,v=!1}}var L=!1,I=null,x=-1,C=5,P=-1;function N(){return!(t.unstable_now()-P<C)}function D(){if(I!==null){var F=t.unstable_now();P=F;var G=!0;try{G=I(!0,F)}finally{G?R():(L=!1,I=null)}}else L=!1}var R;if(typeof w=="function")R=function(){w(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ee=B.port2;B.port1.onmessage=D,R=function(){ee.postMessage(null)}}else R=function(){S(D,0)};function te(F){I=F,L||(L=!0,R())}function pe(F,G){x=S(function(){F(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,te(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var ne=p;p=G;try{return F()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ne=p;p=F;try{return G()}finally{p=ne}},t.unstable_scheduleCallback=function(F,G,ne){var de=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?de+ne:de):ne=de,F){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ne+ke,F={id:d++,callback:G,priorityLevel:F,startTime:ne,expirationTime:ke,sortIndex:-1},ne>de?(F.sortIndex=ne,e(u,F),n(l)===null&&F===n(u)&&(_?(E(x),x=-1):_=!0,pe(k,ne-de))):(F.sortIndex=ke,e(l,F),b||v||(b=!0,te(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var G=p;return function(){var ne=p;p=G;try{return F.apply(this,arguments)}finally{p=ne}}}})(ZI);XI.exports=ZI;var IV=XI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CV=g,In=IV;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YI=new Set,oc={};function co(t,e){va(t,e),va(t+"Capture",e)}function va(t,e){for(oc[t]=e,t=0;t<e.length;t++)YI.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Om=Object.prototype.hasOwnProperty,AV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r0={},s0={};function PV(t){return Om.call(s0,t)?!0:Om.call(r0,t)?!1:AV.test(t)?s0[t]=!0:(r0[t]=!0,!1)}function RV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NV(t,e,n,r){if(e===null||typeof e>"u"||RV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cy=/[\-:]([a-z])/g;function Ay(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cy,Ay);Vt[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cy,Ay);Vt[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cy,Ay);Vt[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function Py(t,e,n,r){var s=Vt.hasOwnProperty(e)?Vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NV(e,n,s,r)&&(n=null),r||s===null?PV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=CV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$u=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),Mm=Symbol.for("react.profiler"),JI=Symbol.for("react.provider"),eC=Symbol.for("react.context"),Ny=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),ky=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),tC=Symbol.for("react.offscreen"),i0=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=i0&&t[i0]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Cp;function Dl(t){if(Cp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cp=e&&e[1]||""}return`
`+Cp+t}var Ap=!1;function Pp(t,e){if(!t||Ap)return"";Ap=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ap=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dl(t):""}function kV(t){switch(t.tag){case 5:return Dl(t.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return t=Pp(t.type,!1),t;case 11:return t=Pp(t.type.render,!1),t;case 1:return t=Pp(t.type,!0),t;default:return""}}function jm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Do:return"Fragment";case ko:return"Portal";case Mm:return"Profiler";case Ry:return"StrictMode";case Lm:return"Suspense";case Vm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eC:return(t.displayName||"Context")+".Consumer";case JI:return(t._context.displayName||"Context")+".Provider";case Ny:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ky:return e=t.displayName||null,e!==null?e:jm(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return jm(t(e))}catch{}}return null}function DV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jm(e);case 8:return e===Ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OV(t){var e=nC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bu(t){t._valueTracker||(t._valueTracker=OV(t))}function rC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fm(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sC(t,e){e=e.checked,e!=null&&Py(t,"checked",e,!1)}function Um(t,e){sC(t,e);var n=ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zm(t,e.type,n):e.hasOwnProperty("defaultValue")&&zm(t,e.type,ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zm(t,e,n){(e!=="number"||Wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ol=Array.isArray;function Wo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ei(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $m(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Ol(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ei(n)}}function iC(t,e){var n=ei(e.value),r=ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function c0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hu,aC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ac(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MV=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){MV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function lC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function cC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=lC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var LV=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hm(t,e){if(e){if(LV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function qm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wm=null;function Dy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gm=null,Go=null,Ko=null;function u0(t){if(t=ou(t)){if(typeof Gm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=cf(e),Gm(t.stateNode,t.type,e))}}function uC(t){Go?Ko?Ko.push(t):Ko=[t]:Go=t}function dC(){if(Go){var t=Go,e=Ko;if(Ko=Go=null,u0(t),e)for(t=0;t<e.length;t++)u0(e[t])}}function hC(t,e){return t(e)}function fC(){}var Rp=!1;function pC(t,e,n){if(Rp)return t(e,n);Rp=!0;try{return hC(t,e,n)}finally{Rp=!1,(Go!==null||Ko!==null)&&(fC(),dC())}}function lc(t,e){var n=t.stateNode;if(n===null)return null;var r=cf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Km=!1;if(Yr)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){Km=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Km=!1}function VV(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ql=!1,Gd=null,Kd=!1,Qm=null,jV={onError:function(t){ql=!0,Gd=t}};function FV(t,e,n,r,s,i,o,a,l){ql=!1,Gd=null,VV.apply(jV,arguments)}function UV(t,e,n,r,s,i,o,a,l){if(FV.apply(this,arguments),ql){if(ql){var u=Gd;ql=!1,Gd=null}else throw Error(W(198));Kd||(Kd=!0,Qm=u)}}function uo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d0(t){if(uo(t)!==t)throw Error(W(188))}function zV(t){var e=t.alternate;if(!e){if(e=uo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return d0(s),t;if(i===r)return d0(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function gC(t){return t=zV(t),t!==null?yC(t):null}function yC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yC(t);if(e!==null)return e;t=t.sibling}return null}var vC=In.unstable_scheduleCallback,h0=In.unstable_cancelCallback,$V=In.unstable_shouldYield,BV=In.unstable_requestPaint,ut=In.unstable_now,HV=In.unstable_getCurrentPriorityLevel,Oy=In.unstable_ImmediatePriority,_C=In.unstable_UserBlockingPriority,Qd=In.unstable_NormalPriority,qV=In.unstable_LowPriority,wC=In.unstable_IdlePriority,sf=null,wr=null;function WV(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(sf,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:QV,GV=Math.log,KV=Math.LN2;function QV(t){return t>>>=0,t===0?32:31-(GV(t)/KV|0)|0}var qu=64,Wu=4194304;function Ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ml(a):(i&=o,i!==0&&(r=Ml(i)))}else o=n&~s,o!==0?r=Ml(o):i!==0&&(r=Ml(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),s=1<<n,r|=t[n],e&=~s;return r}function XV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Yn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=XV(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EC(){var t=qu;return qu<<=1,!(qu&4194240)&&(qu=64),t}function Np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function YV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Yn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function My(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var je=0;function TC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SC,Ly,xC,bC,IC,Zm=!1,Gu=[],Us=null,zs=null,$s=null,cc=new Map,uc=new Map,Is=[],JV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f0(t,e){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":cc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(e.pointerId)}}function xl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ou(e),e!==null&&Ly(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function e4(t,e,n,r,s){switch(e){case"focusin":return Us=xl(Us,t,e,n,r,s),!0;case"dragenter":return zs=xl(zs,t,e,n,r,s),!0;case"mouseover":return $s=xl($s,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return cc.set(i,xl(cc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,uc.set(i,xl(uc.get(i)||null,t,e,n,r,s)),!0}return!1}function CC(t){var e=ki(t.target);if(e!==null){var n=uo(e);if(n!==null){if(e=n.tag,e===13){if(e=mC(n),e!==null){t.blockedOn=e,IC(t.priority,function(){xC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ym(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wm=r,n.target.dispatchEvent(r),Wm=null}else return e=ou(n),e!==null&&Ly(e),t.blockedOn=n,!1;e.shift()}return!0}function p0(t,e,n){wd(t)&&n.delete(e)}function t4(){Zm=!1,Us!==null&&wd(Us)&&(Us=null),zs!==null&&wd(zs)&&(zs=null),$s!==null&&wd($s)&&($s=null),cc.forEach(p0),uc.forEach(p0)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Zm||(Zm=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,t4)))}function dc(t){function e(s){return bl(s,t)}if(0<Gu.length){bl(Gu[0],t);for(var n=1;n<Gu.length;n++){var r=Gu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Us!==null&&bl(Us,t),zs!==null&&bl(zs,t),$s!==null&&bl($s,t),cc.forEach(e),uc.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)CC(n),n.blockedOn===null&&Is.shift()}var Qo=us.ReactCurrentBatchConfig,Zd=!0;function n4(t,e,n,r){var s=je,i=Qo.transition;Qo.transition=null;try{je=1,Vy(t,e,n,r)}finally{je=s,Qo.transition=i}}function r4(t,e,n,r){var s=je,i=Qo.transition;Qo.transition=null;try{je=4,Vy(t,e,n,r)}finally{je=s,Qo.transition=i}}function Vy(t,e,n,r){if(Zd){var s=Ym(t,e,n,r);if(s===null)zp(t,e,r,Yd,n),f0(t,r);else if(e4(s,t,e,n,r))r.stopPropagation();else if(f0(t,r),e&4&&-1<JV.indexOf(t)){for(;s!==null;){var i=ou(s);if(i!==null&&SC(i),i=Ym(t,e,n,r),i===null&&zp(t,e,r,Yd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zp(t,e,r,null,n)}}var Yd=null;function Ym(t,e,n,r){if(Yd=null,t=Dy(r),t=ki(t),t!==null)if(e=uo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yd=t,null}function AC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HV()){case Oy:return 1;case _C:return 4;case Qd:case qV:return 16;case wC:return 536870912;default:return 16}default:return 16}}var Vs=null,jy=null,Ed=null;function PC(){if(Ed)return Ed;var t,e=jy,n=e.length,r,s="value"in Vs?Vs.value:Vs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ed=s.slice(t,1<r?1-r:void 0)}function Td(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function m0(){return!1}function An(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ku:m0,this.isPropagationStopped=m0,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fy=An(Ba),iu=tt({},Ba,{view:0,detail:0}),s4=An(iu),kp,Dp,Il,of=tt({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Il&&(Il&&t.type==="mousemove"?(kp=t.screenX-Il.screenX,Dp=t.screenY-Il.screenY):Dp=kp=0,Il=t),kp)},movementY:function(t){return"movementY"in t?t.movementY:Dp}}),g0=An(of),i4=tt({},of,{dataTransfer:0}),o4=An(i4),a4=tt({},iu,{relatedTarget:0}),Op=An(a4),l4=tt({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),c4=An(l4),u4=tt({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d4=An(u4),h4=tt({},Ba,{data:0}),y0=An(h4),f4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m4[t])?!!e[t]:!1}function Uy(){return g4}var y4=tt({},iu,{key:function(t){if(t.key){var e=f4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Td(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uy,charCode:function(t){return t.type==="keypress"?Td(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Td(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v4=An(y4),_4=tt({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v0=An(_4),w4=tt({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uy}),E4=An(w4),T4=tt({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),S4=An(T4),x4=tt({},of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b4=An(x4),I4=[9,13,27,32],zy=Yr&&"CompositionEvent"in window,Wl=null;Yr&&"documentMode"in document&&(Wl=document.documentMode);var C4=Yr&&"TextEvent"in window&&!Wl,RC=Yr&&(!zy||Wl&&8<Wl&&11>=Wl),_0=" ",w0=!1;function NC(t,e){switch(t){case"keyup":return I4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function A4(t,e){switch(t){case"compositionend":return kC(e);case"keypress":return e.which!==32?null:(w0=!0,_0);case"textInput":return t=e.data,t===_0&&w0?null:t;default:return null}}function P4(t,e){if(Oo)return t==="compositionend"||!zy&&NC(t,e)?(t=PC(),Ed=jy=Vs=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RC&&e.locale!=="ko"?null:e.data;default:return null}}var R4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R4[t.type]:e==="textarea"}function DC(t,e,n,r){uC(r),e=Jd(e,"onChange"),0<e.length&&(n=new Fy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gl=null,hc=null;function N4(t){HC(t,0)}function af(t){var e=Vo(t);if(rC(e))return t}function k4(t,e){if(t==="change")return e}var OC=!1;if(Yr){var Mp;if(Yr){var Lp="oninput"in document;if(!Lp){var T0=document.createElement("div");T0.setAttribute("oninput","return;"),Lp=typeof T0.oninput=="function"}Mp=Lp}else Mp=!1;OC=Mp&&(!document.documentMode||9<document.documentMode)}function S0(){Gl&&(Gl.detachEvent("onpropertychange",MC),hc=Gl=null)}function MC(t){if(t.propertyName==="value"&&af(hc)){var e=[];DC(e,hc,t,Dy(t)),pC(N4,e)}}function D4(t,e,n){t==="focusin"?(S0(),Gl=e,hc=n,Gl.attachEvent("onpropertychange",MC)):t==="focusout"&&S0()}function O4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return af(hc)}function M4(t,e){if(t==="click")return af(e)}function L4(t,e){if(t==="input"||t==="change")return af(e)}function V4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:V4;function fc(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Om.call(e,s)||!tr(t[s],e[s]))return!1}return!0}function x0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b0(t,e){var n=x0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=x0(n)}}function LC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VC(){for(var t=window,e=Wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wd(t.document)}return e}function $y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function j4(t){var e=VC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LC(n.ownerDocument.documentElement,n)){if(r!==null&&$y(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=b0(n,i);var o=b0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F4=Yr&&"documentMode"in document&&11>=document.documentMode,Mo=null,Jm=null,Kl=null,eg=!1;function I0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eg||Mo==null||Mo!==Wd(r)||(r=Mo,"selectionStart"in r&&$y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kl&&fc(Kl,r)||(Kl=r,r=Jd(Jm,"onSelect"),0<r.length&&(e=new Fy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mo)))}function Qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lo={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Vp={},jC={};Yr&&(jC=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function lf(t){if(Vp[t])return Vp[t];if(!Lo[t])return t;var e=Lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jC)return Vp[t]=e[n];return t}var FC=lf("animationend"),UC=lf("animationiteration"),zC=lf("animationstart"),$C=lf("transitionend"),BC=new Map,C0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){BC.set(t,e),co(e,[t])}for(var jp=0;jp<C0.length;jp++){var Fp=C0[jp],U4=Fp.toLowerCase(),z4=Fp[0].toUpperCase()+Fp.slice(1);gi(U4,"on"+z4)}gi(FC,"onAnimationEnd");gi(UC,"onAnimationIteration");gi(zC,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi($C,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function A0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UV(r,e,void 0,t),t.currentTarget=null}function HC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;A0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;A0(s,a,u),i=l}}}if(Kd)throw t=Qm,Kd=!1,Qm=null,t}function We(t,e){var n=e[ig];n===void 0&&(n=e[ig]=new Set);var r=t+"__bubble";n.has(r)||(qC(e,t,2,!1),n.add(r))}function Up(t,e,n){var r=0;e&&(r|=4),qC(n,t,r,e)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function pc(t){if(!t[Xu]){t[Xu]=!0,YI.forEach(function(n){n!=="selectionchange"&&($4.has(n)||Up(n,!1,t),Up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xu]||(e[Xu]=!0,Up("selectionchange",!1,e))}}function qC(t,e,n,r){switch(AC(e)){case 1:var s=n4;break;case 4:s=r4;break;default:s=Vy}n=s.bind(null,e,n,t),s=void 0,!Km||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}pC(function(){var u=i,d=Dy(n),h=[];e:{var p=BC.get(t);if(p!==void 0){var v=Fy,b=t;switch(t){case"keypress":if(Td(n)===0)break e;case"keydown":case"keyup":v=v4;break;case"focusin":b="focus",v=Op;break;case"focusout":b="blur",v=Op;break;case"beforeblur":case"afterblur":v=Op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=g0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=o4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=E4;break;case FC:case UC:case zC:v=c4;break;case $C:v=S4;break;case"scroll":v=s4;break;case"wheel":v=b4;break;case"copy":case"cut":case"paste":v=d4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=v0}var _=(e&4)!==0,S=!_&&t==="scroll",E=_?p!==null?p+"Capture":null:p;_=[];for(var w=u,T;w!==null;){T=w;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,E!==null&&(k=lc(w,E),k!=null&&_.push(mc(w,k,T)))),S)break;w=w.return}0<_.length&&(p=new v(p,b,null,n,d),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Wm&&(b=n.relatedTarget||n.fromElement)&&(ki(b)||b[Jr]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=u,b=b?ki(b):null,b!==null&&(S=uo(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(_=g0,k="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=v0,k="onPointerLeave",E="onPointerEnter",w="pointer"),S=v==null?p:Vo(v),T=b==null?p:Vo(b),p=new _(k,w+"leave",v,n,d),p.target=S,p.relatedTarget=T,k=null,ki(d)===u&&(_=new _(E,w+"enter",b,n,d),_.target=T,_.relatedTarget=S,k=_),S=k,v&&b)t:{for(_=v,E=b,w=0,T=_;T;T=Eo(T))w++;for(T=0,k=E;k;k=Eo(k))T++;for(;0<w-T;)_=Eo(_),w--;for(;0<T-w;)E=Eo(E),T--;for(;w--;){if(_===E||E!==null&&_===E.alternate)break t;_=Eo(_),E=Eo(E)}_=null}else _=null;v!==null&&P0(h,p,v,_,!1),b!==null&&S!==null&&P0(h,S,b,_,!0)}}e:{if(p=u?Vo(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var O=k4;else if(E0(p))if(OC)O=L4;else{O=O4;var L=D4}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=M4);if(O&&(O=O(t,u))){DC(h,O,n,d);break e}L&&L(t,p,u),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&zm(p,"number",p.value)}switch(L=u?Vo(u):window,t){case"focusin":(E0(L)||L.contentEditable==="true")&&(Mo=L,Jm=u,Kl=null);break;case"focusout":Kl=Jm=Mo=null;break;case"mousedown":eg=!0;break;case"contextmenu":case"mouseup":case"dragend":eg=!1,I0(h,n,d);break;case"selectionchange":if(F4)break;case"keydown":case"keyup":I0(h,n,d)}var I;if(zy)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Oo?NC(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(RC&&n.locale!=="ko"&&(Oo||x!=="onCompositionStart"?x==="onCompositionEnd"&&Oo&&(I=PC()):(Vs=d,jy="value"in Vs?Vs.value:Vs.textContent,Oo=!0)),L=Jd(u,x),0<L.length&&(x=new y0(x,t,null,n,d),h.push({event:x,listeners:L}),I?x.data=I:(I=kC(n),I!==null&&(x.data=I)))),(I=C4?A4(t,n):P4(t,n))&&(u=Jd(u,"onBeforeInput"),0<u.length&&(d=new y0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}HC(h,e)})}function mc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=lc(t,n),i!=null&&r.unshift(mc(t,i,s)),i=lc(t,e),i!=null&&r.push(mc(t,i,s))),t=t.return}return r}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=lc(n,i),l!=null&&o.unshift(mc(n,l,a))):s||(l=lc(n,i),l!=null&&o.push(mc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var B4=/\r\n?/g,H4=/\u0000|\uFFFD/g;function R0(t){return(typeof t=="string"?t:""+t).replace(B4,`
`).replace(H4,"")}function Zu(t,e,n){if(e=R0(e),R0(t)!==e&&n)throw Error(W(425))}function eh(){}var tg=null,ng=null;function rg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,q4=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,W4=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(t){return N0.resolve(null).then(t).catch(G4)}:sg;function G4(t){setTimeout(function(){throw t})}function $p(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dc(e)}function Bs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),yr="__reactFiber$"+Ha,gc="__reactProps$"+Ha,Jr="__reactContainer$"+Ha,ig="__reactEvents$"+Ha,K4="__reactListeners$"+Ha,Q4="__reactHandles$"+Ha;function ki(t){var e=t[yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k0(t);t!==null;){if(n=t[yr])return n;t=k0(t)}return e}t=n,n=t.parentNode}return null}function ou(t){return t=t[yr]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function cf(t){return t[gc]||null}var og=[],jo=-1;function yi(t){return{current:t}}function Ke(t){0>jo||(t.current=og[jo],og[jo]=null,jo--)}function Be(t,e){jo++,og[jo]=t.current,t.current=e}var ti={},Gt=yi(ti),fn=yi(!1),Gi=ti;function _a(t,e){var n=t.type.contextTypes;if(!n)return ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pn(t){return t=t.childContextTypes,t!=null}function th(){Ke(fn),Ke(Gt)}function D0(t,e,n){if(Gt.current!==ti)throw Error(W(168));Be(Gt,e),Be(fn,n)}function WC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,DV(t)||"Unknown",s));return tt({},n,r)}function nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ti,Gi=Gt.current,Be(Gt,t),Be(fn,fn.current),!0}function O0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=WC(t,e,Gi),r.__reactInternalMemoizedMergedChildContext=t,Ke(fn),Ke(Gt),Be(Gt,t)):Ke(fn),Be(fn,n)}var qr=null,uf=!1,Bp=!1;function GC(t){qr===null?qr=[t]:qr.push(t)}function X4(t){uf=!0,GC(t)}function vi(){if(!Bp&&qr!==null){Bp=!0;var t=0,e=je;try{var n=qr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,uf=!1}catch(s){throw qr!==null&&(qr=qr.slice(t+1)),vC(Oy,vi),s}finally{je=e,Bp=!1}}return null}var Fo=[],Uo=0,rh=null,sh=0,kn=[],Dn=0,Ki=null,Gr=1,Kr="";function Ai(t,e){Fo[Uo++]=sh,Fo[Uo++]=rh,rh=t,sh=e}function KC(t,e,n){kn[Dn++]=Gr,kn[Dn++]=Kr,kn[Dn++]=Ki,Ki=t;var r=Gr;t=Kr;var s=32-Yn(r)-1;r&=~(1<<s),n+=1;var i=32-Yn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gr=1<<32-Yn(e)+s|n<<s|r,Kr=i+t}else Gr=1<<i|n<<s|r,Kr=t}function By(t){t.return!==null&&(Ai(t,1),KC(t,1,0))}function Hy(t){for(;t===rh;)rh=Fo[--Uo],Fo[Uo]=null,sh=Fo[--Uo],Fo[Uo]=null;for(;t===Ki;)Ki=kn[--Dn],kn[Dn]=null,Kr=kn[--Dn],kn[Dn]=null,Gr=kn[--Dn],kn[Dn]=null}var Sn=null,Tn=null,Xe=!1,Gn=null;function QC(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,Tn=Bs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ki!==null?{id:Gr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,Tn=null,!0):!1;default:return!1}}function ag(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lg(t){if(Xe){var e=Tn;if(e){var n=e;if(!M0(t,e)){if(ag(t))throw Error(W(418));e=Bs(n.nextSibling);var r=Sn;e&&M0(t,e)?QC(r,n):(t.flags=t.flags&-4097|2,Xe=!1,Sn=t)}}else{if(ag(t))throw Error(W(418));t.flags=t.flags&-4097|2,Xe=!1,Sn=t}}}function L0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Yu(t){if(t!==Sn)return!1;if(!Xe)return L0(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rg(t.type,t.memoizedProps)),e&&(e=Tn)){if(ag(t))throw XC(),Error(W(418));for(;e;)QC(t,e),e=Bs(e.nextSibling)}if(L0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=Bs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=Sn?Bs(t.stateNode.nextSibling):null;return!0}function XC(){for(var t=Tn;t;)t=Bs(t.nextSibling)}function wa(){Tn=Sn=null,Xe=!1}function qy(t){Gn===null?Gn=[t]:Gn.push(t)}var Z4=us.ReactCurrentBatchConfig;function Cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ju(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V0(t){var e=t._init;return e(t._payload)}function ZC(t){function e(E,w){if(t){var T=E.deletions;T===null?(E.deletions=[w],E.flags|=16):T.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=Gs(E,w),E.index=0,E.sibling=null,E}function i(E,w,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<w?(E.flags|=2,w):T):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,T,k){return w===null||w.tag!==6?(w=Xp(T,E.mode,k),w.return=E,w):(w=s(w,T),w.return=E,w)}function l(E,w,T,k){var O=T.type;return O===Do?d(E,w,T.props.children,k,T.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xs&&V0(O)===w.type)?(k=s(w,T.props),k.ref=Cl(E,w,T),k.return=E,k):(k=Pd(T.type,T.key,T.props,null,E.mode,k),k.ref=Cl(E,w,T),k.return=E,k)}function u(E,w,T,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Zp(T,E.mode,k),w.return=E,w):(w=s(w,T.children||[]),w.return=E,w)}function d(E,w,T,k,O){return w===null||w.tag!==7?(w=zi(T,E.mode,k,O),w.return=E,w):(w=s(w,T),w.return=E,w)}function h(E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Xp(""+w,E.mode,T),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $u:return T=Pd(w.type,w.key,w.props,null,E.mode,T),T.ref=Cl(E,null,w),T.return=E,T;case ko:return w=Zp(w,E.mode,T),w.return=E,w;case xs:var k=w._init;return h(E,k(w._payload),T)}if(Ol(w)||Tl(w))return w=zi(w,E.mode,T,null),w.return=E,w;Ju(E,w)}return null}function p(E,w,T,k){var O=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(E,w,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $u:return T.key===O?l(E,w,T,k):null;case ko:return T.key===O?u(E,w,T,k):null;case xs:return O=T._init,p(E,w,O(T._payload),k)}if(Ol(T)||Tl(T))return O!==null?null:d(E,w,T,k,null);Ju(E,T)}return null}function v(E,w,T,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(T)||null,a(w,E,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $u:return E=E.get(k.key===null?T:k.key)||null,l(w,E,k,O);case ko:return E=E.get(k.key===null?T:k.key)||null,u(w,E,k,O);case xs:var L=k._init;return v(E,w,T,L(k._payload),O)}if(Ol(k)||Tl(k))return E=E.get(T)||null,d(w,E,k,O,null);Ju(w,k)}return null}function b(E,w,T,k){for(var O=null,L=null,I=w,x=w=0,C=null;I!==null&&x<T.length;x++){I.index>x?(C=I,I=null):C=I.sibling;var P=p(E,I,T[x],k);if(P===null){I===null&&(I=C);break}t&&I&&P.alternate===null&&e(E,I),w=i(P,w,x),L===null?O=P:L.sibling=P,L=P,I=C}if(x===T.length)return n(E,I),Xe&&Ai(E,x),O;if(I===null){for(;x<T.length;x++)I=h(E,T[x],k),I!==null&&(w=i(I,w,x),L===null?O=I:L.sibling=I,L=I);return Xe&&Ai(E,x),O}for(I=r(E,I);x<T.length;x++)C=v(I,E,x,T[x],k),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?x:C.key),w=i(C,w,x),L===null?O=C:L.sibling=C,L=C);return t&&I.forEach(function(N){return e(E,N)}),Xe&&Ai(E,x),O}function _(E,w,T,k){var O=Tl(T);if(typeof O!="function")throw Error(W(150));if(T=O.call(T),T==null)throw Error(W(151));for(var L=O=null,I=w,x=w=0,C=null,P=T.next();I!==null&&!P.done;x++,P=T.next()){I.index>x?(C=I,I=null):C=I.sibling;var N=p(E,I,P.value,k);if(N===null){I===null&&(I=C);break}t&&I&&N.alternate===null&&e(E,I),w=i(N,w,x),L===null?O=N:L.sibling=N,L=N,I=C}if(P.done)return n(E,I),Xe&&Ai(E,x),O;if(I===null){for(;!P.done;x++,P=T.next())P=h(E,P.value,k),P!==null&&(w=i(P,w,x),L===null?O=P:L.sibling=P,L=P);return Xe&&Ai(E,x),O}for(I=r(E,I);!P.done;x++,P=T.next())P=v(I,E,x,P.value,k),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?x:P.key),w=i(P,w,x),L===null?O=P:L.sibling=P,L=P);return t&&I.forEach(function(D){return e(E,D)}),Xe&&Ai(E,x),O}function S(E,w,T,k){if(typeof T=="object"&&T!==null&&T.type===Do&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case $u:e:{for(var O=T.key,L=w;L!==null;){if(L.key===O){if(O=T.type,O===Do){if(L.tag===7){n(E,L.sibling),w=s(L,T.props.children),w.return=E,E=w;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xs&&V0(O)===L.type){n(E,L.sibling),w=s(L,T.props),w.ref=Cl(E,L,T),w.return=E,E=w;break e}n(E,L);break}else e(E,L);L=L.sibling}T.type===Do?(w=zi(T.props.children,E.mode,k,T.key),w.return=E,E=w):(k=Pd(T.type,T.key,T.props,null,E.mode,k),k.ref=Cl(E,w,T),k.return=E,E=k)}return o(E);case ko:e:{for(L=T.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(E,w.sibling),w=s(w,T.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Zp(T,E.mode,k),w.return=E,E=w}return o(E);case xs:return L=T._init,S(E,w,L(T._payload),k)}if(Ol(T))return b(E,w,T,k);if(Tl(T))return _(E,w,T,k);Ju(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,T),w.return=E,E=w):(n(E,w),w=Xp(T,E.mode,k),w.return=E,E=w),o(E)):n(E,w)}return S}var Ea=ZC(!0),YC=ZC(!1),ih=yi(null),oh=null,zo=null,Wy=null;function Gy(){Wy=zo=oh=null}function Ky(t){var e=ih.current;Ke(ih),t._currentValue=e}function cg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xo(t,e){oh=t,Wy=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(Wy!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(oh===null)throw Error(W(308));zo=t,oh.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Di=null;function Qy(t){Di===null?Di=[t]:Di.push(t)}function JC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Qy(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bs=!1;function Xy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,Qy(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function Sd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,My(t,n)}}function j0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ah(t,e,n,r){var s=t.updateQueue;bs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,_=a;switch(p=e,v=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){h=b.call(v,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,p=typeof b=="function"?b.call(v,h,p):b,p==null)break e;h=tt({},h,p);break e;case 2:bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xi|=o,t.lanes=o,t.memoizedState=h}}function F0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var au={},Er=yi(au),yc=yi(au),vc=yi(au);function Oi(t){if(t===au)throw Error(W(174));return t}function Zy(t,e){switch(Be(vc,e),Be(yc,t),Be(Er,au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bm(e,t)}Ke(Er),Be(Er,e)}function Ta(){Ke(Er),Ke(yc),Ke(vc)}function tA(t){Oi(vc.current);var e=Oi(Er.current),n=Bm(e,t.type);e!==n&&(Be(yc,t),Be(Er,n))}function Yy(t){yc.current===t&&(Ke(Er),Ke(yc))}var Je=yi(0);function lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function Jy(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var xd=us.ReactCurrentDispatcher,qp=us.ReactCurrentBatchConfig,Qi=0,et=null,wt=null,At=null,ch=!1,Ql=!1,_c=0,Y4=0;function Ut(){throw Error(W(321))}function ev(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function tv(t,e,n,r,s,i){if(Qi=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xd.current=t===null||t.memoizedState===null?nj:rj,t=n(r,s),Ql){i=0;do{if(Ql=!1,_c=0,25<=i)throw Error(W(301));i+=1,At=wt=null,e.updateQueue=null,xd.current=sj,t=n(r,s)}while(Ql)}if(xd.current=uh,e=wt!==null&&wt.next!==null,Qi=0,At=wt=et=null,ch=!1,e)throw Error(W(300));return t}function nv(){var t=_c!==0;return _c=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?et.memoizedState=At=t:At=At.next=t,At}function Fn(){if(wt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=At===null?et.memoizedState:At.next;if(e!==null)At=e,wt=t;else{if(t===null)throw Error(W(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?et.memoizedState=At=t:At=At.next=t}return At}function wc(t,e){return typeof e=="function"?e(t):e}function Wp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Qi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,et.lanes|=d,Xi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,Xi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);tr(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nA(){}function rA(t,e){var n=et,r=Fn(),s=e(),i=!tr(r.memoizedState,s);if(i&&(r.memoizedState=s,hn=!0),r=r.queue,rv(oA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Ec(9,iA.bind(null,n,r,s,e),void 0,null),Pt===null)throw Error(W(349));Qi&30||sA(n,e,s)}return s}function sA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iA(t,e,n,r){e.value=n,e.getSnapshot=r,aA(e)&&lA(t)}function oA(t,e,n){return n(function(){aA(e)&&lA(t)})}function aA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function lA(t){var e=es(t,1);e!==null&&Jn(e,t,1,-1)}function U0(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:t},e.queue=t,t=t.dispatch=tj.bind(null,et,t),[e.memoizedState,t]}function Ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cA(){return Fn().memoizedState}function bd(t,e,n,r){var s=hr();et.flags|=t,s.memoizedState=Ec(1|e,n,void 0,r===void 0?null:r)}function df(t,e,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&ev(r,o.deps)){s.memoizedState=Ec(e,n,i,r);return}}et.flags|=t,s.memoizedState=Ec(1|e,n,i,r)}function z0(t,e){return bd(8390656,8,t,e)}function rv(t,e){return df(2048,8,t,e)}function uA(t,e){return df(4,2,t,e)}function dA(t,e){return df(4,4,t,e)}function hA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fA(t,e,n){return n=n!=null?n.concat([t]):null,df(4,4,hA.bind(null,e,t),n)}function sv(){}function pA(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ev(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mA(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ev(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gA(t,e,n){return Qi&21?(tr(n,e)||(n=EC(),et.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function J4(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{je=n,qp.transition=r}}function yA(){return Fn().memoizedState}function ej(t,e,n){var r=Ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vA(t))_A(e,n);else if(n=JC(t,e,n,r),n!==null){var s=nn();Jn(n,t,r,s),wA(n,e,r)}}function tj(t,e,n){var r=Ws(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vA(t))_A(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(s.next=s,Qy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=JC(t,e,s,r),n!==null&&(s=nn(),Jn(n,t,r,s),wA(n,e,r))}}function vA(t){var e=t.alternate;return t===et||e!==null&&e===et}function _A(t,e){Ql=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,My(t,n)}}var uh={readContext:jn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},nj={readContext:jn,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:z0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bd(4194308,4,hA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return bd(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ej.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:U0,useDebugValue:sv,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=U0(!1),e=t[0];return t=J4.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,s=hr();if(Xe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Pt===null)throw Error(W(349));Qi&30||sA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,z0(oA.bind(null,r,i,t),[t]),r.flags|=2048,Ec(9,iA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=hr(),e=Pt.identifierPrefix;if(Xe){var n=Kr,r=Gr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Y4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rj={readContext:jn,useCallback:pA,useContext:jn,useEffect:rv,useImperativeHandle:fA,useInsertionEffect:uA,useLayoutEffect:dA,useMemo:mA,useReducer:Wp,useRef:cA,useState:function(){return Wp(wc)},useDebugValue:sv,useDeferredValue:function(t){var e=Fn();return gA(e,wt.memoizedState,t)},useTransition:function(){var t=Wp(wc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:nA,useSyncExternalStore:rA,useId:yA,unstable_isNewReconciler:!1},sj={readContext:jn,useCallback:pA,useContext:jn,useEffect:rv,useImperativeHandle:fA,useInsertionEffect:uA,useLayoutEffect:dA,useMemo:mA,useReducer:Gp,useRef:cA,useState:function(){return Gp(wc)},useDebugValue:sv,useDeferredValue:function(t){var e=Fn();return wt===null?e.memoizedState=t:gA(e,wt.memoizedState,t)},useTransition:function(){var t=Gp(wc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:nA,useSyncExternalStore:rA,useId:yA,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hf={isMounted:function(t){return(t=t._reactInternals)?uo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),s=Ws(t),i=Zr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Hs(t,i,s),e!==null&&(Jn(e,t,s,r),Sd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),s=Ws(t),i=Zr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hs(t,i,s),e!==null&&(Jn(e,t,s,r),Sd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=Ws(t),s=Zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hs(t,s,r),e!==null&&(Jn(e,t,r,n),Sd(e,t,r))}};function $0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fc(n,r)||!fc(s,i):!0}function EA(t,e,n){var r=!1,s=ti,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=pn(e)?Gi:Gt.current,r=e.contextTypes,i=(r=r!=null)?_a(t,s):ti),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function B0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hf.enqueueReplaceState(e,e.state,null)}function dg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=pn(e)?Gi:Gt.current,s.context=_a(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ug(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hf.enqueueReplaceState(s,s.state,null),ah(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Sa(t,e){try{var n="",r=e;do n+=kV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ij=typeof WeakMap=="function"?WeakMap:Map;function TA(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hh||(hh=!0,Tg=r),hg(t,e)},n}function SA(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hg(t,e),typeof r!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function H0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ij;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=_j.bind(null,t,e,n),e.then(t,t))}function q0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,Hs(n,e,1))),n.lanes|=1),t)}var oj=us.ReactCurrentOwner,hn=!1;function Jt(t,e,n,r){e.child=t===null?YC(e,null,n,r):Ea(e,t.child,n,r)}function G0(t,e,n,r,s){n=n.render;var i=e.ref;return Xo(e,s),r=tv(t,e,n,r,i,s),n=nv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Xe&&n&&By(e),e.flags|=1,Jt(t,e,r,s),e.child)}function K0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,xA(t,e,i,r,s)):(t=Pd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fc,n(o,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=Gs(i,r),t.ref=e.ref,t.return=e,e.child=t}function xA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fc(i,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,ts(t,e,s)}return fg(t,e,n,r,s)}function bA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Bo,wn),wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Bo,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(Bo,wn),wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(Bo,wn),wn|=r;return Jt(t,e,s,n),e.child}function IA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fg(t,e,n,r,s){var i=pn(n)?Gi:Gt.current;return i=_a(e,i),Xo(e,s),n=tv(t,e,n,r,i,s),r=nv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Xe&&r&&By(e),e.flags|=1,Jt(t,e,n,s),e.child)}function Q0(t,e,n,r,s){if(pn(n)){var i=!0;nh(e)}else i=!1;if(Xo(e,s),e.stateNode===null)Id(t,e),EA(e,n,r),dg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=pn(n)?Gi:Gt.current,u=_a(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&B0(e,o,r,u),bs=!1;var p=e.memoizedState;o.state=p,ah(e,r,o,s),l=e.memoizedState,a!==r||p!==l||fn.current||bs?(typeof d=="function"&&(ug(e,n,d,r),l=e.memoizedState),(a=bs||$0(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eA(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=pn(n)?Gi:Gt.current,l=_a(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&B0(e,o,r,l),bs=!1,p=e.memoizedState,o.state=p,ah(e,r,o,s);var b=e.memoizedState;a!==h||p!==b||fn.current||bs?(typeof v=="function"&&(ug(e,n,v,r),b=e.memoizedState),(u=bs||$0(e,n,u,r,p,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return pg(t,e,n,r,i,s)}function pg(t,e,n,r,s,i){IA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&O0(e,n,!1),ts(t,e,i);r=e.stateNode,oj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ea(e,t.child,null,i),e.child=Ea(e,null,a,i)):Jt(t,e,a,i),e.memoizedState=r.state,s&&O0(e,n,!0),e.child}function CA(t){var e=t.stateNode;e.pendingContext?D0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D0(t,e.context,!1),Zy(t,e.containerInfo)}function X0(t,e,n,r,s){return wa(),qy(s),e.flags|=256,Jt(t,e,n,r),e.child}var mg={dehydrated:null,treeContext:null,retryLane:0};function gg(t){return{baseLanes:t,cachePool:null,transitions:null}}function AA(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Je,s&1),t===null)return lg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mf(o,r,0,null),t=zi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=gg(n),e.memoizedState=mg,t):iv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return aj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gs(a,i):(i=zi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?gg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=mg,r}return i=t.child,t=i.sibling,r=Gs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iv(t,e){return e=mf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ed(t,e,n,r){return r!==null&&qy(r),Ea(e,t.child,null,n),t=iv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kp(Error(W(422))),ed(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=mf({mode:"visible",children:r.children},s,0,null),i=zi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ea(e,t.child,null,o),e.child.memoizedState=gg(o),e.memoizedState=mg,i);if(!(e.mode&1))return ed(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Kp(i,r,void 0),ed(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=Pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,es(t,s),Jn(r,t,s,-1))}return dv(),r=Kp(Error(W(421))),ed(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Tn=Bs(s.nextSibling),Sn=e,Xe=!0,Gn=null,t!==null&&(kn[Dn++]=Gr,kn[Dn++]=Kr,kn[Dn++]=Ki,Gr=t.id,Kr=t.overflow,Ki=e),e=iv(e,r.children),e.flags|=4096,e)}function Z0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cg(t.return,e,n)}function Qp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function PA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z0(t,n,e);else if(t.tag===19)Z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qp(e,!0,n,null,i);break;case"together":Qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Gs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lj(t,e,n){switch(e.tag){case 3:CA(e),wa();break;case 5:tA(e);break;case 1:pn(e.type)&&nh(e);break;case 4:Zy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(ih,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?AA(t,e,n):(Be(Je,Je.current&1),t=ts(t,e,n),t!==null?t.sibling:null);Be(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,bA(t,e,n)}return ts(t,e,n)}var RA,yg,NA,kA;RA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yg=function(){};NA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Oi(Er.current);var i=null;switch(n){case"input":s=Fm(t,s),r=Fm(t,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=$m(t,s),r=$m(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eh)}Hm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};kA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Al(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cj(t,e,n){var r=e.pendingProps;switch(Hy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return pn(e.type)&&th(),zt(e),null;case 3:return r=e.stateNode,Ta(),Ke(fn),Ke(Gt),Jy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(bg(Gn),Gn=null))),yg(t,e),zt(e),null;case 5:Yy(e);var s=Oi(vc.current);if(n=e.type,t!==null&&e.stateNode!=null)NA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return zt(e),null}if(t=Oi(Er.current),Yu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[yr]=e,r[gc]=i,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(s=0;s<Ll.length;s++)We(Ll[s],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":o0(r,i),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},We("invalid",r);break;case"textarea":l0(r,i),We("invalid",r)}Hm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),s=["children",""+a]):oc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":Bu(r),a0(r,i,!0);break;case"textarea":Bu(r),c0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=eh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yr]=e,t[gc]=r,RA(t,e,!1,!1),e.stateNode=t;e:{switch(o=qm(n,r),n){case"dialog":We("cancel",t),We("close",t),s=r;break;case"iframe":case"object":case"embed":We("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ll.length;s++)We(Ll[s],t);s=r;break;case"source":We("error",t),s=r;break;case"img":case"image":case"link":We("error",t),We("load",t),s=r;break;case"details":We("toggle",t),s=r;break;case"input":o0(t,r),s=Fm(t,r),We("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),We("invalid",t);break;case"textarea":l0(t,r),s=$m(t,r),We("invalid",t);break;default:s=r}Hm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?cC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ac(t,l):typeof l=="number"&&ac(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&We("scroll",t):l!=null&&Py(t,i,l,o))}switch(n){case"input":Bu(t),a0(t,r,!1);break;case"textarea":Bu(t),c0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ei(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Wo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Wo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=eh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)kA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Oi(vc.current),Oi(Er.current),Yu(e)){if(r=e.stateNode,n=e.memoizedProps,r[yr]=e,(i=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:Zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yr]=e,e.stateNode=r}return zt(e),null;case 13:if(Ke(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Tn!==null&&e.mode&1&&!(e.flags&128))XC(),wa(),e.flags|=98560,i=!1;else if(i=Yu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[yr]=e}else wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else Gn!==null&&(bg(Gn),Gn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?Et===0&&(Et=3):dv())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Ta(),yg(t,e),t===null&&pc(e.stateNode.containerInfo),zt(e),null;case 10:return Ky(e.type._context),zt(e),null;case 17:return pn(e.type)&&th(),zt(e),null;case 19:if(Ke(Je),i=e.memoizedState,i===null)return zt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Al(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lh(t),o!==null){for(e.flags|=128,Al(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&ut()>xa&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304)}else{if(!r)if(t=lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return zt(e),null}else 2*ut()-i.renderingStartTime>xa&&n!==1073741824&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=Je.current,Be(Je,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return uv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function uj(t,e){switch(Hy(e),e.tag){case 1:return pn(e.type)&&th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ta(),Ke(fn),Ke(Gt),Jy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yy(e),null;case 13:if(Ke(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Je),null;case 4:return Ta(),null;case 10:return Ky(e.type._context),null;case 22:case 23:return uv(),null;case 24:return null;default:return null}}var td=!1,qt=!1,dj=typeof WeakSet=="function"?WeakSet:Set,J=null;function $o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function vg(t,e,n){try{n()}catch(r){it(t,e,r)}}var Y0=!1;function hj(t,e){if(tg=Zd,t=VC(),$y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ng={focusedElem:t,selectionRange:n},Zd=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,S=b.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?_:Bn(e.type,_),S);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){it(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return b=Y0,Y0=!1,b}function Xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&vg(e,n,i)}s=s.next}while(s!==r)}}function ff(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _g(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DA(t){var e=t.alternate;e!==null&&(t.alternate=null,DA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[gc],delete e[ig],delete e[K4],delete e[Q4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OA(t){return t.tag===5||t.tag===3||t.tag===4}function J0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eh));else if(r!==4&&(t=t.child,t!==null))for(wg(t,e,n),t=t.sibling;t!==null;)wg(t,e,n),t=t.sibling}function Eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Eg(t,e,n),t=t.sibling;t!==null;)Eg(t,e,n),t=t.sibling}var kt=null,Wn=!1;function vs(t,e,n){for(n=n.child;n!==null;)MA(t,e,n),n=n.sibling}function MA(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 5:qt||$o(n,e);case 6:var r=kt,s=Wn;kt=null,vs(t,e,n),kt=r,Wn=s,kt!==null&&(Wn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Wn?(t=kt,n=n.stateNode,t.nodeType===8?$p(t.parentNode,n):t.nodeType===1&&$p(t,n),dc(t)):$p(kt,n.stateNode));break;case 4:r=kt,s=Wn,kt=n.stateNode.containerInfo,Wn=!0,vs(t,e,n),kt=r,Wn=s;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vg(n,e,o),s=s.next}while(s!==r)}vs(t,e,n);break;case 1:if(!qt&&($o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}vs(t,e,n);break;case 21:vs(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,vs(t,e,n),qt=r):vs(t,e,n);break;default:vs(t,e,n)}}function eE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dj),e.forEach(function(r){var s=Ej.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,Wn=!1;break e;case 3:kt=a.stateNode.containerInfo,Wn=!0;break e;case 4:kt=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(kt===null)throw Error(W(160));MA(i,o,s),kt=null,Wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){it(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LA(e,t),e=e.sibling}function LA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),dr(t),r&4){try{Xl(3,t,t.return),ff(3,t)}catch(_){it(t,t.return,_)}try{Xl(5,t,t.return)}catch(_){it(t,t.return,_)}}break;case 1:zn(e,t),dr(t),r&512&&n!==null&&$o(n,n.return);break;case 5:if(zn(e,t),dr(t),r&512&&n!==null&&$o(n,n.return),t.flags&32){var s=t.stateNode;try{ac(s,"")}catch(_){it(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&sC(s,i),qm(a,o);var u=qm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?cC(s,h):d==="dangerouslySetInnerHTML"?aC(s,h):d==="children"?ac(s,h):Py(s,d,h,u)}switch(a){case"input":Um(s,i);break;case"textarea":iC(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Wo(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Wo(s,!!i.multiple,i.defaultValue,!0):Wo(s,!!i.multiple,i.multiple?[]:"",!1))}s[gc]=i}catch(_){it(t,t.return,_)}}break;case 6:if(zn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){it(t,t.return,_)}}break;case 3:if(zn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dc(e.containerInfo)}catch(_){it(t,t.return,_)}break;case 4:zn(e,t),dr(t);break;case 13:zn(e,t),dr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lv=ut())),r&4&&eE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(u=qt)||d,zn(e,t),qt=u):zn(e,t),dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(h=J=d;J!==null;){switch(p=J,v=p.child,p.tag){case 0:case 11:case 14:case 15:Xl(4,p,p.return);break;case 1:$o(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){it(r,n,_)}}break;case 5:$o(p,p.return);break;case 22:if(p.memoizedState!==null){nE(h);continue}}v!==null?(v.return=p,J=v):nE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lC("display",o))}catch(_){it(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){it(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zn(e,t),dr(t),r&4&&eE(t);break;case 21:break;default:zn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OA(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ac(s,""),r.flags&=-33);var i=J0(t);Eg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=J0(t);wg(t,a,o);break;default:throw Error(W(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fj(t,e,n){J=t,VA(t)}function VA(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||td;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||qt;a=td;var u=qt;if(td=o,(qt=l)&&!u)for(J=s;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?rE(s):l!==null?(l.return=o,J=l):rE(s);for(;i!==null;)J=i,VA(i),i=i.sibling;J=s,td=a,qt=u}tE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):tE(t)}}function tE(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||ff(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&F0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}qt||e.flags&512&&_g(e)}catch(p){it(e,e.return,p)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function nE(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function rE(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ff(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){it(e,s,l)}}var i=e.return;try{_g(e)}catch(l){it(e,i,l)}break;case 5:var o=e.return;try{_g(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var pj=Math.ceil,dh=us.ReactCurrentDispatcher,ov=us.ReactCurrentOwner,Vn=us.ReactCurrentBatchConfig,Ne=0,Pt=null,ht=null,Lt=0,wn=0,Bo=yi(0),Et=0,Tc=null,Xi=0,pf=0,av=0,Zl=null,un=null,lv=0,xa=1/0,Hr=null,hh=!1,Tg=null,qs=null,nd=!1,js=null,fh=0,Yl=0,Sg=null,Cd=-1,Ad=0;function nn(){return Ne&6?ut():Cd!==-1?Cd:Cd=ut()}function Ws(t){return t.mode&1?Ne&2&&Lt!==0?Lt&-Lt:Z4.transition!==null?(Ad===0&&(Ad=EC()),Ad):(t=je,t!==0||(t=window.event,t=t===void 0?16:AC(t.type)),t):1}function Jn(t,e,n,r){if(50<Yl)throw Yl=0,Sg=null,Error(W(185));su(t,n,r),(!(Ne&2)||t!==Pt)&&(t===Pt&&(!(Ne&2)&&(pf|=n),Et===4&&Cs(t,Lt)),mn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(xa=ut()+500,uf&&vi()))}function mn(t,e){var n=t.callbackNode;ZV(t,e);var r=Xd(t,t===Pt?Lt:0);if(r===0)n!==null&&h0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&h0(n),e===1)t.tag===0?X4(sE.bind(null,t)):GC(sE.bind(null,t)),W4(function(){!(Ne&6)&&vi()}),n=null;else{switch(TC(r)){case 1:n=Oy;break;case 4:n=_C;break;case 16:n=Qd;break;case 536870912:n=wC;break;default:n=Qd}n=qA(n,jA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jA(t,e){if(Cd=-1,Ad=0,Ne&6)throw Error(W(327));var n=t.callbackNode;if(Zo()&&t.callbackNode!==n)return null;var r=Xd(t,t===Pt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ph(t,r);else{e=r;var s=Ne;Ne|=2;var i=UA();(Pt!==t||Lt!==e)&&(Hr=null,xa=ut()+500,Ui(t,e));do try{yj();break}catch(a){FA(t,a)}while(!0);Gy(),dh.current=i,Ne=s,ht!==null?e=0:(Pt=null,Lt=0,e=Et)}if(e!==0){if(e===2&&(s=Xm(t),s!==0&&(r=s,e=xg(t,s))),e===1)throw n=Tc,Ui(t,0),Cs(t,r),mn(t,ut()),n;if(e===6)Cs(t,r);else{if(s=t.current.alternate,!(r&30)&&!mj(s)&&(e=ph(t,r),e===2&&(i=Xm(t),i!==0&&(r=i,e=xg(t,i))),e===1))throw n=Tc,Ui(t,0),Cs(t,r),mn(t,ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Pi(t,un,Hr);break;case 3:if(Cs(t,r),(r&130023424)===r&&(e=lv+500-ut(),10<e)){if(Xd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sg(Pi.bind(null,t,un,Hr),e);break}Pi(t,un,Hr);break;case 4:if(Cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Yn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pj(r/1960))-r,10<r){t.timeoutHandle=sg(Pi.bind(null,t,un,Hr),r);break}Pi(t,un,Hr);break;case 5:Pi(t,un,Hr);break;default:throw Error(W(329))}}}return mn(t,ut()),t.callbackNode===n?jA.bind(null,t):null}function xg(t,e){var n=Zl;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=ph(t,e),t!==2&&(e=un,un=n,e!==null&&bg(e)),t}function bg(t){un===null?un=t:un.push.apply(un,t)}function mj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!tr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~av,e&=~pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function sE(t){if(Ne&6)throw Error(W(327));Zo();var e=Xd(t,0);if(!(e&1))return mn(t,ut()),null;var n=ph(t,e);if(t.tag!==0&&n===2){var r=Xm(t);r!==0&&(e=r,n=xg(t,r))}if(n===1)throw n=Tc,Ui(t,0),Cs(t,e),mn(t,ut()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pi(t,un,Hr),mn(t,ut()),null}function cv(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(xa=ut()+500,uf&&vi())}}function Zi(t){js!==null&&js.tag===0&&!(Ne&6)&&Zo();var e=Ne;Ne|=1;var n=Vn.transition,r=je;try{if(Vn.transition=null,je=1,t)return t()}finally{je=r,Vn.transition=n,Ne=e,!(Ne&6)&&vi()}}function uv(){wn=Bo.current,Ke(Bo)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,q4(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Hy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&th();break;case 3:Ta(),Ke(fn),Ke(Gt),Jy();break;case 5:Yy(r);break;case 4:Ta();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:Ky(r.type._context);break;case 22:case 23:uv()}n=n.return}if(Pt=t,ht=t=Gs(t.current,null),Lt=wn=e,Et=0,Tc=null,av=pf=Xi=0,un=Zl=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Di=null}return t}function FA(t,e){do{var n=ht;try{if(Gy(),xd.current=uh,ch){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ch=!1}if(Qi=0,At=wt=et=null,Ql=!1,_c=0,ov.current=null,n===null||n.return===null){Et=1,Tc=e,ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=q0(o);if(v!==null){v.flags&=-257,W0(v,o,a,i,e),v.mode&1&&H0(i,u,e),e=v,l=u;var b=e.updateQueue;if(b===null){var _=new Set;_.add(l),e.updateQueue=_}else b.add(l);break e}else{if(!(e&1)){H0(i,u,e),dv();break e}l=Error(W(426))}}else if(Xe&&a.mode&1){var S=q0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),W0(S,o,a,i,e),qy(Sa(l,a));break e}}i=l=Sa(l,a),Et!==4&&(Et=2),Zl===null?Zl=[i]:Zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=TA(i,l,e);j0(i,E);break e;case 1:a=l;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(qs===null||!qs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=SA(i,a,e);j0(i,k);break e}}i=i.return}while(i!==null)}$A(n)}catch(O){e=O,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function UA(){var t=dh.current;return dh.current=uh,t===null?uh:t}function dv(){(Et===0||Et===3||Et===2)&&(Et=4),Pt===null||!(Xi&268435455)&&!(pf&268435455)||Cs(Pt,Lt)}function ph(t,e){var n=Ne;Ne|=2;var r=UA();(Pt!==t||Lt!==e)&&(Hr=null,Ui(t,e));do try{gj();break}catch(s){FA(t,s)}while(!0);if(Gy(),Ne=n,dh.current=r,ht!==null)throw Error(W(261));return Pt=null,Lt=0,Et}function gj(){for(;ht!==null;)zA(ht)}function yj(){for(;ht!==null&&!$V();)zA(ht)}function zA(t){var e=HA(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?$A(t):ht=e,ov.current=null}function $A(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uj(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,ht=null;return}}else if(n=cj(n,e,wn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);Et===0&&(Et=5)}function Pi(t,e,n){var r=je,s=Vn.transition;try{Vn.transition=null,je=1,vj(t,e,n,r)}finally{Vn.transition=s,je=r}return null}function vj(t,e,n,r){do Zo();while(js!==null);if(Ne&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(YV(t,i),t===Pt&&(ht=Pt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nd||(nd=!0,qA(Qd,function(){return Zo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=je;je=1;var a=Ne;Ne|=4,ov.current=null,hj(t,n),LA(n,t),j4(ng),Zd=!!tg,ng=tg=null,t.current=n,fj(n),BV(),Ne=a,je=o,Vn.transition=i}else t.current=n;if(nd&&(nd=!1,js=t,fh=s),i=t.pendingLanes,i===0&&(qs=null),WV(n.stateNode),mn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hh)throw hh=!1,t=Tg,Tg=null,t;return fh&1&&t.tag!==0&&Zo(),i=t.pendingLanes,i&1?t===Sg?Yl++:(Yl=0,Sg=t):Yl=0,vi(),null}function Zo(){if(js!==null){var t=TC(fh),e=Vn.transition,n=je;try{if(Vn.transition=null,je=16>t?16:t,js===null)var r=!1;else{if(t=js,js=null,fh=0,Ne&6)throw Error(W(331));var s=Ne;for(Ne|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Xl(8,d,i)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var p=d.sibling,v=d.return;if(DA(d),d===u){J=null;break}if(p!==null){p.return=v,J=p;break}J=v}}}var b=i.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,J=E;break e}J=i.return}}var w=t.current;for(J=w;J!==null;){o=J;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,J=T;else e:for(o=w;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ff(9,a)}}catch(O){it(a,a.return,O)}if(a===o){J=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,J=k;break e}J=a.return}}if(Ne=s,vi(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(sf,t)}catch{}r=!0}return r}finally{je=n,Vn.transition=e}}return!1}function iE(t,e,n){e=Sa(n,e),e=TA(t,e,1),t=Hs(t,e,1),e=nn(),t!==null&&(su(t,1,e),mn(t,e))}function it(t,e,n){if(t.tag===3)iE(t,t,n);else for(;e!==null;){if(e.tag===3){iE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qs===null||!qs.has(r))){t=Sa(n,t),t=SA(e,t,1),e=Hs(e,t,1),t=nn(),e!==null&&(su(e,1,t),mn(e,t));break}}e=e.return}}function _j(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Lt&n)===n&&(Et===4||Et===3&&(Lt&130023424)===Lt&&500>ut()-lv?Ui(t,0):av|=n),mn(t,e)}function BA(t,e){e===0&&(t.mode&1?(e=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):e=1);var n=nn();t=es(t,e),t!==null&&(su(t,e,n),mn(t,n))}function wj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BA(t,n)}function Ej(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),BA(t,n)}var HA;HA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,lj(t,e,n);hn=!!(t.flags&131072)}else hn=!1,Xe&&e.flags&1048576&&KC(e,sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Id(t,e),t=e.pendingProps;var s=_a(e,Gt.current);Xo(e,n),s=tv(null,e,r,t,s,n);var i=nv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(i=!0,nh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xy(e),s.updater=hf,e.stateNode=s,s._reactInternals=e,dg(e,r,t,n),e=pg(null,e,r,!0,i,n)):(e.tag=0,Xe&&i&&By(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Sj(r),t=Bn(r,t),s){case 0:e=fg(null,e,r,t,n);break e;case 1:e=Q0(null,e,r,t,n);break e;case 11:e=G0(null,e,r,t,n);break e;case 14:e=K0(null,e,r,Bn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),fg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Q0(t,e,r,s,n);case 3:e:{if(CA(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,eA(t,e),ah(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Sa(Error(W(423)),e),e=X0(t,e,r,n,s);break e}else if(r!==s){s=Sa(Error(W(424)),e),e=X0(t,e,r,n,s);break e}else for(Tn=Bs(e.stateNode.containerInfo.firstChild),Sn=e,Xe=!0,Gn=null,n=YC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wa(),r===s){e=ts(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return tA(e),t===null&&lg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,rg(r,s)?o=null:i!==null&&rg(r,i)&&(e.flags|=32),IA(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&lg(e),null;case 13:return AA(t,e,n);case 4:return Zy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ea(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),G0(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(ih,r._currentValue),r._currentValue=o,i!==null)if(tr(i.value,o)){if(i.children===s.children&&!fn.current){e=ts(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Zr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),cg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xo(e,n),s=jn(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=Bn(r,e.pendingProps),s=Bn(r.type,s),K0(t,e,r,s,n);case 15:return xA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Id(t,e),e.tag=1,pn(r)?(t=!0,nh(e)):t=!1,Xo(e,n),EA(e,r,s),dg(e,r,s,n),pg(null,e,r,!0,t,n);case 19:return PA(t,e,n);case 22:return bA(t,e,n)}throw Error(W(156,e.tag))};function qA(t,e){return vC(t,e)}function Tj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new Tj(t,e,n,r)}function hv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sj(t){if(typeof t=="function")return hv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ny)return 11;if(t===ky)return 14}return 2}function Gs(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")hv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Do:return zi(n.children,s,i,e);case Ry:o=8,s|=8;break;case Mm:return t=Ln(12,n,e,s|2),t.elementType=Mm,t.lanes=i,t;case Lm:return t=Ln(13,n,e,s),t.elementType=Lm,t.lanes=i,t;case Vm:return t=Ln(19,n,e,s),t.elementType=Vm,t.lanes=i,t;case tC:return mf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JI:o=10;break e;case eC:o=9;break e;case Ny:o=11;break e;case ky:o=14;break e;case xs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function zi(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function mf(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=tC,t.lanes=n,t.stateNode={isHidden:!1},t}function Xp(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function Zp(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Np(0),this.expirationTimes=Np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Np(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fv(t,e,n,r,s,i,o,a,l){return t=new xj(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xy(i),t}function bj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WA(t){if(!t)return ti;t=t._reactInternals;e:{if(uo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(pn(n))return WC(t,n,e)}return e}function GA(t,e,n,r,s,i,o,a,l){return t=fv(n,r,!0,t,s,i,o,a,l),t.context=WA(null),n=t.current,r=nn(),s=Ws(n),i=Zr(r,s),i.callback=e??null,Hs(n,i,s),t.current.lanes=s,su(t,s,r),mn(t,r),t}function gf(t,e,n,r){var s=e.current,i=nn(),o=Ws(s);return n=WA(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hs(s,e,o),t!==null&&(Jn(t,s,o,i),Sd(t,s,o)),o}function mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pv(t,e){oE(t,e),(t=t.alternate)&&oE(t,e)}function Ij(){return null}var KA=typeof reportError=="function"?reportError:function(t){console.error(t)};function mv(t){this._internalRoot=t}yf.prototype.render=mv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));gf(t,e,null,null)};yf.prototype.unmount=mv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zi(function(){gf(null,t,null,null)}),e[Jr]=null}};function yf(t){this._internalRoot=t}yf.prototype.unstable_scheduleHydration=function(t){if(t){var e=bC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&CC(t)}};function gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aE(){}function Cj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mh(o);i.call(u)}}var o=GA(e,r,t,0,null,!1,!1,"",aE);return t._reactRootContainer=o,t[Jr]=o.current,pc(t.nodeType===8?t.parentNode:t),Zi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mh(l);a.call(u)}}var l=fv(t,0,!1,null,null,!1,!1,"",aE);return t._reactRootContainer=l,t[Jr]=l.current,pc(t.nodeType===8?t.parentNode:t),Zi(function(){gf(e,l,n,r)}),l}function _f(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mh(o);a.call(l)}}gf(e,o,t,s)}else o=Cj(n,e,t,s,r);return mh(o)}SC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ml(e.pendingLanes);n!==0&&(My(e,n|1),mn(e,ut()),!(Ne&6)&&(xa=ut()+500,vi()))}break;case 13:Zi(function(){var r=es(t,1);if(r!==null){var s=nn();Jn(r,t,1,s)}}),pv(t,1)}};Ly=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=nn();Jn(e,t,134217728,n)}pv(t,134217728)}};xC=function(t){if(t.tag===13){var e=Ws(t),n=es(t,e);if(n!==null){var r=nn();Jn(n,t,e,r)}pv(t,e)}};bC=function(){return je};IC=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Gm=function(t,e,n){switch(e){case"input":if(Um(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=cf(r);if(!s)throw Error(W(90));rC(r),Um(r,s)}}}break;case"textarea":iC(t,n);break;case"select":e=n.value,e!=null&&Wo(t,!!n.multiple,e,!1)}};hC=cv;fC=Zi;var Aj={usingClientEntryPoint:!1,Events:[ou,Vo,cf,uC,dC,cv]},Pl={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pj={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gC(t),t===null?null:t.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||Ij,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{sf=rd.inject(Pj),wr=rd}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aj;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gv(e))throw Error(W(200));return bj(t,e,null,n)};Cn.createRoot=function(t,e){if(!gv(t))throw Error(W(299));var n=!1,r="",s=KA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fv(t,1,!1,null,null,n,!1,r,s),t[Jr]=e.current,pc(t.nodeType===8?t.parentNode:t),new mv(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=gC(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return Zi(t)};Cn.hydrate=function(t,e,n){if(!vf(e))throw Error(W(200));return _f(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!gv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=KA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GA(e,null,t,1,n??null,s,!1,i,o),t[Jr]=e.current,pc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new yf(e)};Cn.render=function(t,e,n){if(!vf(e))throw Error(W(200));return _f(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!vf(t))throw Error(W(40));return t._reactRootContainer?(Zi(function(){_f(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};Cn.unstable_batchedUpdates=cv;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return _f(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function QA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QA)}catch(t){console.error(t)}}QA(),QI.exports=Cn;var ho=QI.exports;const Rj=LI(ho);var XA,lE=ho;XA=lE.createRoot,lE.hydrateRoot;function Nj(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var ZA={exports:{}},YA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=g;function kj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dj=typeof Object.is=="function"?Object.is:kj,Oj=ba.useState,Mj=ba.useEffect,Lj=ba.useLayoutEffect,Vj=ba.useDebugValue;function jj(t,e){var n=e(),r=Oj({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Lj(function(){s.value=n,s.getSnapshot=e,Yp(s)&&i({inst:s})},[t,n,e]),Mj(function(){return Yp(s)&&i({inst:s}),t(function(){Yp(s)&&i({inst:s})})},[t]),Vj(n),n}function Yp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dj(t,n)}catch{return!0}}function Fj(t,e){return e()}var Uj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fj:jj;YA.useSyncExternalStore=ba.useSyncExternalStore!==void 0?ba.useSyncExternalStore:Uj;ZA.exports=YA;var zj=ZA.exports;const $j=GI.useInsertionEffect,Bj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hj=Bj?g.useLayoutEffect:g.useEffect,qj=$j||Hj,JA=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return qj(()=>{e[0]=t}),e[1]},Wj="popstate",yv="pushState",vv="replaceState",Gj="hashchange",cE=[Wj,yv,vv,Gj],Kj=t=>{for(const e of cE)addEventListener(e,t);return()=>{for(const e of cE)removeEventListener(e,t)}},eP=(t,e)=>zj.useSyncExternalStore(Kj,t,e),Qj=()=>location.search,Xj=({ssrSearch:t=""}={})=>eP(Qj,()=>t),uE=()=>location.pathname,Zj=({ssrPath:t}={})=>eP(uE,t?()=>t:uE),Yj=(t,{replace:e=!1,state:n=null}={})=>history[e?vv:yv](n,"",t),Jj=(t={})=>[Zj(t),Yj],dE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[dE]>"u"){for(const t of[yv,vv]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,dE,{value:!0})}const eF=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",tP=(t="")=>t==="/"?"":t,tF=(t,e)=>t[0]==="~"?t.slice(1):tP(e)+t,nF=(t="",e)=>eF(hE(tP(t)),hE(e)),hE=t=>{try{return decodeURI(t)}catch{return t}},nP={hook:Jj,searchHook:Xj,parser:Nj,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},rP=g.createContext(nP),wf=()=>g.useContext(rP),sP={},iP=g.createContext(sP),rF=()=>g.useContext(iP),_v=t=>{const[e,n]=t.hook(t);return[nF(t.base,e),JA((r,s)=>n(tF(r,t.base),s))]},oP=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,p)=>[h,l[p]])):o.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},aP=({children:t,...e})=>{var d,h;const n=wf(),r=e.hook?nP:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=g.useRef({}),l=a.current,u=l;for(let p in r){const v=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===u&&v!==u[p]&&(a.current=u={...u}),u[p]=v,v!==r[p]&&(s=u)}return g.createElement(rP.Provider,{value:s,children:t})},fE=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,sF=t=>{let e=g.useRef(sP),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},pE=({path:t,nest:e,match:n,...r})=>{const s=wf(),[i]=_v(s),[o,a,l]=n??oP(s.parser,t,i,e),u=sF({...rF(),...a});if(!o)return null;const d=l?g.createElement(aP,{base:l},fE(r,u)):fE(r,u);return g.createElement(iP.Provider,{value:u,children:d})};g.forwardRef((t,e)=>{const n=wf(),[r,s]=_v(n),{to:i="",href:o=i,onClick:a,asChild:l,children:u,className:d,replace:h,state:p,...v}=t,b=JA(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),s(o,t)))}),_=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&g.isValidElement(u)?g.cloneElement(u,{onClick:b,href:_}):g.createElement("a",{...v,onClick:b,href:_,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})});const lP=t=>Array.isArray(t)?t.flatMap(e=>lP(e&&e.type===g.Fragment?e.props.children:e)):[t],iF=({children:t,location:e})=>{const n=wf(),[r]=_v(n);for(const s of lP(t)){let i=0;if(g.isValidElement(s)&&(i=oP(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var Ef=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tf=typeof window>"u"||"Deno"in globalThis;function Hn(){}function oF(t,e){return typeof t=="function"?t(e):t}function aF(t){return typeof t=="number"&&t>=0&&t!==1/0}function lF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mE(t,e){return typeof t=="function"?t(e):t}function cF(t,e){return typeof t=="function"?t(e):t}function gE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==wv(o,e.options))return!1}else if(!xc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function yE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Sc(e.options.mutationKey)!==Sc(i))return!1}else if(!xc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function wv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Sc)(t)}function Sc(t){return JSON.stringify(t,(e,n)=>Ig(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function xc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!xc(t[n],e[n])):!1}function cP(t,e){if(t===e)return t;const n=vE(t)&&vE(e);if(n||Ig(t)&&Ig(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=cP(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function vE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ig(t){if(!_E(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_E(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _E(t){return Object.prototype.toString.call(t)==="[object Object]"}function uF(t){return new Promise(e=>{setTimeout(e,t)})}function dF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?cP(t,e):e}function hF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ev=Symbol();function uP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ev?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Li,ks,ca,WT,pF=(WT=class extends Ef{constructor(){super();Me(this,Li);Me(this,ks);Me(this,ca);we(this,ca,e=>{if(!Tf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,ks)||this.setEventListener($(this,ca))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ks))==null||e.call(this),we(this,ks,void 0))}setEventListener(e){var n;we(this,ca,e),(n=$(this,ks))==null||n.call(this),we(this,ks,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,Li)!==e&&(we(this,Li,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,Li)=="boolean"?$(this,Li):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Li=new WeakMap,ks=new WeakMap,ca=new WeakMap,WT),dP=new pF,ua,Ds,da,GT,mF=(GT=class extends Ef{constructor(){super();Me(this,ua,!0);Me(this,Ds);Me(this,da);we(this,da,e=>{if(!Tf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Ds)||this.setEventListener($(this,da))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Ds))==null||e.call(this),we(this,Ds,void 0))}setEventListener(e){var n;we(this,da,e),(n=$(this,Ds))==null||n.call(this),we(this,Ds,e(this.setOnline.bind(this)))}setOnline(e){$(this,ua)!==e&&(we(this,ua,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,ua)}},ua=new WeakMap,Ds=new WeakMap,da=new WeakMap,GT),gh=new mF;function gF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function yF(t){return Math.min(1e3*2**t,3e4)}function hP(t){return(t??"online")==="online"?gh.isOnline():!0}var fP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jp(t){return t instanceof fP}function pP(t){let e=!1,n=0,r=!1,s;const i=gF(),o=_=>{var S;r||(p(new fP(_)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>dP.isFocused()&&(t.networkMode==="always"||gh.isOnline())&&t.canRun(),d=()=>hP(t.networkMode)&&t.canRun(),h=_=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,_),s==null||s(),i.resolve(_))},p=_=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,_),s==null||s(),i.reject(_))},v=()=>new Promise(_=>{var S;s=E=>{(r||u())&&_(E)},(S=t.onPause)==null||S.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),b=()=>{if(r)return;let _;const S=n===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(E){_=Promise.reject(E)}Promise.resolve(_).then(h).catch(E=>{var L;if(r)return;const w=t.retry??(Tf?0:3),T=t.retryDelay??yF,k=typeof T=="function"?T(n,E):T,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!O){p(E);return}n++,(L=t.onFail)==null||L.call(t,n,E),uF(k).then(()=>u()?void 0:v()).then(()=>{e?p(E):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():v().then(b),i)}}function vF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var en=vF(),Vi,KT,mP=(KT=class{constructor(){Me(this,Vi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aF(this.gcTime)&&we(this,Vi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Tf?1/0:5*60*1e3))}clearGcTimeout(){$(this,Vi)&&(clearTimeout($(this,Vi)),we(this,Vi,void 0))}},Vi=new WeakMap,KT),ha,fa,Pn,Bt,tu,ji,qn,$r,QT,_F=(QT=class extends mP{constructor(n){super();Me(this,qn);Me(this,ha);Me(this,fa);Me(this,Pn);Me(this,Bt);Me(this,tu);Me(this,ji);we(this,ji,!1),we(this,tu,n.defaultOptions),this.setOptions(n.options),this.observers=[],we(this,Pn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,we(this,ha,EF(this.options)),this.state=n.state??$(this,ha),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Bt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,tu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Pn).remove(this)}setData(n,r){const s=dF(this.state.data,n,this.options);return Ft(this,qn,$r).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ft(this,qn,$r).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,Bt))==null?void 0:s.promise;return(i=$(this,Bt))==null||i.cancel(n),r?r.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,ha))}isActive(){return this.observers.some(n=>cF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ev||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!lF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Bt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Bt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,Pn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Bt)&&($(this,ji)?$(this,Bt).cancel({revert:!0}):$(this,Bt).cancelRetry()),this.scheduleGc()),$(this,Pn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,qn,$r).call(this,{type:"invalidate"})}fetch(n,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Bt))return $(this,Bt).continueRetry(),$(this,Bt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(we(this,ji,!0),s.signal)})},o=()=>{const p=uP(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),we(this,ji,!1),this.options.persister?this.options.persister(p,v,this):p(v)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),we(this,fa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ft(this,qn,$r).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var v,b,_,S;Jp(p)&&p.silent||Ft(this,qn,$r).call(this,{type:"error",error:p}),Jp(p)||((b=(v=$(this,Pn).config).onError)==null||b.call(v,p,this),(S=(_=$(this,Pn).config).onSettled)==null||S.call(_,this.state.data,p,this)),this.scheduleGc()};return we(this,Bt,pP({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var v,b,_,S;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){l(E);return}(b=(v=$(this,Pn).config).onSuccess)==null||b.call(v,p,this),(S=(_=$(this,Pn).config).onSettled)==null||S.call(_,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,v)=>{Ft(this,qn,$r).call(this,{type:"failed",failureCount:p,error:v})},onPause:()=>{Ft(this,qn,$r).call(this,{type:"pause"})},onContinue:()=>{Ft(this,qn,$r).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,Bt).start()}},ha=new WeakMap,fa=new WeakMap,Pn=new WeakMap,Bt=new WeakMap,tu=new WeakMap,ji=new WeakMap,qn=new WeakSet,$r=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...wF(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Jp(i)&&i.revert&&$(this,fa)?{...$(this,fa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),en.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,Pn).notify({query:this,type:"updated",action:n})})},QT);function wF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function EF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pr,XT,TF=(XT=class extends Ef{constructor(e={}){super();Me(this,pr);this.config=e,we(this,pr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??wv(s,n);let o=this.get(i);return o||(o=new _F({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,pr).has(e.queryHash)||($(this,pr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,pr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,pr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,pr).get(e)}getAll(){return[...$(this,pr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>gE(e,r)):n}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){en.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pr=new WeakMap,XT),mr,Yt,Fi,gr,Ts,ZT,SF=(ZT=class extends mP{constructor(n){super();Me(this,gr);Me(this,mr);Me(this,Yt);Me(this,Fi);this.mutationId=n.mutationId,we(this,Yt,n.mutationCache),we(this,mr,[]),this.state=n.state||xF(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,mr).includes(n)||($(this,mr).push(n),this.clearGcTimeout(),$(this,Yt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){we(this,mr,$(this,mr).filter(r=>r!==n)),this.scheduleGc(),$(this,Yt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,mr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Yt).remove(this))}continue(){var n;return((n=$(this,Fi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,h,p,v,b,_,S,E,w,T,k,O,L,I,x;we(this,Fi,pP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{Ft(this,gr,Ts).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{Ft(this,gr,Ts).call(this,{type:"pause"})},onContinue:()=>{Ft(this,gr,Ts).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Yt).canRun(this)}));const r=this.state.status==="pending",s=!$(this,Fi).canStart();try{if(!r){Ft(this,gr,Ts).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=$(this,Yt).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));P!==this.state.context&&Ft(this,gr,Ts).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const C=await $(this,Fi).start();return await((d=(u=$(this,Yt).config).onSuccess)==null?void 0:d.call(u,C,n,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,C,n,this.state.context)),await((b=(v=$(this,Yt).config).onSettled)==null?void 0:b.call(v,C,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,C,null,n,this.state.context)),Ft(this,gr,Ts).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(E=$(this,Yt).config).onError)==null?void 0:w.call(E,C,n,this.state.context,this)),await((k=(T=this.options).onError)==null?void 0:k.call(T,C,n,this.state.context)),await((L=(O=$(this,Yt).config).onSettled)==null?void 0:L.call(O,void 0,C,this.state.variables,this.state.context,this)),await((x=(I=this.options).onSettled)==null?void 0:x.call(I,void 0,C,n,this.state.context)),C}finally{Ft(this,gr,Ts).call(this,{type:"error",error:C})}}finally{$(this,Yt).runNext(this)}}},mr=new WeakMap,Yt=new WeakMap,Fi=new WeakMap,gr=new WeakSet,Ts=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),en.batch(()=>{$(this,mr).forEach(s=>{s.onMutationUpdate(n)}),$(this,Yt).notify({mutation:this,type:"updated",action:n})})},ZT);function xF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _n,nu,YT,bF=(YT=class extends Ef{constructor(e={}){super();Me(this,_n);Me(this,nu);this.config=e,we(this,_n,new Map),we(this,nu,Date.now())}build(e,n,r){const s=new SF({mutationCache:this,mutationId:++Uu(this,nu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=sd(e),r=$(this,_n).get(n)??[];r.push(e),$(this,_n).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=sd(e);if($(this,_n).has(n)){const s=(r=$(this,_n).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,_n).delete(n):$(this,_n).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,_n).get(sd(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,_n).get(sd(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,_n).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yE(n,r))}findAll(e={}){return this.getAll().filter(n=>yE(e,n))}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return en.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hn))))}},_n=new WeakMap,nu=new WeakMap,YT);function sd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function wE(t){return{onFetch:(e,n)=>{var d,h,p,v,b;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const S=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},E=uP(e.options,e.fetchOptions),w=async(T,k,O)=>{if(_)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const L={queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};S(L);const I=await E(L),{maxPages:x}=e.options,C=O?fF:hF;return{pages:C(T.pages,I,x),pageParams:C(T.pageParams,k,x)}};if(s&&i.length){const T=s==="backward",k=T?IF:EE,O={pages:i,pageParams:o},L=k(r,O);a=await w(O,L,T)}else{const T=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:EE(r,a);if(l>0&&k==null)break;a=await w(a,k),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var _,S;return(S=(_=e.options).persister)==null?void 0:S.call(_,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function EE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function IF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var st,Os,Ms,pa,ma,Ls,ga,ya,JT,CF=(JT=class{constructor(t={}){Me(this,st);Me(this,Os);Me(this,Ms);Me(this,pa);Me(this,ma);Me(this,Ls);Me(this,ga);Me(this,ya);we(this,st,t.queryCache||new TF),we(this,Os,t.mutationCache||new bF),we(this,Ms,t.defaultOptions||{}),we(this,pa,new Map),we(this,ma,new Map),we(this,Ls,0)}mount(){Uu(this,Ls)._++,$(this,Ls)===1&&(we(this,ga,dP.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,st).onFocus())})),we(this,ya,gh.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,st).onOnline())})))}unmount(){var t,e;Uu(this,Ls)._--,$(this,Ls)===0&&((t=$(this,ga))==null||t.call(this),we(this,ga,void 0),(e=$(this,ya))==null||e.call(this),we(this,ya,void 0))}isFetching(t){return $(this,st).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Os).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,st).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,st).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(mE(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,st).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,st).get(r.queryHash),i=s==null?void 0:s.state.data,o=oF(e,i);if(o!==void 0)return $(this,st).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return en.batch(()=>$(this,st).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,st).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,st);en.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,st),r={type:"active",...t};return en.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=en.batch(()=>$(this,st).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Hn).catch(Hn)}invalidateQueries(t={},e={}){return en.batch(()=>{if($(this,st).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=en.batch(()=>$(this,st).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Hn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Hn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,st).build(this,e);return n.isStaleByTime(mE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hn).catch(Hn)}fetchInfiniteQuery(t){return t.behavior=wE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hn).catch(Hn)}ensureInfiniteQueryData(t){return t.behavior=wE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gh.isOnline()?$(this,Os).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,st)}getMutationCache(){return $(this,Os)}getDefaultOptions(){return $(this,Ms)}setDefaultOptions(t){we(this,Ms,t)}setQueryDefaults(t,e){$(this,pa).set(Sc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,pa).values()];let n={};return e.forEach(r=>{xc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,ma).set(Sc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,ma).values()];let n={};return e.forEach(r=>{xc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Ms).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Ev&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Ms).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,st).clear(),$(this,Os).clear()}},st=new WeakMap,Os=new WeakMap,Ms=new WeakMap,pa=new WeakMap,ma=new WeakMap,Ls=new WeakMap,ga=new WeakMap,ya=new WeakMap,JT),AF=g.createContext(void 0),PF=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(AF.Provider,{value:t,children:e}));async function RF(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const NF=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await RF(n),await n.json())},kF=new CF({defaultOptions:{queries:{queryFn:NF({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),DF=1,OF=1e6;let em=0;function MF(){return em=(em+1)%Number.MAX_SAFE_INTEGER,em.toString()}const tm=new Map,TE=t=>{if(tm.has(t))return;const e=setTimeout(()=>{tm.delete(t),Jl({type:"REMOVE_TOAST",toastId:t})},OF);tm.set(t,e)},LF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,DF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?TE(n):t.toasts.forEach(r=>{TE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Rd=[];let Nd={toasts:[]};function Jl(t){Nd=LF(Nd,t),Rd.forEach(e=>{e(Nd)})}function VF({...t}){const e=MF(),n=s=>Jl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Jl({type:"DISMISS_TOAST",toastId:e});return Jl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function gP(){const[t,e]=g.useState(Nd);return g.useEffect(()=>(Rd.push(e),()=>{const n=Rd.indexOf(e);n>-1&&Rd.splice(n,1)}),[t]),{...t,toast:VF,dismiss:n=>Jl({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function SE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yP(...t){return e=>{let n=!1;const r=t.map(s=>{const i=SE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():SE(t[s],null)}}}}function Pe(...t){return g.useCallback(yP(...t),t)}function jF(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function or(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=h=>{var E;const{scope:p,children:v,...b}=h,_=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,S=g.useMemo(()=>b,Object.values(b));return m.jsx(_.Provider,{value:S,children:v})};u.displayName=i+"Provider";function d(h,p){var _;const v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,b=g.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,FF(s,...e)]}function FF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ia(t){const e=zF(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(BF);if(l){const u=l.props.children,d=a.map(h=>h===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return m.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return m.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var UF=Ia("Slot");function zF(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=qF(s),a=HF(i,s.props);return s.type!==g.Fragment&&(a.ref=r?yP(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vP=Symbol("radix.slottable");function $F(t){const e=({children:n})=>m.jsx(m.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=vP,e}function BF(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vP}function HF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Tv(t){const e=t+"CollectionProvider",[n,r]=or(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:S,children:E}=_,w=Nn.useRef(null),T=Nn.useRef(new Map).current;return m.jsx(s,{scope:S,itemMap:T,collectionRef:w,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=Ia(a),u=Nn.forwardRef((_,S)=>{const{scope:E,children:w}=_,T=i(a,E),k=Pe(S,T.collectionRef);return m.jsx(l,{ref:k,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=Ia(d),v=Nn.forwardRef((_,S)=>{const{scope:E,children:w,...T}=_,k=Nn.useRef(null),O=Pe(S,k),L=i(d,E);return Nn.useEffect(()=>(L.itemMap.set(k,{ref:k,...T}),()=>void L.itemMap.delete(k))),m.jsx(p,{[h]:"",ref:O,children:w})});v.displayName=d;function b(_){const S=i(t+"CollectionConsumer",_);return Nn.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((L,I)=>T.indexOf(L.ref.current)-T.indexOf(I.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},b,r]}var WF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=WF.reduce((t,e)=>{const n=Ia(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _P(t,e){t&&ho.flushSync(()=>t.dispatchEvent(e))}function ot(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function GF(t,e=globalThis==null?void 0:globalThis.document){const n=ot(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var KF="DismissableLayer",Cg="dismissableLayer.update",QF="dismissableLayer.pointerDownOutside",XF="dismissableLayer.focusOutside",xE,wP=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lu=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(wP),[d,h]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),b=Pe(e,I=>h(I)),_=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(S),w=d?_.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=E,O=YF(I=>{const x=I.target,C=[...u.branches].some(P=>P.contains(x));!k||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),L=JF(I=>{const x=I.target;[...u.branches].some(P=>P.contains(x))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return GF(I=>{w===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(xE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),bE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=xE)}},[d,p,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),bE())},[d,u]),g.useEffect(()=>{const I=()=>v({});return document.addEventListener(Cg,I),()=>document.removeEventListener(Cg,I)},[]),m.jsx(he.div,{...l,ref:b,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,L.onFocusCapture),onBlurCapture:se(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,O.onPointerDownCapture)})});lu.displayName=KF;var ZF="DismissableLayerBranch",EP=g.forwardRef((t,e)=>{const n=g.useContext(wP),r=g.useRef(null),s=Pe(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),m.jsx(he.div,{...t,ref:s})});EP.displayName=ZF;function YF(t,e=globalThis==null?void 0:globalThis.document){const n=ot(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){TP(QF,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function JF(t,e=globalThis==null?void 0:globalThis.document){const n=ot(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&TP(XF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bE(){const t=new CustomEvent(Cg);document.dispatchEvent(t)}function TP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_P(s,i):s.dispatchEvent(i)}var e3=lu,t3=EP,gt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},n3="Portal",Sf=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);gt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Rj.createPortal(m.jsx(he.div,{...r,ref:e}),o):null});Sf.displayName=n3;function r3(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var ar=t=>{const{present:e,children:n}=t,r=s3(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Pe(r.ref,i3(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};ar.displayName="Presence";function s3(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=r3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=id(r.current);i.current=a==="mounted"?u:"none"},[a]),gt(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,v=id(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),gt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=v=>{const _=id(r.current).includes(v.animationName);if(v.target===e&&_&&(l("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(i.current=id(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function id(t){return(t==null?void 0:t.animationName)||"none"}function i3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ca({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=o3({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=ot(n),l=g.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else s(u)},[i,t,s,a]);return[o,l]}function o3({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=ot(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var a3="VisuallyHidden",cu=g.forwardRef((t,e)=>m.jsx(he.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));cu.displayName=a3;var l3=cu,Sv="ToastProvider",[xv,c3,u3]=Tv("Toast"),[SP,SQ]=or("Toast",[u3]),[d3,xf]=SP(Sv),xP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sv}\`. Expected non-empty \`string\`.`),m.jsx(xv.Provider,{scope:e,children:m.jsx(d3,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(v=>v+1),[]),onToastRemove:g.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};xP.displayName=Sv;var bP="ToastViewport",h3=["F8"],Ag="toast.viewportPause",Pg="toast.viewportResume",IP=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=h3,label:s="Notifications ({hotkey})",...i}=t,o=xf(bP,n),a=c3(n),l=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),p=Pe(e,h,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;g.useEffect(()=>{const S=E=>{var T;r.length!==0&&r.every(k=>E[k]||E.code===k)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=l.current,E=h.current;if(b&&S&&E){const w=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Ag);E.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Pg);E.dispatchEvent(L),o.isClosePausedRef.current=!1}},k=L=>{!S.contains(L.relatedTarget)&&T()},O=()=>{S.contains(document.activeElement)||T()};return S.addEventListener("focusin",w),S.addEventListener("focusout",k),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",k),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[b,o.isClosePausedRef]);const _=g.useCallback(({tabbingDirection:S})=>{const w=a().map(T=>{const k=T.ref.current,O=[k,...b3(k)];return S==="forwards"?O:O.reverse()});return(S==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const S=h.current;if(S){const E=w=>{var O,L,I;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const x=document.activeElement,C=w.shiftKey;if(w.target===S&&C){(O=u.current)==null||O.focus();return}const D=_({tabbingDirection:C?"backwards":"forwards"}),R=D.findIndex(B=>B===x);nm(D.slice(R+1))?w.preventDefault():C?(L=u.current)==null||L.focus():(I=d.current)==null||I.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[a,_]),m.jsxs(t3,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&m.jsx(Rg,{ref:u,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"forwards"});nm(S)}}),m.jsx(xv.Slot,{scope:n,children:m.jsx(he.ol,{tabIndex:-1,...i,ref:p})}),b&&m.jsx(Rg,{ref:d,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"backwards"});nm(S)}})]})});IP.displayName=bP;var CP="ToastFocusProxy",Rg=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=xf(CP,n);return m.jsx(cu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Rg.displayName=CP;var bf="Toast",f3="toast.swipeStart",p3="toast.swipeMove",m3="toast.swipeCancel",g3="toast.swipeEnd",AP=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Ca({prop:r,defaultProp:s,onChange:i});return m.jsx(ar,{present:n||a,children:m.jsx(_3,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ot(t.onPause),onResume:ot(t.onResume),onSwipeStart:se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});AP.displayName=bf;var[y3,v3]=SP(bf,{onClose(){}}),_3=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:v,...b}=t,_=xf(bf,n),[S,E]=g.useState(null),w=Pe(e,B=>E(B)),T=g.useRef(null),k=g.useRef(null),O=s||_.duration,L=g.useRef(0),I=g.useRef(O),x=g.useRef(0),{onToastAdd:C,onToastRemove:P}=_,N=ot(()=>{var ee;(S==null?void 0:S.contains(document.activeElement))&&((ee=_.viewport)==null||ee.focus()),o()}),D=g.useCallback(B=>{!B||B===1/0||(window.clearTimeout(x.current),L.current=new Date().getTime(),x.current=window.setTimeout(N,B))},[N]);g.useEffect(()=>{const B=_.viewport;if(B){const ee=()=>{D(I.current),u==null||u()},te=()=>{const pe=new Date().getTime()-L.current;I.current=I.current-pe,window.clearTimeout(x.current),l==null||l()};return B.addEventListener(Ag,te),B.addEventListener(Pg,ee),()=>{B.removeEventListener(Ag,te),B.removeEventListener(Pg,ee)}}},[_.viewport,O,l,u,D]),g.useEffect(()=>{i&&!_.isClosePausedRef.current&&D(O)},[i,O,_.isClosePausedRef,D]),g.useEffect(()=>(C(),()=>P()),[C,P]);const R=g.useMemo(()=>S?MP(S):null,[S]);return _.viewport?m.jsxs(m.Fragment,{children:[R&&m.jsx(w3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),m.jsx(y3,{scope:n,onClose:N,children:ho.createPortal(m.jsx(xv.ItemSlot,{scope:n,children:m.jsx(e3,{asChild:!0,onEscapeKeyDown:se(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||N(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:se(t.onPointerDown,B=>{B.button===0&&(T.current={x:B.clientX,y:B.clientY})}),onPointerMove:se(t.onPointerMove,B=>{if(!T.current)return;const ee=B.clientX-T.current.x,te=B.clientY-T.current.y,pe=!!k.current,F=["left","right"].includes(_.swipeDirection),G=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,ne=F?G(0,ee):0,de=F?0:G(0,te),ke=B.pointerType==="touch"?10:2,xt={x:ne,y:de},Qe={originalEvent:B,delta:xt};pe?(k.current=xt,od(p3,h,Qe,{discrete:!1})):IE(xt,_.swipeDirection,ke)?(k.current=xt,od(f3,d,Qe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ee)>ke||Math.abs(te)>ke)&&(T.current=null)}),onPointerUp:se(t.onPointerUp,B=>{const ee=k.current,te=B.target;if(te.hasPointerCapture(B.pointerId)&&te.releasePointerCapture(B.pointerId),k.current=null,T.current=null,ee){const pe=B.currentTarget,F={originalEvent:B,delta:ee};IE(ee,_.swipeDirection,_.swipeThreshold)?od(g3,v,F,{discrete:!0}):od(m3,p,F,{discrete:!0}),pe.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),w3=t=>{const{__scopeToast:e,children:n,...r}=t,s=xf(bf,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return S3(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:m.jsx(Sf,{asChild:!0,children:m.jsx(cu,{...r,children:i&&m.jsxs(m.Fragment,{children:[s.label," ",n]})})})},E3="ToastTitle",PP=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(he.div,{...r,ref:e})});PP.displayName=E3;var T3="ToastDescription",RP=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(he.div,{...r,ref:e})});RP.displayName=T3;var NP="ToastAction",kP=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(OP,{altText:n,asChild:!0,children:m.jsx(bv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${NP}\`. Expected non-empty \`string\`.`),null)});kP.displayName=NP;var DP="ToastClose",bv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=v3(DP,n);return m.jsx(OP,{asChild:!0,children:m.jsx(he.button,{type:"button",...r,ref:e,onClick:se(t.onClick,s.onClose)})})});bv.displayName=DP;var OP=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return m.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function MP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),x3(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...MP(r))}}),e}function od(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_P(s,i):s.dispatchEvent(i)}var IE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function S3(t=()=>{}){const e=ot(t);gt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function x3(t){return t.nodeType===t.ELEMENT_NODE}function b3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var I3=xP,LP=IP,VP=AP,jP=PP,FP=RP,UP=kP,zP=bv;function $P(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=$P(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function BP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=$P(t))&&(r&&(r+=" "),r+=e);return r}const CE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,AE=BP,If=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return AE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=CE(d)||CE(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...v}=d;return Object.entries(v).every(b=>{let[_,S]=b;return Array.isArray(S)?S.includes({...i,...a}[_]):{...i,...a}[_]===S})?[...u,h,p]:u},[]);return AE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HP=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...A3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HP("lucide",s),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(P3,{ref:i,iconNode:e,className:HP(`lucide-${C3(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Fe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=Fe("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Fe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Fe("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=Fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=Fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Fe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=Fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Fe("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Fe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=Fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Fe("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Fe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=Fe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Fe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Av="-",q3=t=>{const e=G3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Av);return a[0]===""&&a.length!==1&&a.shift(),eR(a,e)||W3(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},eR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?eR(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Av);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},PE=/^\[(.+)\]$/,W3=t=>{if(PE.test(t)){const e=PE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},G3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Q3(Object.entries(t.classGroups),n).forEach(([i,o])=>{kg(o,r,i,e)}),r},kg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:RE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(K3(s)){kg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{kg(o,RE(e,i),n,r)})})},RE=(t,e)=>{let n=t;return e.split(Av).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},K3=t=>t.isThemeGetter,Q3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,X3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},tR="!",Z3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let S=0;S<a.length;S++){let E=a[S];if(u===0){if(E===s&&(r||a.slice(S,S+i)===e)){l.push(a.slice(d,S)),d=S+i;continue}if(E==="/"){h=S;continue}}E==="["?u++:E==="]"&&u--}const p=l.length===0?a:a.substring(d),v=p.startsWith(tR),b=v?p.substring(1):p,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},Y3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},J3=t=>({cache:X3(t.cacheSize),parseClassName:Z3(t),...q3(t)}),e6=/\s+/,t6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(e6);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}=n(u);let b=!!v,_=r(b?p.substring(0,v):p);if(!_){if(!b){a=u+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=u+(a.length>0?" "+a:a);continue}b=!1}const S=Y3(d).join(":"),E=h?S+tR:S,w=E+_;if(i.includes(w))continue;i.push(w);const T=s(_,b);for(let k=0;k<T.length;++k){const O=T[k];i.push(E+O)}a=u+(a.length>0?" "+a:a)}return a};function n6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=nR(e))&&(r&&(r+=" "),r+=n);return r}const nR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=nR(t[r]))&&(n&&(n+=" "),n+=e);return n};function r6(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=J3(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=t6(l,n);return s(l,d),d}return function(){return i(n6.apply(null,arguments))}}const qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},rR=/^\[(?:([a-z-]+):)?(.+)\]$/i,s6=/^\d+\/\d+$/,i6=new Set(["px","full","screen"]),o6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,c6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zr=t=>Yo(t)||i6.has(t)||s6.test(t),_s=t=>qa(t,"length",v6),Yo=t=>!!t&&!Number.isNaN(Number(t)),sm=t=>qa(t,"number",Yo),Rl=t=>!!t&&Number.isInteger(Number(t)),d6=t=>t.endsWith("%")&&Yo(t.slice(0,-1)),ve=t=>rR.test(t),ws=t=>o6.test(t),h6=new Set(["length","size","percentage"]),f6=t=>qa(t,h6,sR),p6=t=>qa(t,"position",sR),m6=new Set(["image","url"]),g6=t=>qa(t,m6,w6),y6=t=>qa(t,"",_6),Nl=()=>!0,qa=(t,e,n)=>{const r=rR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},v6=t=>a6.test(t)&&!l6.test(t),sR=()=>!1,_6=t=>c6.test(t),w6=t=>u6.test(t),E6=()=>{const t=qe("colors"),e=qe("spacing"),n=qe("blur"),r=qe("brightness"),s=qe("borderColor"),i=qe("borderRadius"),o=qe("borderSpacing"),a=qe("borderWidth"),l=qe("contrast"),u=qe("grayscale"),d=qe("hueRotate"),h=qe("invert"),p=qe("gap"),v=qe("gradientColorStops"),b=qe("gradientColorStopPositions"),_=qe("inset"),S=qe("margin"),E=qe("opacity"),w=qe("padding"),T=qe("saturate"),k=qe("scale"),O=qe("sepia"),L=qe("skew"),I=qe("space"),x=qe("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ve,e],D=()=>[ve,e],R=()=>["",zr,_s],B=()=>["auto",Yo,ve],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ve],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Yo,ve];return{cacheSize:500,separator:":",theme:{colors:[Nl],spacing:[zr,_s],blur:["none","",ws,ve],brightness:de(),borderColor:[t],borderRadius:["none","","full",ws,ve],borderSpacing:D(),borderWidth:R(),contrast:de(),grayscale:G(),hueRotate:de(),invert:G(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[d6,_s],inset:N(),margin:N(),opacity:de(),padding:D(),saturate:de(),scale:de(),sepia:G(),skew:de(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[ws]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),ve]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,ve]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Rl,ve]}],"grid-cols":[{"grid-cols":[Nl]}],"col-start-end":[{col:["auto",{span:["full",Rl,ve]},ve]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Nl]}],"row-start-end":[{row:["auto",{span:[Rl,ve]},ve]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[ws]},ws]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ws,_s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sm]}],"font-family":[{font:[Nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Yo,sm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zr,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zr,_s]}],"underline-offset":[{"underline-offset":["auto",zr,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),p6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},g6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[zr,ve]}],"outline-w":[{outline:[zr,_s]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[zr,_s]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ws,y6]}],"shadow-color":[{shadow:[Nl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ws,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Rl,ve]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zr,_s,sm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},T6=r6(E6);function Te(...t){return T6(BP(t))}const S6=I3,iR=g.forwardRef(({className:t,...e},n)=>m.jsx(LP,{ref:n,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));iR.displayName=LP.displayName;const x6=If("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oR=g.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(VP,{ref:r,className:Te(x6({variant:e}),t),...n}));oR.displayName=VP.displayName;const b6=g.forwardRef(({className:t,...e},n)=>m.jsx(UP,{ref:n,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));b6.displayName=UP.displayName;const aR=g.forwardRef(({className:t,...e},n)=>m.jsx(zP,{ref:n,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(Cv,{className:"h-4 w-4"})}));aR.displayName=zP.displayName;const lR=g.forwardRef(({className:t,...e},n)=>m.jsx(jP,{ref:n,className:Te("text-sm font-semibold",t),...e}));lR.displayName=jP.displayName;const cR=g.forwardRef(({className:t,...e},n)=>m.jsx(FP,{ref:n,className:Te("text-sm opacity-90",t),...e}));cR.displayName=FP.displayName;function I6(){const{toasts:t}=gP();return m.jsxs(S6,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return m.jsxs(oR,{...i,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(lR,{children:n}),r&&m.jsx(cR,{children:r})]}),s,m.jsx(aR,{})]},e)}),m.jsx(iR,{})]})}var C6=GI[" useId ".trim().toString()]||(()=>{}),A6=0;function $i(t){const[e,n]=g.useState(C6());return gt(()=>{n(r=>r??String(A6++))},[t]),e?`radix-${e}`:""}const P6=["top","right","bottom","left"],ni=Math.min,En=Math.max,yh=Math.round,ad=Math.floor,Tr=t=>({x:t,y:t}),R6={left:"right",right:"left",bottom:"top",top:"bottom"},N6={start:"end",end:"start"};function Dg(t,e,n){return En(t,ni(e,n))}function ns(t,e){return typeof t=="function"?t(e):t}function rs(t){return t.split("-")[0]}function Wa(t){return t.split("-")[1]}function Pv(t){return t==="x"?"y":"x"}function Rv(t){return t==="y"?"height":"width"}function ri(t){return["top","bottom"].includes(rs(t))?"y":"x"}function Nv(t){return Pv(ri(t))}function k6(t,e,n){n===void 0&&(n=!1);const r=Wa(t),s=Nv(t),i=Rv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=vh(o)),[o,vh(o)]}function D6(t){const e=vh(t);return[Og(t),e,Og(e)]}function Og(t){return t.replace(/start|end/g,e=>N6[e])}function O6(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function M6(t,e,n,r){const s=Wa(t);let i=O6(rs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Og)))),i}function vh(t){return t.replace(/left|right|bottom|top/g,e=>R6[e])}function L6(t){return{top:0,right:0,bottom:0,left:0,...t}}function uR(t){return typeof t!="number"?L6(t):{top:t,right:t,bottom:t,left:t}}function _h(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function NE(t,e,n){let{reference:r,floating:s}=t;const i=ri(e),o=Nv(e),a=Rv(o),l=rs(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-s.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Wa(e)){case"start":v[o]-=p*(n&&u?-1:1);break;case"end":v[o]+=p*(n&&u?-1:1);break}return v}const V6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=NE(u,r,l),p=r,v={},b=0;for(let _=0;_<a.length;_++){const{name:S,fn:E}=a[_],{x:w,y:T,data:k,reset:O}=await E({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,h=T??h,v={...v,[S]:{...v[S],...k}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=NE(u,p,l)),_=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:v}};async function Ic(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=ns(e,t),b=uR(v),S=a[p?h==="floating"?"reference":"floating":h],E=_h(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=_h(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:l}):w);return{top:(E.top-O.top+b.top)/k.y,bottom:(O.bottom-E.bottom+b.bottom)/k.y,left:(E.left-O.left+b.left)/k.x,right:(O.right-E.right+b.right)/k.x}}const j6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=ns(t,e)||{};if(u==null)return{};const h=uR(d),p={x:n,y:r},v=Nv(s),b=Rv(v),_=await o.getDimensions(u),S=v==="y",E=S?"top":"left",w=S?"bottom":"right",T=S?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[v]-p[v]-i.floating[b],O=p[v]-i.reference[v],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=L?L[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[T]||i.floating[b]);const x=k/2-O/2,C=I/2-_[b]/2-1,P=ni(h[E],C),N=ni(h[w],C),D=P,R=I-_[b]-N,B=I/2-_[b]/2+x,ee=Dg(D,B,R),te=!l.arrow&&Wa(s)!=null&&B!==ee&&i.reference[b]/2-(B<D?P:N)-_[b]/2<0,pe=te?B<D?B-D:B-R:0;return{[v]:p[v]+pe,data:{[v]:ee,centerOffset:B-ee-pe,...te&&{alignmentOffset:pe}},reset:te}}}),F6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...S}=ns(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=rs(s),w=ri(a),T=rs(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=p||(T||!_?[vh(a)]:D6(a)),L=b!=="none";!p&&L&&O.push(...M6(a,_,b,k));const I=[a,...O],x=await Ic(e,S),C=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(x[E]),h){const B=k6(s,o,k);C.push(x[B[0]],x[B[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(B=>B<=0)){var N,D;const B=(((N=i.flip)==null?void 0:N.index)||0)+1,ee=I[B];if(ee)return{data:{index:B,overflows:P},reset:{placement:ee}};let te=(D=P.filter(pe=>pe.overflows[0]<=0).sort((pe,F)=>pe.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!te)switch(v){case"bestFit":{var R;const pe=(R=P.filter(F=>{if(L){const G=ri(F.placement);return G===w||G==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(G=>G>0).reduce((G,ne)=>G+ne,0)]).sort((F,G)=>F[1]-G[1])[0])==null?void 0:R[0];pe&&(te=pe);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function kE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function DE(t){return P6.some(e=>t[e]>=0)}const U6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ns(t,e);switch(r){case"referenceHidden":{const i=await Ic(e,{...s,elementContext:"reference"}),o=kE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:DE(o)}}}case"escaped":{const i=await Ic(e,{...s,altBoundary:!0}),o=kE(i,n.floating);return{data:{escapedOffsets:o,escaped:DE(o)}}}default:return{}}}}};async function z6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=rs(n),a=Wa(n),l=ri(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=ns(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(v=a==="end"?b*-1:b),l?{x:v*d,y:p*u}:{x:p*u,y:v*d}}const $6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await z6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},B6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:E,y:w}=S;return{x:E,y:w}}},...l}=ns(t,e),u={x:n,y:r},d=await Ic(e,l),h=ri(rs(s)),p=Pv(h);let v=u[p],b=u[h];if(i){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",w=v+d[S],T=v-d[E];v=Dg(w,v,T)}if(o){const S=h==="y"?"top":"left",E=h==="y"?"bottom":"right",w=b+d[S],T=b-d[E];b=Dg(w,b,T)}const _=a.fn({...e,[p]:v,[h]:b});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[h]:o}}}}}},H6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ns(t,e),d={x:n,y:r},h=ri(s),p=Pv(h);let v=d[p],b=d[h];const _=ns(a,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const T=p==="y"?"height":"width",k=i.reference[p]-i.floating[T]+S.mainAxis,O=i.reference[p]+i.reference[T]-S.mainAxis;v<k?v=k:v>O&&(v=O)}if(u){var E,w;const T=p==="y"?"width":"height",k=["top","left"].includes(rs(s)),O=i.reference[h]-i.floating[T]+(k&&((E=o.offset)==null?void 0:E[h])||0)+(k?0:S.crossAxis),L=i.reference[h]+i.reference[T]+(k?0:((w=o.offset)==null?void 0:w[h])||0)-(k?S.crossAxis:0);b<O?b=O:b>L&&(b=L)}return{[p]:v,[h]:b}}}},q6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ns(t,e),d=await Ic(e,u),h=rs(s),p=Wa(s),v=ri(s)==="y",{width:b,height:_}=i.floating;let S,E;h==="top"||h==="bottom"?(S=h,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,S=p==="end"?"top":"bottom");const w=_-d.top-d.bottom,T=b-d.left-d.right,k=ni(_-d[S],w),O=ni(b-d[E],T),L=!e.middlewareData.shift;let I=k,x=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),L&&!p){const P=En(d.left,0),N=En(d.right,0),D=En(d.top,0),R=En(d.bottom,0);v?x=b-2*(P!==0||N!==0?P+N:En(d.left,d.right)):I=_-2*(D!==0||R!==0?D+R:En(d.top,d.bottom))}await l({...e,availableWidth:x,availableHeight:I});const C=await o.getDimensions(a.floating);return b!==C.width||_!==C.height?{reset:{rects:!0}}:{}}}};function Cf(){return typeof window<"u"}function Ga(t){return dR(t)?(t.nodeName||"").toLowerCase():"#document"}function xn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vr(t){var e;return(e=(dR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dR(t){return Cf()?t instanceof Node||t instanceof xn(t).Node:!1}function nr(t){return Cf()?t instanceof Element||t instanceof xn(t).Element:!1}function Nr(t){return Cf()?t instanceof HTMLElement||t instanceof xn(t).HTMLElement:!1}function OE(t){return!Cf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xn(t).ShadowRoot}function uu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function W6(t){return["table","td","th"].includes(Ga(t))}function Af(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function kv(t){const e=Dv(),n=nr(t)?rr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function G6(t){let e=si(t);for(;Nr(e)&&!Aa(e);){if(kv(e))return e;if(Af(e))return null;e=si(e)}return null}function Dv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Aa(t){return["html","body","#document"].includes(Ga(t))}function rr(t){return xn(t).getComputedStyle(t)}function Pf(t){return nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function si(t){if(Ga(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OE(t)&&t.host||Vr(t);return OE(e)?e.host:e}function hR(t){const e=si(t);return Aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nr(e)&&uu(e)?e:hR(e)}function Cc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=hR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=xn(s);if(i){const a=Mg(o);return e.concat(o,o.visualViewport||[],uu(s)?s:[],a&&n?Cc(a):[])}return e.concat(s,Cc(s,[],n))}function Mg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fR(t){const e=rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Nr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=yh(n)!==i||yh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ov(t){return nr(t)?t:t.contextElement}function Jo(t){const e=Ov(t);if(!Nr(e))return Tr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=fR(e);let o=(i?yh(n.width):n.width)/r,a=(i?yh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const K6=Tr(0);function pR(t){const e=xn(t);return!Dv()||!e.visualViewport?K6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Q6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xn(t)?!1:e}function Yi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ov(t);let o=Tr(1);e&&(r?nr(r)&&(o=Jo(r)):o=Jo(t));const a=Q6(i,n,r)?pR(i):Tr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=xn(i),v=r&&nr(r)?xn(r):r;let b=p,_=Mg(b);for(;_&&r&&v!==b;){const S=Jo(_),E=_.getBoundingClientRect(),w=rr(_),T=E.left+(_.clientLeft+parseFloat(w.paddingLeft))*S.x,k=E.top+(_.clientTop+parseFloat(w.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,h*=S.y,l+=T,u+=k,b=xn(_),_=Mg(b)}}return _h({width:d,height:h,x:l,y:u})}function Mv(t,e){const n=Pf(t).scrollLeft;return e?e.left+n:Yi(Vr(t)).left+n}function mR(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Mv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function X6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Vr(r),a=e?Af(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Tr(1);const d=Tr(0),h=Nr(r);if((h||!h&&!i)&&((Ga(r)!=="body"||uu(o))&&(l=Pf(r)),Nr(r))){const v=Yi(r);u=Jo(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const p=o&&!h&&!i?mR(o,l,!0):Tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function Z6(t){return Array.from(t.getClientRects())}function Y6(t){const e=Vr(t),n=Pf(t),r=t.ownerDocument.body,s=En(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=En(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Mv(t);const a=-n.scrollTop;return rr(r).direction==="rtl"&&(o+=En(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function J6(t,e){const n=xn(t),r=Vr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Dv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function e5(t,e){const n=Yi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Nr(t)?Jo(t):Tr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function ME(t,e,n){let r;if(e==="viewport")r=J6(t,n);else if(e==="document")r=Y6(Vr(t));else if(nr(e))r=e5(e,n);else{const s=pR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return _h(r)}function gR(t,e){const n=si(t);return n===e||!nr(n)||Aa(n)?!1:rr(n).position==="fixed"||gR(n,e)}function t5(t,e){const n=e.get(t);if(n)return n;let r=Cc(t,[],!1).filter(a=>nr(a)&&Ga(a)!=="body"),s=null;const i=rr(t).position==="fixed";let o=i?si(t):t;for(;nr(o)&&!Aa(o);){const a=rr(o),l=kv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||uu(o)&&!l&&gR(t,o))?r=r.filter(d=>d!==o):s=a,o=si(o)}return e.set(t,r),r}function n5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Af(e)?[]:t5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=ME(e,d,s);return u.top=En(h.top,u.top),u.right=ni(h.right,u.right),u.bottom=ni(h.bottom,u.bottom),u.left=En(h.left,u.left),u},ME(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function r5(t){const{width:e,height:n}=fR(t);return{width:e,height:n}}function s5(t,e,n){const r=Nr(e),s=Vr(e),i=n==="fixed",o=Yi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Tr(0);if(r||!r&&!i)if((Ga(e)!=="body"||uu(s))&&(a=Pf(e)),r){const p=Yi(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=Mv(s));const u=s&&!r&&!i?mR(s,a):Tr(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function im(t){return rr(t).position==="static"}function LE(t,e){if(!Nr(t)||rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vr(t)===n&&(n=n.ownerDocument.body),n}function yR(t,e){const n=xn(t);if(Af(t))return n;if(!Nr(t)){let s=si(t);for(;s&&!Aa(s);){if(nr(s)&&!im(s))return s;s=si(s)}return n}let r=LE(t,e);for(;r&&W6(r)&&im(r);)r=LE(r,e);return r&&Aa(r)&&im(r)&&!kv(r)?n:r||G6(t)||n}const i5=async function(t){const e=this.getOffsetParent||yR,n=this.getDimensions,r=await n(t.floating);return{reference:s5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function o5(t){return rr(t).direction==="rtl"}const a5={convertOffsetParentRelativeRectToViewportRelativeRect:X6,getDocumentElement:Vr,getClippingRect:n5,getOffsetParent:yR,getElementRects:i5,getClientRects:Z6,getDimensions:r5,getScale:Jo,isElement:nr,isRTL:o5};function vR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function l5(t,e){let n=null,r;const s=Vr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:v}=u;if(a||e(),!p||!v)return;const b=ad(h),_=ad(s.clientWidth-(d+p)),S=ad(s.clientHeight-(h+v)),E=ad(d),T={rootMargin:-b+"px "+-_+"px "+-S+"px "+-E+"px",threshold:En(0,ni(1,l))||1};let k=!0;function O(L){const I=L[0].intersectionRatio;if(I!==l){if(!k)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!vR(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function c5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ov(t),d=s||i?[...u?Cc(u):[],...Cc(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const h=u&&a?l5(u,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(E=>{let[w]=E;w&&w.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=v)==null||T.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let b,_=l?Yi(t):null;l&&S();function S(){const E=Yi(t);_&&!vR(_,E)&&n(),_=E,b=requestAnimationFrame(S)}return n(),()=>{var E;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(E=v)==null||E.disconnect(),v=null,l&&cancelAnimationFrame(b)}}const u5=$6,d5=B6,h5=F6,f5=q6,p5=U6,VE=j6,m5=H6,g5=(t,e,n)=>{const r=new Map,s={platform:a5,...n},i={...s.platform,_c:r};return V6(t,e,{...s,platform:i})};var kd=typeof document<"u"?g.useLayoutEffect:g.useEffect;function wh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!wh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function _R(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jE(t,e){const n=_R(t);return Math.round(e*n)/n}function om(t){const e=g.useRef(t);return kd(()=>{e.current=t}),e}function y5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=g.useState(r);wh(p,r)||v(r);const[b,_]=g.useState(null),[S,E]=g.useState(null),w=g.useCallback(F=>{F!==L.current&&(L.current=F,_(F))},[]),T=g.useCallback(F=>{F!==I.current&&(I.current=F,E(F))},[]),k=i||b,O=o||S,L=g.useRef(null),I=g.useRef(null),x=g.useRef(d),C=l!=null,P=om(l),N=om(s),D=om(u),R=g.useCallback(()=>{if(!L.current||!I.current)return;const F={placement:e,strategy:n,middleware:p};N.current&&(F.platform=N.current),g5(L.current,I.current,F).then(G=>{const ne={...G,isPositioned:D.current!==!1};B.current&&!wh(x.current,ne)&&(x.current=ne,ho.flushSync(()=>{h(ne)}))})},[p,e,n,N,D]);kd(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const B=g.useRef(!1);kd(()=>(B.current=!0,()=>{B.current=!1}),[]),kd(()=>{if(k&&(L.current=k),O&&(I.current=O),k&&O){if(P.current)return P.current(k,O,R);R()}},[k,O,R,P,C]);const ee=g.useMemo(()=>({reference:L,floating:I,setReference:w,setFloating:T}),[w,T]),te=g.useMemo(()=>({reference:k,floating:O}),[k,O]),pe=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!te.floating)return F;const G=jE(te.floating,d.x),ne=jE(te.floating,d.y);return a?{...F,transform:"translate("+G+"px, "+ne+"px)",..._R(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:ne}},[n,a,te.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:R,refs:ee,elements:te,floatingStyles:pe}),[d,R,ee,te,pe])}const v5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?VE({element:r.current,padding:s}).fn(n):{}:r?VE({element:r,padding:s}).fn(n):{}}}},_5=(t,e)=>({...u5(t),options:[t,e]}),w5=(t,e)=>({...d5(t),options:[t,e]}),E5=(t,e)=>({...m5(t),options:[t,e]}),T5=(t,e)=>({...h5(t),options:[t,e]}),S5=(t,e)=>({...f5(t),options:[t,e]}),x5=(t,e)=>({...p5(t),options:[t,e]}),b5=(t,e)=>({...v5(t),options:[t,e]});var I5="Arrow",wR=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return m.jsx(he.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});wR.displayName=I5;var C5=wR;function ER(t){const[e,n]=g.useState(void 0);return gt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Lv="Popper",[TR,Rf]=or(Lv),[A5,SR]=TR(Lv),xR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return m.jsx(A5,{scope:e,anchor:r,onAnchorChange:s,children:n})};xR.displayName=Lv;var bR="PopperAnchor",IR=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=SR(bR,n),o=g.useRef(null),a=Pe(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(he.div,{...s,ref:a})});IR.displayName=bR;var Vv="PopperContent",[P5,R5]=TR(Vv),CR=g.forwardRef((t,e)=>{var oe,Ve,vt,Ue,Oe,De;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:b,..._}=t,S=SR(Vv,n),[E,w]=g.useState(null),T=Pe(e,Nt=>w(Nt)),[k,O]=g.useState(null),L=ER(k),I=(L==null?void 0:L.width)??0,x=(L==null?void 0:L.height)??0,C=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,R={padding:P,boundary:N.filter(k5),altBoundary:D},{refs:B,floatingStyles:ee,placement:te,isPositioned:pe,middlewareData:F}=y5({strategy:"fixed",placement:C,whileElementsMounted:(...Nt)=>c5(...Nt,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[_5({mainAxis:s+x,alignmentAxis:o}),l&&w5({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?E5():void 0,...R}),l&&T5({...R}),S5({...R,apply:({elements:Nt,rects:yn,availableWidth:Ti,availableHeight:Fr})=>{const{width:Ur,height:Cu}=yn.reference,at=Nt.floating.style;at.setProperty("--radix-popper-available-width",`${Ti}px`),at.setProperty("--radix-popper-available-height",`${Fr}px`),at.setProperty("--radix-popper-anchor-width",`${Ur}px`),at.setProperty("--radix-popper-anchor-height",`${Cu}px`)}}),k&&b5({element:k,padding:a}),D5({arrowWidth:I,arrowHeight:x}),p&&x5({strategy:"referenceHidden",...R})]}),[G,ne]=RR(te),de=ot(b);gt(()=>{pe&&(de==null||de())},[pe,de]);const ke=(oe=F.arrow)==null?void 0:oe.x,xt=(Ve=F.arrow)==null?void 0:Ve.y,Qe=((vt=F.arrow)==null?void 0:vt.centerOffset)!==0,[ln,yt]=g.useState();return gt(()=>{E&&yt(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:pe?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ln,"--radix-popper-transform-origin":[(Ue=F.transformOrigin)==null?void 0:Ue.x,(Oe=F.transformOrigin)==null?void 0:Oe.y].join(" "),...((De=F.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(P5,{scope:n,placedSide:G,onArrowChange:O,arrowX:ke,arrowY:xt,shouldHideArrow:Qe,children:m.jsx(he.div,{"data-side":G,"data-align":ne,..._,ref:T,style:{..._.style,animation:pe?void 0:"none"}})})})});CR.displayName=Vv;var AR="PopperArrow",N5={top:"bottom",right:"left",bottom:"top",left:"right"},PR=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=R5(AR,r),o=N5[i.placedSide];return m.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:m.jsx(C5,{...s,ref:n,style:{...s.style,display:"block"}})})});PR.displayName=AR;function k5(t){return t!==null}var D5=t=>({name:"transformOrigin",options:t,fn(e){var S,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=RR(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let b="",_="";return u==="bottom"?(b=o?h:`${p}px`,_=`${-l}px`):u==="top"?(b=o?h:`${p}px`,_=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,_=o?h:`${v}px`):u==="left"&&(b=`${r.floating.width+l}px`,_=o?h:`${v}px`),{data:{x:b,y:_}}}});function RR(t){const[e,n="center"]=t.split("-");return[e,n]}var O5=xR,NR=IR,kR=CR,DR=PR,[Nf,xQ]=or("Tooltip",[Rf]),jv=Rf(),OR="TooltipProvider",M5=700,FE="tooltip.open",[L5,MR]=Nf(OR),LR=t=>{const{__scopeTooltip:e,delayDuration:n=M5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),m.jsx(L5,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};LR.displayName=OR;var VR="Tooltip",[bQ,kf]=Nf(VR),Lg="TooltipTrigger",V5=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=kf(Lg,n),i=MR(Lg,n),o=jv(n),a=g.useRef(null),l=Pe(e,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),m.jsx(NR,{asChild:!0,...o,children:m.jsx(he.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:se(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:se(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:se(t.onBlur,s.onClose),onClick:se(t.onClick,s.onClose)})})});V5.displayName=Lg;var j5="TooltipPortal",[IQ,F5]=Nf(j5,{forceMount:void 0}),Pa="TooltipContent",jR=g.forwardRef((t,e)=>{const n=F5(Pa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=kf(Pa,t.__scopeTooltip);return m.jsx(ar,{present:r||o.open,children:o.disableHoverableContent?m.jsx(FR,{side:s,...i,ref:e}):m.jsx(U5,{side:s,...i,ref:e})})}),U5=g.forwardRef((t,e)=>{const n=kf(Pa,t.__scopeTooltip),r=MR(Pa,t.__scopeTooltip),s=g.useRef(null),i=Pe(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=g.useCallback(()=>{a(null),h(!1)},[h]),v=g.useCallback((b,_)=>{const S=b.currentTarget,E={x:b.clientX,y:b.clientY},w=q5(E,S.getBoundingClientRect()),T=W5(E,w),k=G5(_.getBoundingClientRect()),O=Q5([...T,...k]);a(O),h(!0)},[h]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&d){const b=S=>v(S,d),_=S=>v(S,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",_)}}},[l,d,v,p]),g.useEffect(()=>{if(o){const b=_=>{const S=_.target,E={x:_.clientX,y:_.clientY},w=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),T=!K5(E,o);w?p():T&&(p(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,u,p]),m.jsx(FR,{...t,ref:i})}),[z5,$5]=Nf(VR,{isInside:!1}),B5=$F("TooltipContent"),FR=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=kf(Pa,n),u=jv(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(FE,d),()=>document.removeEventListener(FE,d)),[d]),g.useEffect(()=>{if(l.trigger){const h=p=>{const v=p.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),m.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:m.jsxs(kR,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(B5,{children:r}),m.jsx(z5,{scope:n,isInside:!0,children:m.jsx(l3,{id:l.contentId,role:"tooltip",children:s||r})})]})})});jR.displayName=Pa;var UR="TooltipArrow",H5=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=jv(n);return $5(UR,n).isInside?null:m.jsx(DR,{...s,...r,ref:e})});H5.displayName=UR;function q5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function W5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function G5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function K5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function Q5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),X5(e)}function X5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Z5=LR,zR=jR;const Y5=Z5,J5=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(zR,{ref:r,sideOffset:e,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));J5.displayName=zR.displayName;const Df=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Df.displayName="Card";const e9=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("flex flex-col space-y-1.5 p-6",t),...e}));e9.displayName="CardHeader";const t9=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("text-2xl font-semibold leading-none tracking-tight",t),...e}));t9.displayName="CardTitle";const n9=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));n9.displayName="CardDescription";const $R=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("p-6 pt-0",t),...e}));$R.displayName="CardContent";const r9=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Te("flex items-center p-6 pt-0",t),...e}));r9.displayName="CardFooter";function s9(){return m.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:m.jsx(Df,{className:"w-full max-w-md mx-4",children:m.jsxs($R,{className:"pt-6",children:[m.jsxs("div",{className:"flex mb-4 gap-2",children:[m.jsx(GP,{className:"h-8 w-8 text-red-500"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),m.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const UE=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(v=>v(e,p))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,a);return a},i9=t=>t?UE(t):UE,o9=t=>t;function a9(t,e=o9){const n=Nn.useSyncExternalStore(t.subscribe,Nn.useCallback(()=>e(t.getState()),[t,e]),Nn.useCallback(()=>e(t.getInitialState()),[t,e]));return Nn.useDebugValue(n),n}const zE=t=>{const e=i9(t),n=r=>a9(e,r);return Object.assign(n,e),n},l9=t=>t?zE(t):zE,fo=l9((t,e)=>({userId:"",displayName:"Ghost Hunter",photoUrl:"https://api.dicebear.com/7.x/bottts/svg?seed=default",isFlickering:!1,isShaking:!1,emfLevel:0,isFirebaseOnline:!1,activeTab:"chat",setUser:(n,r,s)=>t({userId:n,displayName:r,photoUrl:s}),setFlickering:n=>t({isFlickering:n}),setShaking:n=>t({isShaking:n}),setEmfLevel:n=>t({emfLevel:Math.min(5,Math.max(0,n))}),setFirebaseOnline:n=>t({isFirebaseOnline:n}),setActiveTab:n=>t({activeTab:n}),triggerEffect:n=>{n==="hunt"||n==="slam"?(t({isShaking:!0,emfLevel:5}),setTimeout(()=>t({isShaking:!1}),500)):(n==="flicker"||n==="manifest")&&(t({isFlickering:!0,emfLevel:Math.floor(Math.random()*3)+2}),setTimeout(()=>t({isFlickering:!1}),1e3)),setTimeout(()=>t({emfLevel:0}),3e3)}}));function BR(t){return new Date(t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}function c9(){const{userId:t,displayName:e,isFirebaseOnline:n}=fo();return m.jsxs("div",{className:"phasmo-card text-center py-6","data-testid":"header",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold uppercase font-orbitron phasmo-title mb-2 tracking-widest",children:"Phasmophobia Broads HQ"}),m.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2 flex-wrap",children:[m.jsxs("p",{className:"text-sm text-muted-foreground font-jetbrains flex items-center gap-2",children:[m.jsx("span",{children:"Firebase:"}),n?m.jsxs("span",{className:"text-status-online flex items-center gap-1","data-testid":"text-firebase-status",children:[m.jsx(B3,{className:"w-4 h-4"}),"ONLINE"]}):m.jsxs("span",{className:"text-status-offline flex items-center gap-1","data-testid":"text-firebase-status",children:[m.jsx($3,{className:"w-4 h-4"}),"OFFLINE"]})]}),m.jsx("span",{className:"text-muted-foreground",children:"|"}),m.jsxs("p",{className:"text-sm text-muted-foreground font-jetbrains",children:["Agent:"," ",m.jsx("span",{className:"text-accent text-glow-cyan","data-testid":"text-user-status",children:t?e:"AWAITING AUTHORIZATION..."})]})]})]})}const u9=If("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_r=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?UF:"button";return m.jsx(o,{className:Te(u9({variant:e,size:n,className:t})),ref:i,...s})});_r.displayName="Button";const $E=["bg-green-500","bg-green-400","bg-yellow-400","bg-orange-500","bg-red-500","bg-red-600"],d9=["OFF","1","2","3","4","5"];function h9(){const{emfLevel:t}=fo(),e=t/5*100,n=$E[t]||$E[0];return m.jsxs("div",{className:"space-y-2","data-testid":"emf-bar",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-xs font-jetbrains text-muted-foreground uppercase tracking-wider",children:"EMF Reader"}),m.jsx("span",{className:`text-lg font-orbitron font-bold ${t>=4?"text-red-500 text-glow-purple":"text-accent text-glow-cyan"}`,"data-testid":"text-emf-level",children:d9[t]})]}),m.jsx("div",{className:"emf-bar-container h-5 rounded-md",children:m.jsx("div",{className:`h-full transition-all duration-300 ease-out ${n} ${t>=4?"animate-pulse":""}`,style:{width:`${e}%`}})}),m.jsxs("div",{className:"flex justify-between text-xs font-jetbrains text-muted-foreground px-1",children:[m.jsx("span",{children:"1"}),m.jsx("span",{children:"2"}),m.jsx("span",{children:"3"}),m.jsx("span",{children:"4"}),m.jsx("span",{children:"5"})]})]})}function f9({onTriggerHunt:t}){const{triggerEffect:e,emfLevel:n}=fo(),r=()=>{e("hunt"),t()};return m.jsxs("div",{className:"phasmo-card","data-testid":"ghost-activity-monitor",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"phasmo-subtitle text-lg font-orbitron flex items-center gap-2",children:[m.jsx(V3,{className:"w-5 h-5"}),"GHOST ACTIVITY MONITOR"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[n>=4&&m.jsx(YP,{className:"w-5 h-5 text-red-500 animate-pulse"}),m.jsx(bc,{className:`w-6 h-6 ${n>=3?"text-accent animate-pulse":"text-muted-foreground"}`})]})]}),m.jsx(h9,{}),m.jsxs("div",{className:"mt-6 space-y-3",children:[m.jsxs(_r,{onClick:r,className:"w-full bg-red-900/80 hover:bg-red-800 border-red-500 text-white font-orbitron uppercase tracking-wider","data-testid":"button-trigger-hunt",children:[m.jsx(ZP,{className:"w-4 h-4 mr-2"}),"Trigger Hunt Event (Global)"]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsx(_r,{variant:"outline",size:"sm",onClick:()=>e("flicker"),className:"font-jetbrains text-xs","data-testid":"button-flicker",children:"Flicker"}),m.jsx(_r,{variant:"outline",size:"sm",onClick:()=>e("manifest"),className:"font-jetbrains text-xs","data-testid":"button-manifest",children:"Manifest"}),m.jsx(_r,{variant:"outline",size:"sm",onClick:()=>e("slam"),className:"font-jetbrains text-xs","data-testid":"button-slam",children:"Slam"})]})]})]})}var p9=g.createContext(void 0);function Of(t){const e=g.useContext(p9);return t||e||"ltr"}function Vg(t,[e,n]){return Math.min(n,Math.max(e,t))}function m9(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Fv="ScrollArea",[HR,CQ]=or(Fv),[g9,Un]=HR(Fv),qR=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=g.useState(null),[u,d]=g.useState(null),[h,p]=g.useState(null),[v,b]=g.useState(null),[_,S]=g.useState(null),[E,w]=g.useState(0),[T,k]=g.useState(0),[O,L]=g.useState(!1),[I,x]=g.useState(!1),C=Pe(e,N=>l(N)),P=Of(s);return m.jsx(g9,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:O,onScrollbarXEnabledChange:L,scrollbarY:_,onScrollbarYChange:S,scrollbarYEnabled:I,onScrollbarYEnabledChange:x,onCornerWidthChange:w,onCornerHeightChange:k,children:m.jsx(he.div,{dir:P,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});qR.displayName=Fv;var WR="ScrollAreaViewport",GR=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Un(WR,n),a=g.useRef(null),l=Pe(e,a,o.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),m.jsx(he.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:m.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});GR.displayName=WR;var jr="ScrollAreaScrollbar",Uv=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Un(jr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?m.jsx(y9,{...r,ref:e,forceMount:n}):s.type==="scroll"?m.jsx(v9,{...r,ref:e,forceMount:n}):s.type==="auto"?m.jsx(KR,{...r,ref:e,forceMount:n}):s.type==="always"?m.jsx(zv,{...r,ref:e}):null});Uv.displayName=jr;var y9=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Un(jr,t.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),m.jsx(ar,{present:n||i,children:m.jsx(KR,{"data-state":i?"visible":"hidden",...r,ref:e})})}),v9=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Un(jr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Lf(()=>l("SCROLL_END"),100),[a,l]=m9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),g.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const v=u[d];h!==v&&(l("SCROLL"),o()),h=v};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),m.jsx(ar,{present:n||a!=="hidden",children:m.jsx(zv,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:se(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),KR=g.forwardRef((t,e)=>{const n=Un(jr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=g.useState(!1),a=t.orientation==="horizontal",l=Lf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return Ra(n.viewport,l),Ra(n.content,l),m.jsx(ar,{present:r||i,children:m.jsx(zv,{"data-state":i?"visible":"hidden",...s,ref:e})})}),zv=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Un(jr,t.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,l]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=JR(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,v){return x9(p,o.current,a,v)}return n==="horizontal"?m.jsx(_9,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,v=BE(p,a,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?m.jsx(w9,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,v=BE(p,a);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),_9=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Un(jr,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=Pe(e,l,i.onScrollbarXChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),m.jsx(XR,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),tN(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Th(o.paddingLeft),paddingEnd:Th(o.paddingRight)}})}})}),w9=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Un(jr,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=Pe(e,l,i.onScrollbarYChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),m.jsx(XR,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),tN(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Th(o.paddingTop),paddingEnd:Th(o.paddingBottom)}})}})}),[E9,QR]=HR(jr),XR=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,v=Un(jr,n),[b,_]=g.useState(null),S=Pe(e,C=>_(C)),E=g.useRef(null),w=g.useRef(""),T=v.viewport,k=r.content-r.viewport,O=ot(d),L=ot(l),I=Lf(h,10);function x(C){if(E.current){const P=C.clientX-E.current.left,N=C.clientY-E.current.top;u({x:P,y:N})}}return g.useEffect(()=>{const C=P=>{const N=P.target;(b==null?void 0:b.contains(N))&&O(P,k)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[T,b,k,O]),g.useEffect(L,[r,L]),Ra(b,I),Ra(v.content,I),m.jsx(E9,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:ot(i),onThumbPointerUp:ot(o),onThumbPositionChange:L,onThumbPointerDown:ot(a),children:m.jsx(he.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:se(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),E.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),x(C))}),onPointerMove:se(t.onPointerMove,x),onPointerUp:se(t.onPointerUp,C=>{const P=C.target;P.hasPointerCapture(C.pointerId)&&P.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=w.current,v.viewport&&(v.viewport.style.scrollBehavior=""),E.current=null})})})}),Eh="ScrollAreaThumb",ZR=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=QR(Eh,t.__scopeScrollArea);return m.jsx(ar,{present:n||s.hasThumb,children:m.jsx(T9,{ref:e,...r})})}),T9=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Un(Eh,n),o=QR(Eh,n),{onThumbPositionChange:a}=o,l=Pe(e,h=>o.onThumbChange(h)),u=g.useRef(void 0),d=Lf(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const v=b9(h,a);u.current=v,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),m.jsx(he.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(t.onPointerDownCapture,h=>{const v=h.target.getBoundingClientRect(),b=h.clientX-v.left,_=h.clientY-v.top;o.onThumbPointerDown({x:b,y:_})}),onPointerUp:se(t.onPointerUp,o.onThumbPointerUp)})});ZR.displayName=Eh;var $v="ScrollAreaCorner",YR=g.forwardRef((t,e)=>{const n=Un($v,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(S9,{...t,ref:e}):null});YR.displayName=$v;var S9=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Un($v,n),[i,o]=g.useState(0),[a,l]=g.useState(0),u=!!(i&&a);return Ra(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ra(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?m.jsx(he.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Th(t){return t?parseInt(t,10):0}function JR(t,e){const n=t/e;return isNaN(n)?0:n}function Mf(t){const e=JR(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function x9(t,e,n,r="ltr"){const s=Mf(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return eN([l,u],h)(t)}function BE(t,e,n="ltr"){const r=Mf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=Vg(t,l);return eN([0,o],[0,a])(u)}function eN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function tN(t,e){return t>0&&t<e}var b9=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Lf(t,e){const n=ot(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ra(t,e){const n=ot(e);gt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var nN=qR,I9=GR,C9=YR;const du=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(nN,{ref:r,className:Te("relative overflow-hidden",t),...n,children:[m.jsx(I9,{className:"h-full w-full rounded-[inherit]",children:e}),m.jsx(rN,{}),m.jsx(C9,{})]}));du.displayName=nN.displayName;const rN=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>m.jsx(Uv,{ref:r,orientation:e,className:Te("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:m.jsx(ZR,{className:"relative flex-1 rounded-full bg-border"})}));rN.displayName=Uv.displayName;const A9={system:GP,event:bc,command:H3,hunt:z3},P9={system:"text-muted-foreground",event:"text-red-400",command:"text-accent",hunt:"text-red-500"};function R9({logs:t}){return m.jsxs("div",{className:"phasmo-card flex-grow flex flex-col min-h-[300px]","data-testid":"activity-log",children:[m.jsxs("h2",{className:"phasmo-subtitle text-lg font-orbitron mb-4 flex items-center gap-2",children:[m.jsx(bc,{className:"w-5 h-5"}),"GHOST ACTIVITY LOG"]}),m.jsx(du,{className:"log-container flex-grow h-[200px]",children:m.jsx("div",{className:"space-y-2 pr-4",children:t.length===0?m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm italic",children:"[SYSTEM] Awaiting initial authentication..."}):t.map(e=>{const n=A9[e.type],r=P9[e.type];return m.jsxs("div",{className:`flex items-start gap-2 font-jetbrains text-sm ${r}`,"data-testid":`log-entry-${e.id}`,children:[m.jsx(n,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),m.jsxs("span",{className:"text-muted-foreground text-xs",children:["[",BR(e.timestamp),"]"]}),m.jsx("span",{className:"flex-grow",children:e.message})]},e.id)})})})]})}const Bv=g.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:Te("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Bv.displayName="Input";function N9({onSendMessage:t}){const[e,n]=g.useState(""),r=()=>{const i=e.trim();if(!i)return;const o=i.startsWith("!");t(i,o),n("")},s=i=>{i.key==="Enter"&&(i.preventDefault(),r())};return m.jsxs("div",{className:"space-y-2","data-testid":"command-input",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Bv,{type:"text",value:e,onChange:i=>n(i.target.value),onKeyDown:s,placeholder:"Type message or command (!hunt, !dead:NAME, etc.)",className:"flex-grow bg-background/50 border-primary focus:border-accent text-accent font-jetbrains","data-testid":"input-command"}),m.jsx(_r,{onClick:r,size:"icon",className:"bg-primary hover:bg-primary/80","data-testid":"button-send",children:m.jsx(F3,{className:"w-4 h-4"})})]}),m.jsx("p",{className:"text-xs text-muted-foreground font-jetbrains",children:"Commands: !hunt, !flicker, !manifest, !curse, !slam, !evidence:X, !dead:X, !revive:X, !location:X"})]})}const k9=[{id:"chat",label:"Chat",icon:XP},{id:"evidence",label:"Evidence",icon:KP},{id:"ghost",label:"Ghost Profile",icon:qP},{id:"cases",label:"Cases",icon:QP},{id:"squad",label:"Squad",icon:Ng},{id:"profile",label:"Profile",icon:JP}];function D9(){const{activeTab:t,setActiveTab:e}=fo();return m.jsx("div",{className:"flex flex-wrap gap-2 justify-center","data-testid":"tab-navigation",children:k9.map(n=>{const r=n.icon,s=t===n.id;return m.jsxs(_r,{variant:s?"default":"outline",size:"sm",onClick:()=>e(n.id),className:`font-orbitron text-xs uppercase tracking-wider ${s?"bg-primary text-primary-foreground border-accent shadow-neon-purple":"bg-background/50 border-primary text-accent hover:bg-primary/20"}`,"data-testid":`tab-button-${n.id}`,children:[m.jsx(r,{className:"w-4 h-4 mr-1.5"}),n.label]},n.id)})})}var Hv="Avatar",[O9,AQ]=or(Hv),[M9,sN]=O9(Hv),iN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return m.jsx(M9,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:m.jsx(he.span,{...r,ref:e})})});iN.displayName=Hv;var oN="AvatarImage",aN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=sN(oN,n),a=L9(r,i),l=ot(u=>{s(u),o.onImageLoadingStatusChange(u)});return gt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?m.jsx(he.img,{...i,ref:e,src:r}):null});aN.displayName=oN;var lN="AvatarFallback",cN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=sN(lN,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?m.jsx(he.span,{...s,ref:e}):null});cN.displayName=lN;function HE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function L9(t,{referrerPolicy:e,crossOrigin:n}){const r=j9(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=g.useState(()=>HE(i,t));return gt(()=>{a(HE(i,t))},[i,t]),gt(()=>{const l=h=>()=>{a(h)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),o}function V9(){return()=>{}}function j9(){return g.useSyncExternalStore(V9,()=>!0,()=>!1)}var uN=iN,dN=aN,hN=cN;const Ac=g.forwardRef(({className:t,...e},n)=>m.jsx(uN,{ref:n,className:Te(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Ac.displayName=uN.displayName;const Pc=g.forwardRef(({className:t,...e},n)=>m.jsx(dN,{ref:n,className:Te("aspect-square h-full w-full",t),...e}));Pc.displayName=dN.displayName;const Rc=g.forwardRef(({className:t,...e},n)=>m.jsx(hN,{ref:n,className:Te("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Rc.displayName=hN.displayName;function qE({messages:t}){return m.jsxs("div",{className:"space-y-4","data-testid":"chat-panel",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(XP,{className:"w-5 h-5"}),"Squad Comms Log"]}),m.jsx(du,{className:"log-container h-[300px]",children:m.jsx("div",{className:"space-y-3 pr-4",children:t.length===0?m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm italic",children:"No messages yet. Start chatting with your squad!"}):t.map(e=>m.jsxs("div",{className:"flex items-start gap-3","data-testid":`chat-message-${e.id}`,children:[m.jsxs(Ac,{className:"w-8 h-8 border border-accent",children:[m.jsx(Pc,{src:e.photoUrl,alt:e.displayName}),m.jsx(Rc,{className:"bg-primary/20 text-accent text-xs font-orbitron",children:e.displayName.slice(0,2).toUpperCase()})]}),m.jsxs("div",{className:"flex-grow min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx("span",{className:"text-xs text-muted-foreground font-jetbrains",children:BR(e.timestamp)}),m.jsxs("span",{className:"font-bold text-primary font-jetbrains",children:[e.displayName,":"]})]}),m.jsx("p",{className:`font-jetbrains text-sm break-words ${e.isCommand?"text-accent":"text-foreground"}`,children:e.text})]})]},e.id))})})]})}const F9=If("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function qv({className:t,variant:e,...n}){return m.jsx("div",{className:Te(F9({variant:e}),t),...n})}const H=Symbol.for("drizzle:entityKind");function Dt(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,H))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(H in n&&n[H]===e[H])return!0;n=Object.getPrototypeOf(n)}return!1}var eS;eS=H;class Na{constructor(e,n){M(this,"name");M(this,"keyAsName");M(this,"primary");M(this,"notNull");M(this,"default");M(this,"defaultFn");M(this,"onUpdateFn");M(this,"hasDefault");M(this,"isUnique");M(this,"uniqueName");M(this,"uniqueType");M(this,"dataType");M(this,"columnType");M(this,"enumValues");M(this,"generated");M(this,"generatedIdentity");M(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}M(Na,eS,"Column");var tS;tS=H;class fN{constructor(e,n,r){M(this,"config");M(this,"$default",this.$defaultFn);M(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}M(fN,tS,"ColumnBuilder");const ea=Symbol.for("drizzle:Name");var nS;nS=H;class pN{constructor(e,n){M(this,"reference");M(this,"_onUpdate","no action");M(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=e();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new mN(e,this)}}M(pN,nS,"PgForeignKeyBuilder");var rS;rS=H;class mN{constructor(e,n){M(this,"reference");M(this,"onUpdate");M(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),s=n.map(a=>a.name),i=r.map(a=>a.name),o=[this.table[ea],...s,r[0].table[ea],...i];return e??`${o.join("_")}_fk`}}M(mN,rS,"PgForeignKey");function U9(t,...e){return t(...e)}function z9(t,e){return`${t[ea]}_${e.join("_")}_unique`}function WE(t,e,n){for(let r=e;r<t.length;r++){const s=t[r];if(s==="\\"){r++;continue}if(s==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function gN(t,e=0){const n=[];let r=e,s=!1;for(;r<t.length;){const i=t[r];if(i===","){(s||r===e)&&n.push(""),s=!0,r++;continue}if(s=!1,i==="\\"){r+=2;continue}if(i==='"'){const[l,u]=WE(t,r+1,!0);n.push(l),r=u;continue}if(i==="}")return[n,r+1];if(i==="{"){const[l,u]=gN(t,r+1);n.push(l),r=u;continue}const[o,a]=WE(t,r,!1);n.push(o),r=a}return[n,r]}function $9(t){const[e]=gN(t,1);return e}function yN(t){return`{${t.map(e=>Array.isArray(e)?yN(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var sS,iS;class Re extends(iS=fN,sS=H,iS){constructor(){super(...arguments);M(this,"foreignKeyConfigs",[])}array(n){return new _N(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>U9((o,a)=>{const l=new pN(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(r)},s,i))}buildExtraConfigColumn(n){return new vN(n,this.config)}}M(Re,sS,"PgColumnBuilder");var oS,aS;class ye extends(aS=Na,oS=H,aS){constructor(e,n){n.uniqueName||(n.uniqueName=z9(e,[n.name])),super(e,n),this.table=e}}M(ye,oS,"PgColumn");var lS,cS;class vN extends(cS=ye,lS=H,cS){constructor(){super(...arguments);M(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});M(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}M(vN,lS,"ExtraConfigColumn");var uS,dS;class _N extends(dS=Re,uS=H,dS){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new jg(e,this.config,n)}}M(_N,uS,"PgArrayBuilder");var hS,fS;const nf=class nf extends(fS=ye,hS=H,fS){constructor(n,r,s,i){super(n,r);M(this,"size");this.baseColumn=s,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=$9(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(i=>i===null?null:Dt(this.baseColumn,nf)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?s:yN(s)}};M(nf,hS,"PgArray");let jg=nf;const GE=Symbol.for("drizzle:isPgEnum");function B9(t){return!!t&&typeof t=="function"&&GE in t&&t[GE]===!0}var pS;pS=H;class Wv{constructor(e,n,r,s=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:s}}}M(Wv,pS,"Subquery");const H9={startActiveSpan(t,e){return e()}},ta=Symbol.for("drizzle:ViewBaseConfig"),am=Symbol.for("drizzle:Schema"),KE=Symbol.for("drizzle:Columns"),QE=Symbol.for("drizzle:ExtraConfigColumns"),lm=Symbol.for("drizzle:OriginalName"),cm=Symbol.for("drizzle:BaseName"),Sh=Symbol.for("drizzle:IsAlias"),XE=Symbol.for("drizzle:ExtraConfigBuilder"),wN=Symbol.for("drizzle:IsDrizzleTable");var mS,gS,yS,vS,_S,wS,ES,TS,SS,xS;xS=H,SS=ea,TS=lm,ES=am,wS=KE,_S=QE,vS=cm,yS=Sh,gS=wN,mS=XE;class tn{constructor(e,n,r){M(this,SS);M(this,TS);M(this,ES);M(this,wS);M(this,_S);M(this,vS);M(this,yS,!1);M(this,gS,!0);M(this,mS);this[ea]=this[lm]=e,this[am]=n,this[cm]=r}}M(tn,xS,"Table"),M(tn,"Symbol",{Name:ea,Schema:am,OriginalName:lm,Columns:KE,ExtraConfigColumns:QE,BaseName:cm,IsAlias:Sh,ExtraConfigBuilder:XE});function EN(t){return typeof t=="object"&&t!==null&&wN in t}function q9(t){return t!=null&&typeof t.getSQL=="function"}function W9(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var bS;bS=H;class Rn{constructor(e){M(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Tt([this])}}M(Rn,bS,"StringChunk");var IS;IS=H;const Ni=class Ni{constructor(e){M(this,"decoder",TN);M(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return H9.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:u}=r;return W9(e.map(d=>{var h;if(Dt(d,Rn))return{sql:d.value.join(""),params:[]};if(Dt(d,xh))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const p=[new Rn("(")];for(const[v,b]of d.entries())p.push(b),v<d.length-1&&p.push(new Rn(", "));return p.push(new Rn(")")),this.buildQueryFromSourceParams(p,r)}if(Dt(d,Ni))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:l||d.shouldInlineParams});if(Dt(d,tn)){const p=d[tn.Symbol.Schema],v=d[tn.Symbol.Name];return{sql:p===void 0||d[Sh]?i(v):i(p)+"."+i(v),params:[]}}if(Dt(d,Na)){const p=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(p),params:[]};const v=d.table[tn.Symbol.Schema];return{sql:d.table[Sh]||v===void 0?i(d.table[tn.Symbol.Name])+"."+i(p):i(v)+"."+i(d.table[tn.Symbol.Name])+"."+i(p),params:[]}}if(Dt(d,bN)){const p=d[ta].schema,v=d[ta].name;return{sql:p===void 0||d[ta].isAlias?i(v):i(p)+"."+i(v),params:[]}}if(Dt(d,Gv)){if(Dt(d.value,Ih))return{sql:o(u.value++,d),params:[d],typings:["none"]};const p=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Dt(p,Ni))return this.buildQueryFromSourceParams([p],r);if(l)return{sql:this.mapInlineParam(p,r),params:[]};let v=["none"];return a&&(v=[a(d.encoder)]),{sql:o(u.value++,p),params:[p],typings:v}}return Dt(d,Ih)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Dt(d,Ni.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Dt(d,Wv)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Rn("("),d._.sql,new Rn(") "),new xh(d._.alias)],r):B9(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:q9(d)?(h=d.shouldOmitSQLParens)!=null&&h.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Rn("("),d.getSQL(),new Rn(")")],r):l?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ni.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};M(Ni,IS,"SQL");let Tt=Ni;var CS;CS=H;class xh{constructor(e){M(this,"brand");this.value=e}getSQL(){return new Tt([this])}}M(xh,CS,"Name");const TN={mapFromDriverValue:t=>t},SN={mapToDriverValue:t=>t};({...TN,...SN});var AS;AS=H;class Gv{constructor(e,n=SN){M(this,"brand");this.value=e,this.encoder=n}getSQL(){return new Tt([this])}}M(Gv,AS,"Param");function bh(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Rn(t[0]));for(const[r,s]of e.entries())n.push(s,new Rn(t[r+1]));return new Tt(n)}(t=>{function e(){return new Tt([])}t.empty=e;function n(l){return new Tt(l)}t.fromList=n;function r(l){return new Tt([new Rn(l)])}t.raw=r;function s(l,u){const d=[];for(const[h,p]of l.entries())h>0&&u!==void 0&&d.push(u),d.push(p);return new Tt(d)}t.join=s;function i(l){return new xh(l)}t.identifier=i;function o(l){return new Ih(l)}t.placeholder=o;function a(l,u){return new Gv(l,u)}t.param=a})(bh||(bh={}));(t=>{var n;n=H;const r=class r{constructor(i,o){M(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};M(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(Tt||(Tt={}));var PS;PS=H;class Ih{constructor(e){this.name=e}getSQL(){return new Tt([this])}}M(Ih,PS,"Placeholder");const xN=Symbol.for("drizzle:IsDrizzleView");var RS,NS,kS;kS=H,NS=ta,RS=xN;class bN{constructor({name:e,schema:n,selectedFields:r,query:s}){M(this,NS);M(this,RS,!0);this[ta]={name:e,originalName:e,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Tt([this])}}M(bN,kS,"View");function G9(t){return typeof t=="object"&&t!==null&&xN in t}Na.prototype.getSQL=function(){return new Tt([this])};tn.prototype.getSQL=function(){return new Tt([this])};Wv.prototype.getSQL=function(){return new Tt([this])};function K9(t){return t[tn.Symbol.Columns]}function Q9(t){return t[ta].selectedFields}function Rt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var DS,OS;class hu extends(OS=Re,DS=H,OS){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}M(hu,DS,"PgIntColumnBaseBuilder");var MS,LS;class IN extends(LS=hu,MS=H,LS){constructor(e){super(e,"number","PgBigInt53")}build(e){return new CN(e,this.config)}}M(IN,MS,"PgBigInt53Builder");var VS,jS;class CN extends(jS=ye,VS=H,jS){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}M(CN,VS,"PgBigInt53");var FS,US;class AN extends(US=hu,FS=H,US){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new PN(e,this.config)}}M(AN,FS,"PgBigInt64Builder");var zS,$S;class PN extends($S=ye,zS=H,$S){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}M(PN,zS,"PgBigInt64");function X9(t,e){const{name:n,config:r}=Rt(t,e);return r.mode==="number"?new IN(n):new AN(n)}var BS,HS;class RN extends(HS=Re,BS=H,HS){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new NN(e,this.config)}}M(RN,BS,"PgBigSerial53Builder");var qS,WS;class NN extends(WS=ye,qS=H,WS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}M(NN,qS,"PgBigSerial53");var GS,KS;class kN extends(KS=Re,GS=H,KS){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new DN(e,this.config)}}M(kN,GS,"PgBigSerial64Builder");var QS,XS;class DN extends(XS=ye,QS=H,XS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}M(DN,QS,"PgBigSerial64");function Z9(t,e){const{name:n,config:r}=Rt(t,e);return r.mode==="number"?new RN(n):new kN(n)}var ZS,YS;class ON extends(YS=Re,ZS=H,YS){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new MN(e,this.config)}}M(ON,ZS,"PgBooleanBuilder");var JS,ex;class MN extends(ex=ye,JS=H,ex){getSQLType(){return"boolean"}}M(MN,JS,"PgBoolean");function Kv(t){return new ON(t??"")}var tx,nx;class LN extends(nx=Re,tx=H,nx){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new VN(e,this.config)}}M(LN,tx,"PgCharBuilder");var rx,sx;class VN extends(sx=ye,rx=H,sx){constructor(){super(...arguments);M(this,"length",this.config.length);M(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}M(VN,rx,"PgChar");function Y9(t,e={}){const{name:n,config:r}=Rt(t,e);return new LN(n,r)}var ix,ox;class jN extends(ox=Re,ix=H,ox){constructor(e){super(e,"string","PgCidr")}build(e){return new FN(e,this.config)}}M(jN,ix,"PgCidrBuilder");var ax,lx;class FN extends(lx=ye,ax=H,lx){getSQLType(){return"cidr"}}M(FN,ax,"PgCidr");function J9(t){return new jN(t??"")}var cx,ux;class UN extends(ux=Re,cx=H,ux){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new zN(e,this.config)}}M(UN,cx,"PgCustomColumnBuilder");var dx,hx;class zN extends(hx=ye,dx=H,hx){constructor(n,r){super(n,r);M(this,"sqlName");M(this,"mapTo");M(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}M(zN,dx,"PgCustomColumn");function eU(t){return(e,n)=>{const{name:r,config:s}=Rt(e,n);return new UN(r,s,t)}}var fx,px;class Ka extends(px=Re,fx=H,px){defaultNow(){return this.default(bh`now()`)}}M(Ka,fx,"PgDateColumnBaseBuilder");var mx,gx;class $N extends(gx=Ka,mx=H,gx){constructor(e){super(e,"date","PgDate")}build(e){return new BN(e,this.config)}}M($N,mx,"PgDateBuilder");var yx,vx;class BN extends(vx=ye,yx=H,vx){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}M(BN,yx,"PgDate");var _x,wx;class HN extends(wx=Ka,_x=H,wx){constructor(e){super(e,"string","PgDateString")}build(e){return new qN(e,this.config)}}M(HN,_x,"PgDateStringBuilder");var Ex,Tx;class qN extends(Tx=ye,Ex=H,Tx){getSQLType(){return"date"}}M(qN,Ex,"PgDateString");function tU(t,e){const{name:n,config:r}=Rt(t,e);return(r==null?void 0:r.mode)==="date"?new $N(n):new HN(n)}var Sx,xx;class WN extends(xx=Re,Sx=H,xx){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new GN(e,this.config)}}M(WN,Sx,"PgDoublePrecisionBuilder");var bx,Ix;class GN extends(Ix=ye,bx=H,Ix){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}M(GN,bx,"PgDoublePrecision");function nU(t){return new WN(t??"")}var Cx,Ax;class KN extends(Ax=Re,Cx=H,Ax){constructor(e){super(e,"string","PgInet")}build(e){return new QN(e,this.config)}}M(KN,Cx,"PgInetBuilder");var Px,Rx;class QN extends(Rx=ye,Px=H,Rx){getSQLType(){return"inet"}}M(QN,Px,"PgInet");function rU(t){return new KN(t??"")}var Nx,kx;class XN extends(kx=hu,Nx=H,kx){constructor(e){super(e,"number","PgInteger")}build(e){return new ZN(e,this.config)}}M(XN,Nx,"PgIntegerBuilder");var Dx,Ox;class ZN extends(Ox=ye,Dx=H,Ox){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}M(ZN,Dx,"PgInteger");function YN(t){return new XN(t??"")}var Mx,Lx;class JN extends(Lx=Re,Mx=H,Lx){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new ek(e,this.config)}}M(JN,Mx,"PgIntervalBuilder");var Vx,jx;class ek extends(jx=ye,Vx=H,jx){constructor(){super(...arguments);M(this,"fields",this.config.intervalConfig.fields);M(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}M(ek,Vx,"PgInterval");function sU(t,e={}){const{name:n,config:r}=Rt(t,e);return new JN(n,r)}var Fx,Ux;class tk extends(Ux=Re,Fx=H,Ux){constructor(e){super(e,"json","PgJson")}build(e){return new nk(e,this.config)}}M(tk,Fx,"PgJsonBuilder");var zx,$x;class nk extends($x=ye,zx=H,$x){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}M(nk,zx,"PgJson");function iU(t){return new tk(t??"")}var Bx,Hx;class rk extends(Hx=Re,Bx=H,Hx){constructor(e){super(e,"json","PgJsonb")}build(e){return new sk(e,this.config)}}M(rk,Bx,"PgJsonbBuilder");var qx,Wx;class sk extends(Wx=ye,qx=H,Wx){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}M(sk,qx,"PgJsonb");function oU(t){return new rk(t??"")}var Gx,Kx;class ik extends(Kx=Re,Gx=H,Kx){constructor(e){super(e,"array","PgLine")}build(e){return new ok(e,this.config)}}M(ik,Gx,"PgLineBuilder");var Qx,Xx;class ok extends(Xx=ye,Qx=H,Xx){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}M(ok,Qx,"PgLine");var Zx,Yx;class ak extends(Yx=Re,Zx=H,Yx){constructor(e){super(e,"json","PgLineABC")}build(e){return new lk(e,this.config)}}M(ak,Zx,"PgLineABCBuilder");var Jx,eb;class lk extends(eb=ye,Jx=H,eb){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}M(lk,Jx,"PgLineABC");function aU(t,e){const{name:n,config:r}=Rt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new ik(n):new ak(n)}var tb,nb;class ck extends(nb=Re,tb=H,nb){constructor(e){super(e,"string","PgMacaddr")}build(e){return new uk(e,this.config)}}M(ck,tb,"PgMacaddrBuilder");var rb,sb;class uk extends(sb=ye,rb=H,sb){getSQLType(){return"macaddr"}}M(uk,rb,"PgMacaddr");function lU(t){return new ck(t??"")}var ib,ob;class dk extends(ob=Re,ib=H,ob){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new hk(e,this.config)}}M(dk,ib,"PgMacaddr8Builder");var ab,lb;class hk extends(lb=ye,ab=H,lb){getSQLType(){return"macaddr8"}}M(hk,ab,"PgMacaddr8");function cU(t){return new dk(t??"")}var cb,ub;class fk extends(ub=Re,cb=H,ub){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new pk(e,this.config)}}M(fk,cb,"PgNumericBuilder");var db,hb;class pk extends(hb=ye,db=H,hb){constructor(n,r){super(n,r);M(this,"precision");M(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}M(pk,db,"PgNumeric");function uU(t,e){const{name:n,config:r}=Rt(t,e);return new fk(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var fb,pb;class mk extends(pb=Re,fb=H,pb){constructor(e){super(e,"array","PgPointTuple")}build(e){return new gk(e,this.config)}}M(mk,fb,"PgPointTupleBuilder");var mb,gb;class gk extends(gb=ye,mb=H,gb){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}M(gk,mb,"PgPointTuple");var yb,vb;class yk extends(vb=Re,yb=H,vb){constructor(e){super(e,"json","PgPointObject")}build(e){return new vk(e,this.config)}}M(yk,yb,"PgPointObjectBuilder");var _b,wb;class vk extends(wb=ye,_b=H,wb){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}M(vk,_b,"PgPointObject");function dU(t,e){const{name:n,config:r}=Rt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new mk(n):new yk(n)}function hU(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function ZE(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,t[e+s]);return r.getFloat64(0,!0)}function _k(t){const e=hU(t);let n=0;const r=e[n];n+=1;const s=new DataView(e.buffer),i=s.getUint32(n,r===1);if(n+=4,i&536870912&&(s.getUint32(n,r===1),n+=4),(i&65535)===1){const o=ZE(e,n);n+=8;const a=ZE(e,n);return n+=8,[o,a]}throw new Error("Unsupported geometry type")}var Eb,Tb;class wk extends(Tb=Re,Eb=H,Tb){constructor(e){super(e,"array","PgGeometry")}build(e){return new Ek(e,this.config)}}M(wk,Eb,"PgGeometryBuilder");var Sb,xb;class Ek extends(xb=ye,Sb=H,xb){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return _k(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}M(Ek,Sb,"PgGeometry");var bb,Ib;class Tk extends(Ib=Re,bb=H,Ib){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Sk(e,this.config)}}M(Tk,bb,"PgGeometryObjectBuilder");var Cb,Ab;class Sk extends(Ab=ye,Cb=H,Ab){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=_k(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}M(Sk,Cb,"PgGeometryObject");function fU(t,e){const{name:n,config:r}=Rt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new wk(n):new Tk(n)}var Pb,Rb;class xk extends(Rb=Re,Pb=H,Rb){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new bk(e,this.config)}}M(xk,Pb,"PgRealBuilder");var Nb,kb;class bk extends(kb=ye,Nb=H,kb){constructor(n,r){super(n,r);M(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}M(bk,Nb,"PgReal");function pU(t){return new xk(t??"")}var Db,Ob;class Ik extends(Ob=Re,Db=H,Ob){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Ck(e,this.config)}}M(Ik,Db,"PgSerialBuilder");var Mb,Lb;class Ck extends(Lb=ye,Mb=H,Lb){getSQLType(){return"serial"}}M(Ck,Mb,"PgSerial");function mU(t){return new Ik(t??"")}var Vb,jb;class Ak extends(jb=hu,Vb=H,jb){constructor(e){super(e,"number","PgSmallInt")}build(e){return new Pk(e,this.config)}}M(Ak,Vb,"PgSmallIntBuilder");var Fb,Ub;class Pk extends(Ub=ye,Fb=H,Ub){constructor(){super(...arguments);M(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}M(Pk,Fb,"PgSmallInt");function gU(t){return new Ak(t??"")}var zb,$b;class Rk extends($b=Re,zb=H,$b){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Nk(e,this.config)}}M(Rk,zb,"PgSmallSerialBuilder");var Bb,Hb;class Nk extends(Hb=ye,Bb=H,Hb){getSQLType(){return"smallserial"}}M(Nk,Bb,"PgSmallSerial");function yU(t){return new Rk(t??"")}var qb,Wb;class kk extends(Wb=Re,qb=H,Wb){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new Dk(e,this.config)}}M(kk,qb,"PgTextBuilder");var Gb,Kb;class Dk extends(Kb=ye,Gb=H,Kb){constructor(){super(...arguments);M(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}M(Dk,Gb,"PgText");function kr(t,e={}){const{name:n,config:r}=Rt(t,e);return new kk(n,r)}var Qb,Xb;class Ok extends(Xb=Ka,Qb=H,Xb){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new Mk(e,this.config)}}M(Ok,Qb,"PgTimeBuilder");var Zb,Yb;class Mk extends(Yb=ye,Zb=H,Yb){constructor(n,r){super(n,r);M(this,"withTimezone");M(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(Mk,Zb,"PgTime");function vU(t,e={}){const{name:n,config:r}=Rt(t,e);return new Ok(n,r.withTimezone??!1,r.precision)}var Jb,eI;class Lk extends(eI=Ka,Jb=H,eI){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new Vk(e,this.config)}}M(Lk,Jb,"PgTimestampBuilder");var tI,nI;class Vk extends(nI=ye,tI=H,nI){constructor(n,r){super(n,r);M(this,"withTimezone");M(this,"precision");M(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));M(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(Vk,tI,"PgTimestamp");var rI,sI;class jk extends(sI=Ka,rI=H,sI){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new Fk(e,this.config)}}M(jk,rI,"PgTimestampStringBuilder");var iI,oI;class Fk extends(oI=ye,iI=H,oI){constructor(n,r){super(n,r);M(this,"withTimezone");M(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(Fk,iI,"PgTimestampString");function Qa(t,e={}){const{name:n,config:r}=Rt(t,e);return(r==null?void 0:r.mode)==="string"?new jk(n,r.withTimezone??!1,r.precision):new Lk(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var aI,lI;class Uk extends(lI=Re,aI=H,lI){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(bh`gen_random_uuid()`)}build(e){return new zk(e,this.config)}}M(Uk,aI,"PgUUIDBuilder");var cI,uI;class zk extends(uI=ye,cI=H,uI){getSQLType(){return"uuid"}}M(zk,cI,"PgUUID");function _U(t){return new Uk(t??"")}var dI,hI;class $k extends(hI=Re,dI=H,hI){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new Bk(e,this.config)}}M($k,dI,"PgVarcharBuilder");var fI,pI;class Bk extends(pI=ye,fI=H,pI){constructor(){super(...arguments);M(this,"length",this.config.length);M(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}M(Bk,fI,"PgVarchar");function Dr(t,e={}){const{name:n,config:r}=Rt(t,e);return new $k(n,r)}var mI,gI;class Hk extends(gI=Re,mI=H,gI){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new qk(e,this.config)}}M(Hk,mI,"PgBinaryVectorBuilder");var yI,vI;class qk extends(vI=ye,yI=H,vI){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}M(qk,yI,"PgBinaryVector");function wU(t,e){const{name:n,config:r}=Rt(t,e);return new Hk(n,r)}var _I,wI;class Wk extends(wI=Re,_I=H,wI){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new Gk(e,this.config)}}M(Wk,_I,"PgHalfVectorBuilder");var EI,TI;class Gk extends(TI=ye,EI=H,TI){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}M(Gk,EI,"PgHalfVector");function EU(t,e){const{name:n,config:r}=Rt(t,e);return new Wk(n,r)}var SI,xI;class Kk extends(xI=Re,SI=H,xI){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new Qk(e,this.config)}}M(Kk,SI,"PgSparseVectorBuilder");var bI,II;class Qk extends(II=ye,bI=H,II){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}M(Qk,bI,"PgSparseVector");function TU(t,e){const{name:n,config:r}=Rt(t,e);return new Kk(n,r)}var CI,AI;class Xk extends(AI=Re,CI=H,AI){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new Zk(e,this.config)}}M(Xk,CI,"PgVectorBuilder");var PI,RI;class Zk extends(RI=ye,PI=H,RI){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}M(Zk,PI,"PgVector");function SU(t,e){const{name:n,config:r}=Rt(t,e);return new Xk(n,r)}function xU(){return{bigint:X9,bigserial:Z9,boolean:Kv,char:Y9,cidr:J9,customType:eU,date:tU,doublePrecision:nU,inet:rU,integer:YN,interval:sU,json:iU,jsonb:oU,line:aU,macaddr:lU,macaddr8:cU,numeric:uU,point:dU,geometry:fU,real:pU,serial:mU,smallint:gU,smallserial:yU,text:kr,time:vU,timestamp:Qa,uuid:_U,varchar:Dr,bit:wU,halfvec:EU,sparsevec:TU,vector:SU}}const Fg=Symbol.for("drizzle:PgInlineForeignKeys"),YE=Symbol.for("drizzle:EnableRLS");var NI,kI,DI,OI,MI;class Ch extends(MI=tn,OI=H,DI=Fg,kI=YE,NI=tn.Symbol.ExtraConfigBuilder,MI){constructor(){super(...arguments);M(this,DI,[]);M(this,kI,!1);M(this,NI)}}M(Ch,OI,"PgTable"),M(Ch,"Symbol",Object.assign({},tn.Symbol,{InlineForeignKeys:Fg,EnableRLS:YE}));function bU(t,e,n,r,s=t){const i=new Ch(t,r,s),o=typeof e=="function"?e(xU()):e,a=Object.fromEntries(Object.entries(o).map(([d,h])=>{const p=h;p.setName(d);const v=p.build(i);return i[Fg].push(...p.buildForeignKeys(v,i)),[d,v]})),l=Object.fromEntries(Object.entries(o).map(([d,h])=>{const p=h;p.setName(d);const v=p.buildExtraConfigColumn(i);return[d,v]})),u=Object.assign(i,a);return u[tn.Symbol.Columns]=a,u[tn.Symbol.ExtraConfigColumns]=l,Object.assign(u,{enableRLS:()=>(u[Ch.Symbol.EnableRLS]=!0,u)})}const fu=(t,e,n)=>bU(t,e,n,void 0);var Ae;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ae||(Ae={}));var Ug;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ug||(Ug={}));const Z=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wr=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},q=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),IU=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class bn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof bn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bn.create=t=>new bn(t);const ka=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===Z.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ae.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ae.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ae.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${Ae.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ae.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ae.assertNever(t)}return{message:n}};let Yk=ka;function CU(t){Yk=t}function Ah(){return Yk}const Ph=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},AU=[];function Q(t,e){const n=Ah(),r=Ph({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ka?void 0:ka].filter(s=>!!s)});t.common.issues.push(r)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ce;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Kt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ce=Object.freeze({status:"aborted"}),Ho=t=>({status:"dirty",value:t}),rn=t=>({status:"valid",value:t}),zg=t=>t.status==="aborted",$g=t=>t.status==="dirty",Ji=t=>t.status==="valid",Nc=t=>typeof Promise<"u"&&t instanceof Promise;function Rh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Jk(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));var Vl,jl;class Or{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const JE=(t,e)=>{if(Ji(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new bn(t.common.issues);return this._error=n,this._error}}};function ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class Ee{get description(){return this._def.description}_getType(e){return Wr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Wr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kt,ctx:{common:e.parent.common,data:e.data,parsedType:Wr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Nc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wr(e)},i=this._parseSync({data:e,path:s.path,parent:s});return JE(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return Ji(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>Ji(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wr(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Nc(s)?s:Promise.resolve(s));return JE(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:q.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new sr({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sr.create(this,this._def)}nullable(){return li.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return er.create(this)}promise(){return Oa.create(this,this._def)}or(e){return Mc.create([this,e],this._def)}and(e){return Lc.create(this,e,this._def)}transform(e){return new sr({...ge(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new zc({...ge(this._def),innerType:this,defaultValue:n,typeName:le.ZodDefault})}brand(){return new Qv({typeName:le.ZodBranded,type:this,...ge(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new $c({...ge(this._def),innerType:this,catchValue:n,typeName:le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return pu.create(this,e)}readonly(){return Bc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PU=/^c[^\s-]{8,}$/i,RU=/^[0-9a-z]+$/,NU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DU=/^[a-z0-9_-]{21}$/i,OU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,MU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,LU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let um;const jU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,UU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$U=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,BU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,e2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HU=new RegExp(`^${e2}$`);function t2(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function qU(t){return new RegExp(`^${t2(t)}$`)}function n2(t){let e=`${e2}T${t2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function WU(t,e){return!!((e==="v4"||!e)&&jU.test(t)||(e==="v6"||!e)&&UU.test(t))}function GU(t,e){if(!OU.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function KU(t,e){return!!((e==="v4"||!e)&&FU.test(t)||(e==="v6"||!e)&&zU.test(t))}class Qn extends Ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const i=this._getOrReturnCtx(e);return Q(i,{code:q.invalid_type,expected:Z.string,received:i.parsedType}),ce}const r=new Kt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Q(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Q(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")LU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")um||(um=new RegExp(VU,"u")),um.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")kU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")DU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")PU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")RU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")NU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Q(s,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?n2(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?HU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?qU(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?MU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?WU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?GU(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"jwt",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?KU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cidr",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?$U.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?BU.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"base64url",code:q.invalid_string,message:i.message}),r.dirty()):Ae.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:q.invalid_string,...re.errToObj(r)})}_addCheck(e){return new Qn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...re.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...re.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...re.errToObj(n)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qn.create=t=>{var e;return new Qn({checks:[],typeName:le.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ge(t)})};function QU(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class ii extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const i=this._getOrReturnCtx(e);return Q(i,{code:q.invalid_type,expected:Z.number,received:i.parsedType}),ce}let r;const s=new Kt;for(const i of this._def.checks)i.kind==="int"?Ae.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?QU(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:q.not_finite,message:i.message}),s.dirty()):Ae.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,re.toString(n))}setLimit(e,n,r,s){return new ii({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(e){return new ii({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ae.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ii.create=t=>new ii({checks:[],typeName:le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class oi extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Z.bigint)return this._getInvalidInput(e);let r;const s=new Kt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ae.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Q(n,{code:q.invalid_type,expected:Z.bigint,received:n.parsedType}),ce}gte(e,n){return this.setLimit("min",e,!0,re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,re.toString(n))}setLimit(e,n,r,s){return new oi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(e){return new oi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}oi.create=t=>{var e;return new oi({checks:[],typeName:le.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ge(t)})};class kc extends Ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.boolean,received:r.parsedType}),ce}return rn(e.data)}}kc.create=t=>new kc({typeName:le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class eo extends Ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const i=this._getOrReturnCtx(e);return Q(i,{code:q.invalid_type,expected:Z.date,received:i.parsedType}),ce}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Q(i,{code:q.invalid_date}),ce}const r=new Kt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ae.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new eo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}eo.create=t=>new eo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:le.ZodDate,...ge(t)});class Nh extends Ee{_parse(e){if(this._getType(e)!==Z.symbol){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.symbol,received:r.parsedType}),ce}return rn(e.data)}}Nh.create=t=>new Nh({typeName:le.ZodSymbol,...ge(t)});class Dc extends Ee{_parse(e){if(this._getType(e)!==Z.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.undefined,received:r.parsedType}),ce}return rn(e.data)}}Dc.create=t=>new Dc({typeName:le.ZodUndefined,...ge(t)});class Oc extends Ee{_parse(e){if(this._getType(e)!==Z.null){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.null,received:r.parsedType}),ce}return rn(e.data)}}Oc.create=t=>new Oc({typeName:le.ZodNull,...ge(t)});class Da extends Ee{constructor(){super(...arguments),this._any=!0}_parse(e){return rn(e.data)}}Da.create=t=>new Da({typeName:le.ZodAny,...ge(t)});class Bi extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rn(e.data)}}Bi.create=t=>new Bi({typeName:le.ZodUnknown,...ge(t)});class ss extends Ee{_parse(e){const n=this._getOrReturnCtx(e);return Q(n,{code:q.invalid_type,expected:Z.never,received:n.parsedType}),ce}}ss.create=t=>new ss({typeName:le.ZodNever,...ge(t)});class kh extends Ee{_parse(e){if(this._getType(e)!==Z.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.void,received:r.parsedType}),ce}return rn(e.data)}}kh.create=t=>new kh({typeName:le.ZodVoid,...ge(t)});class er extends Ee{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Z.array)return Q(n,{code:q.invalid_type,expected:Z.array,received:n.parsedType}),ce;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Q(n,{code:o?q.too_big:q.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Q(n,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Q(n,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Or(n,o,n.path,a)))).then(o=>Kt.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Or(n,o,n.path,a)));return Kt.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new er({...this._def,minLength:{value:e,message:re.toString(n)}})}max(e,n){return new er({...this._def,maxLength:{value:e,message:re.toString(n)}})}length(e,n){return new er({...this._def,exactLength:{value:e,message:re.toString(n)}})}nonempty(e){return this.min(1,e)}}er.create=(t,e)=>new er({type:t,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...ge(e)});function Co(t){if(t instanceof Ye){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Sr.create(Co(r))}return new Ye({...t._def,shape:()=>e})}else return t instanceof er?new er({...t._def,type:Co(t.element)}):t instanceof Sr?Sr.create(Co(t.unwrap())):t instanceof li?li.create(Co(t.unwrap())):t instanceof Mr?Mr.create(t.items.map(e=>Co(e))):t}class Ye extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ae.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Z.object){const u=this._getOrReturnCtx(e);return Q(u,{code:q.invalid_type,expected:Z.object,received:u.parsedType}),ce}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ss&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],h=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Or(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ss){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(Q(s,{code:q.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Or(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Kt.mergeObjectSync(r,u)):Kt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new Ye({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=re.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ye({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ye({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ye({...this._def,catchall:e})}pick(e){const n={};return Ae.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}omit(e){const n={};return Ae.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}deepPartial(){return Co(this)}partial(e){const n={};return Ae.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ye({...this._def,shape:()=>n})}required(e){const n={};return Ae.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Sr;)i=i._def.innerType;n[r]=i}}),new Ye({...this._def,shape:()=>n})}keyof(){return r2(Ae.objectKeys(this.shape))}}Ye.create=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strip",catchall:ss.create(),typeName:le.ZodObject,...ge(e)});Ye.strictCreate=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strict",catchall:ss.create(),typeName:le.ZodObject,...ge(e)});Ye.lazycreate=(t,e)=>new Ye({shape:t,unknownKeys:"strip",catchall:ss.create(),typeName:le.ZodObject,...ge(e)});class Mc extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new bn(a.ctx.common.issues));return Q(n,{code:q.invalid_union,unionErrors:o}),ce}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new bn(l));return Q(n,{code:q.invalid_union,unionErrors:a}),ce}}get options(){return this._def.options}}Mc.create=(t,e)=>new Mc({options:t,typeName:le.ZodUnion,...ge(e)});const Br=t=>t instanceof jc?Br(t.schema):t instanceof sr?Br(t.innerType()):t instanceof Fc?[t.value]:t instanceof ai?t.options:t instanceof Uc?Ae.objectValues(t.enum):t instanceof zc?Br(t._def.innerType):t instanceof Dc?[void 0]:t instanceof Oc?[null]:t instanceof Sr?[void 0,...Br(t.unwrap())]:t instanceof li?[null,...Br(t.unwrap())]:t instanceof Qv||t instanceof Bc?Br(t.unwrap()):t instanceof $c?Br(t._def.innerType):[];class Vf extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.object)return Q(n,{code:q.invalid_type,expected:Z.object,received:n.parsedType}),ce;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Q(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Br(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Vf({typeName:le.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...ge(r)})}}function Bg(t,e){const n=Wr(t),r=Wr(e);if(t===e)return{valid:!0,data:t};if(n===Z.object&&r===Z.object){const s=Ae.objectKeys(e),i=Ae.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Bg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Z.array&&r===Z.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Bg(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===Z.date&&r===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Lc extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(zg(i)||zg(o))return ce;const a=Bg(i.value,o.value);return a.valid?(($g(i)||$g(o))&&n.dirty(),{status:n.value,value:a.data}):(Q(r,{code:q.invalid_intersection_types}),ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Lc.create=(t,e,n)=>new Lc({left:t,right:e,typeName:le.ZodIntersection,...ge(n)});class Mr extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.array)return Q(r,{code:q.invalid_type,expected:Z.array,received:r.parsedType}),ce;if(r.data.length<this._def.items.length)return Q(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&r.data.length>this._def.items.length&&(Q(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Or(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Kt.mergeArray(n,o)):Kt.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Mr({...this._def,rest:e})}}Mr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mr({items:t,typeName:le.ZodTuple,rest:null,...ge(e)})};class Vc extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.object)return Q(r,{code:q.invalid_type,expected:Z.object,received:r.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Or(r,a,r.path,a)),value:o._parse(new Or(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Kt.mergeObjectAsync(n,s):Kt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ee?new Vc({keyType:e,valueType:n,typeName:le.ZodRecord,...ge(r)}):new Vc({keyType:Qn.create(),valueType:e,typeName:le.ZodRecord,...ge(n)})}}class Dh extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.map)return Q(r,{code:q.invalid_type,expected:Z.map,received:r.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Or(r,a,r.path,[u,"key"])),value:i._parse(new Or(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}Dh.create=(t,e,n)=>new Dh({valueType:e,keyType:t,typeName:le.ZodMap,...ge(n)});class to extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.set)return Q(r,{code:q.invalid_type,expected:Z.set,received:r.parsedType}),ce;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Q(r,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Q(r,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return ce;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Or(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new to({...this._def,minSize:{value:e,message:re.toString(n)}})}max(e,n){return new to({...this._def,maxSize:{value:e,message:re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}to.create=(t,e)=>new to({valueType:t,minSize:null,maxSize:null,typeName:le.ZodSet,...ge(e)});class na extends Ee{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.function)return Q(n,{code:q.invalid_type,expected:Z.function,received:n.parsedType}),ce;function r(a,l){return Ph({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ah(),ka].filter(u=>!!u),issueData:{code:q.invalid_arguments,argumentsError:l}})}function s(a,l){return Ph({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ah(),ka].filter(u=>!!u),issueData:{code:q.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Oa){const a=this;return rn(async function(...l){const u=new bn([]),d=await a._def.args.parseAsync(l,i).catch(v=>{throw u.addIssue(r(l,v)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,i).catch(v=>{throw u.addIssue(s(h,v)),u})})}else{const a=this;return rn(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new bn([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,i);if(!h.success)throw new bn([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new na({...this._def,args:Mr.create(e).rest(Bi.create())})}returns(e){return new na({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new na({args:e||Mr.create([]).rest(Bi.create()),returns:n||Bi.create(),typeName:le.ZodFunction,...ge(r)})}}class jc extends Ee{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}jc.create=(t,e)=>new jc({getter:t,typeName:le.ZodLazy,...ge(e)});class Fc extends Ee{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Q(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fc.create=(t,e)=>new Fc({value:t,typeName:le.ZodLiteral,...ge(e)});function r2(t,e){return new ai({values:t,typeName:le.ZodEnum,...ge(e)})}class ai extends Ee{constructor(){super(...arguments),Vl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{expected:Ae.joinValues(r),received:n.parsedType,code:q.invalid_type}),ce}if(Rh(this,Vl)||Jk(this,Vl,new Set(this._def.values)),!Rh(this,Vl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{received:n.data,code:q.invalid_enum_value,options:r}),ce}return rn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ai.create(e,{...this._def,...n})}exclude(e,n=this._def){return ai.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Vl=new WeakMap;ai.create=r2;class Uc extends Ee{constructor(){super(...arguments),jl.set(this,void 0)}_parse(e){const n=Ae.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Z.string&&r.parsedType!==Z.number){const s=Ae.objectValues(n);return Q(r,{expected:Ae.joinValues(s),received:r.parsedType,code:q.invalid_type}),ce}if(Rh(this,jl)||Jk(this,jl,new Set(Ae.getValidEnumValues(this._def.values))),!Rh(this,jl).has(e.data)){const s=Ae.objectValues(n);return Q(r,{received:r.data,code:q.invalid_enum_value,options:s}),ce}return rn(e.data)}get enum(){return this._def.values}}jl=new WeakMap;Uc.create=(t,e)=>new Uc({values:t,typeName:le.ZodNativeEnum,...ge(e)});class Oa extends Ee{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.promise&&n.common.async===!1)return Q(n,{code:q.invalid_type,expected:Z.promise,received:n.parsedType}),ce;const r=n.parsedType===Z.promise?n.data:Promise.resolve(n.data);return rn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Oa.create=(t,e)=>new Oa({type:t,typeName:le.ZodPromise,...ge(e)});class sr extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Q(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ce;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ce:l.status==="dirty"||n.value==="dirty"?Ho(l.value):l});{if(n.value==="aborted")return ce;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ce:a.status==="dirty"||n.value==="dirty"?Ho(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ji(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ji(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ae.assertNever(s)}}sr.create=(t,e,n)=>new sr({schema:t,typeName:le.ZodEffects,effect:e,...ge(n)});sr.createWithPreprocess=(t,e,n)=>new sr({schema:e,effect:{type:"preprocess",transform:t},typeName:le.ZodEffects,...ge(n)});class Sr extends Ee{_parse(e){return this._getType(e)===Z.undefined?rn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sr.create=(t,e)=>new Sr({innerType:t,typeName:le.ZodOptional,...ge(e)});class li extends Ee{_parse(e){return this._getType(e)===Z.null?rn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}li.create=(t,e)=>new li({innerType:t,typeName:le.ZodNullable,...ge(e)});class zc extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Z.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zc.create=(t,e)=>new zc({innerType:t,typeName:le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ge(e)});class $c extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Nc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}$c.create=(t,e)=>new $c({innerType:t,typeName:le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ge(e)});class Oh extends Ee{_parse(e){if(this._getType(e)!==Z.nan){const r=this._getOrReturnCtx(e);return Q(r,{code:q.invalid_type,expected:Z.nan,received:r.parsedType}),ce}return{status:"valid",value:e.data}}}Oh.create=t=>new Oh({typeName:le.ZodNaN,...ge(t)});const XU=Symbol("zod_brand");class Qv extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class pu extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ce:i.status==="dirty"?(n.dirty(),Ho(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new pu({in:e,out:n,typeName:le.ZodPipeline})}}class Bc extends Ee{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ji(s)&&(s.value=Object.freeze(s.value)),s);return Nc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Bc.create=(t,e)=>new Bc({innerType:t,typeName:le.ZodReadonly,...ge(e)});function e1(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function s2(t,e={},n){return t?Da.create().superRefine((r,s)=>{var i,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var u,d;if(!l){const h=e1(e,r),p=(d=(u=h.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...h,fatal:p})}});if(!a){const l=e1(e,r),u=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:u})}}):Da.create()}const ZU={object:Ye.lazycreate};var le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(le||(le={}));const YU=(t,e={message:`Input not instance of ${t.name}`})=>s2(n=>n instanceof t,e),i2=Qn.create,o2=ii.create,JU=Oh.create,ez=oi.create,a2=kc.create,tz=eo.create,nz=Nh.create,rz=Dc.create,sz=Oc.create,iz=Da.create,oz=Bi.create,az=ss.create,lz=kh.create,cz=er.create,uz=Ye.create,dz=Ye.strictCreate,hz=Mc.create,fz=Vf.create,pz=Lc.create,mz=Mr.create,gz=Vc.create,yz=Dh.create,vz=to.create,_z=na.create,wz=jc.create,Ez=Fc.create,Tz=ai.create,Sz=Uc.create,xz=Oa.create,t1=sr.create,bz=Sr.create,Iz=li.create,Cz=sr.createWithPreprocess,Az=pu.create,Pz=()=>i2().optional(),Rz=()=>o2().optional(),Nz=()=>a2().optional(),kz={string:t=>Qn.create({...t,coerce:!0}),number:t=>ii.create({...t,coerce:!0}),boolean:t=>kc.create({...t,coerce:!0}),bigint:t=>oi.create({...t,coerce:!0}),date:t=>eo.create({...t,coerce:!0})},Dz=ce;var dn=Object.freeze({__proto__:null,defaultErrorMap:ka,setErrorMap:CU,getErrorMap:Ah,makeIssue:Ph,EMPTY_PATH:AU,addIssueToContext:Q,ParseStatus:Kt,INVALID:ce,DIRTY:Ho,OK:rn,isAborted:zg,isDirty:$g,isValid:Ji,isAsync:Nc,get util(){return Ae},get objectUtil(){return Ug},ZodParsedType:Z,getParsedType:Wr,ZodType:Ee,datetimeRegex:n2,ZodString:Qn,ZodNumber:ii,ZodBigInt:oi,ZodBoolean:kc,ZodDate:eo,ZodSymbol:Nh,ZodUndefined:Dc,ZodNull:Oc,ZodAny:Da,ZodUnknown:Bi,ZodNever:ss,ZodVoid:kh,ZodArray:er,ZodObject:Ye,ZodUnion:Mc,ZodDiscriminatedUnion:Vf,ZodIntersection:Lc,ZodTuple:Mr,ZodRecord:Vc,ZodMap:Dh,ZodSet:to,ZodFunction:na,ZodLazy:jc,ZodLiteral:Fc,ZodEnum:ai,ZodNativeEnum:Uc,ZodPromise:Oa,ZodEffects:sr,ZodTransformer:sr,ZodOptional:Sr,ZodNullable:li,ZodDefault:zc,ZodCatch:$c,ZodNaN:Oh,BRAND:XU,ZodBranded:Qv,ZodPipeline:pu,ZodReadonly:Bc,custom:s2,Schema:Ee,ZodSchema:Ee,late:ZU,get ZodFirstPartyTypeKind(){return le},coerce:kz,any:iz,array:cz,bigint:ez,boolean:a2,date:tz,discriminatedUnion:fz,effect:t1,enum:Tz,function:_z,instanceof:YU,intersection:pz,lazy:wz,literal:Ez,map:yz,nan:JU,nativeEnum:Sz,never:az,null:sz,nullable:Iz,number:o2,object:uz,oboolean:Nz,onumber:Rz,optional:bz,ostring:Pz,pipeline:Az,preprocess:Cz,promise:xz,record:gz,set:vz,strictObject:dz,string:i2,symbol:nz,transformer:t1,tuple:mz,undefined:rz,union:hz,unknown:oz,void:lz,NEVER:Dz,ZodIssueCode:q,quotelessJson:IU,ZodError:bn});const Ze={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function lt(t,e){return e.includes(t.columnType)}function Oz(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const Mz=dn.union([dn.string(),dn.number(),dn.boolean(),dn.null()]),Lz=dn.union([Mz,dn.record(dn.any()),dn.array(dn.any())]),Vz=dn.custom(t=>t instanceof Buffer);function l2(t,e){const n=(e==null?void 0:e.zodInstance)??dn,r=(e==null?void 0:e.coerce)??{};let s;return Oz(t)&&(s=t.enumValues.length?n.enum(t.enumValues):n.string()),s||(lt(t,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):lt(t,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):lt(t,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=t.dimensions?s.length(t.dimensions):s):lt(t,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):lt(t,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):lt(t,["PgArray"])?(s=n.array(l2(t.baseColumn,n)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=n.array(n.any()):t.dataType==="number"?s=jz(t,n,r):t.dataType==="bigint"?s=Fz(t,n,r):t.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?s=Uz(t,n,r):t.dataType==="json"?s=Lz:t.dataType==="custom"?s=n.any():t.dataType==="buffer"&&(s=Vz)),s||(s=n.any()),s}function jz(t,e,n){let r=t.getSQLType().includes("unsigned"),s,i,o=!1;lt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:Ze.INT8_MIN,i=r?Ze.INT8_UNSIGNED_MAX:Ze.INT8_MAX,o=!0):lt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:Ze.INT16_MIN,i=r?Ze.INT16_UNSIGNED_MAX:Ze.INT16_MAX,o=!0):lt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:Ze.INT24_MIN,i=r?Ze.INT24_UNSIGNED_MAX:Ze.INT24_MAX,o=lt(t,["MySqlMediumInt","SingleStoreMediumInt"])):lt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:Ze.INT32_MIN,i=r?Ze.INT32_UNSIGNED_MAX:Ze.INT32_MAX,o=!0):lt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:Ze.INT48_MIN,i=r?Ze.INT48_UNSIGNED_MAX:Ze.INT48_MAX):lt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||lt(t,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):lt(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let a=n===!0||n!=null&&n.number?e.coerce.number():e.number();return a=a.min(s).max(i),o?a.int():a}function Fz(t,e,n){const r=t.getSQLType().includes("unsigned"),s=r?0n:Ze.INT64_MIN,i=r?Ze.INT64_UNSIGNED_MAX:Ze.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function Uz(t,e,n){if(lt(t,["PgUUID"]))return e.string().uuid();let r,s,i=!1;lt(t,["PgVarchar","SQLiteText"])?r=t.length:lt(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??Ze.INT16_UNSIGNED_MAX:lt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=Ze.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=Ze.INT24_UNSIGNED_MAX:t.textType==="text"?r=Ze.INT16_UNSIGNED_MAX:r=Ze.INT8_UNSIGNED_MAX),lt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,i=!0),lt(t,["PgBinaryVector"])&&(s=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=s?o.regex(s):o,r&&i?o.length(r):r?o.max(r):o}function c2(t){return EN(t)?K9(t):Q9(t)}function u2(t,e,n,r){const s={};for(const[i,o]of Object.entries(t)){if(!Dt(o,Na)&&!Dt(o,Tt)&&!Dt(o,Tt.Aliased)&&typeof o=="object"){const h=EN(o)||G9(o)?c2(o):o;s[i]=u2(h,e[i]??{},n,r);continue}const a=e[i];if(a!==void 0&&typeof a!="function"){s[i]=a;continue}const l=Dt(o,Na)?o:void 0,u=l?l2(l,r):dn.any(),d=typeof a=="function"?a(u):u;n.never(l)||(s[i]=d,l&&(n.nullable(l)&&(s[i]=s[i].nullable()),n.optional(l)&&(s[i]=s[i].optional())))}return dn.object(s)}const zz={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},mu=(t,e)=>{const n=c2(t);return u2(n,{},zz)},$z=fu("users",{id:Dr("id",{length:36}).primaryKey(),displayName:kr("display_name").notNull(),photoUrl:kr("photo_url").notNull().default("https://api.dicebear.com/7.x/bottts/svg?seed=default"),lastSeen:Qa("last_seen").defaultNow()}),Bz=fu("chat_messages",{id:Dr("id",{length:36}).primaryKey(),userId:Dr("user_id",{length:36}).notNull(),text:kr("text").notNull(),isCommand:Kv("is_command").default(!1),timestamp:Qa("timestamp").defaultNow()}),Hz=fu("ghost_events",{id:Dr("id",{length:36}).primaryKey(),type:kr("type").notNull(),intensity:YN("intensity").notNull().default(1),message:kr("message"),triggeredBy:Dr("triggered_by",{length:36}),timestamp:Qa("timestamp").defaultNow()}),qz=fu("evidence",{id:Dr("id",{length:36}).primaryKey(),userId:Dr("user_id",{length:36}).notNull(),evidence:kr("evidence").notNull(),displayName:kr("display_name"),timestamp:Qa("timestamp").defaultNow()}),Wz=fu("squad_status",{id:Dr("id",{length:36}).primaryKey(),userId:Dr("user_id",{length:36}).notNull().unique(),isDead:Kv("is_dead").default(!1),map:kr("map"),location:kr("location"),timestamp:Qa("timestamp").defaultNow()});mu($z).omit({lastSeen:!0});mu(Bz).omit({timestamp:!0});mu(Hz).omit({timestamp:!0});mu(qz).omit({timestamp:!0});mu(Wz).omit({timestamp:!0});const Hg={Spirit:{evidence:["EMF 5","Spirit Box","Writing"],strength:"No specific strengths.",weakness:"Smudge sticks stop attacks for a long duration."},Wraith:{evidence:["EMF 5","Spirit Box","DOTS"],strength:"Never leaves footsteps; rarely touches the ground.",weakness:"Extremely affected by salt."},Phantom:{evidence:["Spirit Box","Fingerprints","DOTS"],strength:"Looking at it drains sanity faster.",weakness:"Photo makes it disappear."},Poltergeist:{evidence:["Spirit Box","Fingerprints","Writing"],strength:"Can throw multiple objects at once.",weakness:"Weak in empty rooms."},Banshee:{evidence:["Fingerprints","DOTS","Orb"],strength:"Stalks one target at a time.",weakness:"Crucifix affects it more strongly."},Jinn:{evidence:["EMF 5","Fingerprints","Freezing"],strength:"Fast when far from victim.",weakness:"Loses ability when power is off."},Mare:{evidence:["Spirit Box","Orb","Writing"],strength:"More active in darkness.",weakness:"Turning lights on reduces attack chance."},Revenant:{evidence:["Orb","Writing","Freezing"],strength:"Very fast while hunting.",weakness:"Extremely slow while wandering."},Shade:{evidence:["EMF 5","Writing","Freezing"],strength:"Very shy; low activity around groups.",weakness:"Cannot hunt with 2+ people in same room."},Demon:{evidence:["Fingerprints","Writing","Freezing"],strength:"Can hunt very early.",weakness:"Crucifix is more effective."},Yurei:{evidence:["Orb","Freezing","DOTS"],strength:"Strong sanity drain.",weakness:"Smudging room traps it inside."},Oni:{evidence:["EMF 5","Freezing","DOTS"],strength:"Very active when players nearby.",weakness:"Easy to identify by behavior."},Yokai:{evidence:["Spirit Box","Orb","DOTS"],strength:"Hunts more when players speak near it.",weakness:"Cannot hear far-away voices."},Hantu:{evidence:["Fingerprints","Orb","Freezing"],strength:"Very fast in cold areas.",weakness:"Much slower in warmer areas."},Goryo:{evidence:["EMF 5","Fingerprints","DOTS"],strength:"Appears only through camera.",weakness:"Rarely seen outside ghost room."},Myling:{evidence:["EMF 5","Fingerprints","Writing"],strength:"Very quiet while hunting.",weakness:"Parabolic mic hears it clearly."},Onryo:{evidence:["Spirit Box","Orb","Freezing"],strength:"Hunts after flames go out.",weakness:"Candles protect from hunts."},Twins:{evidence:["Spirit Box","EMF 5","Freezing"],strength:"Two distinct activity sources.",weakness:"EMF patterns reveal them."},Raiju:{evidence:["EMF 5","DOTS","Orb"],strength:"Extremely fast near electronics.",weakness:"Causes large EMF spikes."},Obake:{evidence:["EMF 5","Fingerprints","Orb"],strength:"Can shapeshift fingerprints.",weakness:"Fingerprints disappear faster."},Mimic:{evidence:["Spirit Box","Freezing","Fingerprints","Orb"],strength:"Copies behavior of any ghost.",weakness:"Always shows ghost orbs."},Moroi:{evidence:["Spirit Box","Writing","Freezing"],strength:"Curses players; heavy sanity drain.",weakness:"Smudge sticks blind it longer."},Deogen:{evidence:["Spirit Box","Writing","DOTS"],strength:"Fast when far from target.",weakness:"Very slow when close to target."},Thaye:{evidence:["Orb","Writing","DOTS"],strength:"Very active early in investigation.",weakness:"Weakens drastically over time."}},kl={Grafton:{name:"Grafton Farmhouse",size:"Small"},Tanglewood:{name:"Tanglewood Street House",size:"Small"},Edgefield:{name:"Edgefield Street House",size:"Small"},Ridgeview:{name:"Ridgeview Road House",size:"Small"},Willow:{name:"Willow Street House",size:"Small"},Bleasdale:{name:"Bleasdale Farmhouse",size:"Small"},Brownstone:{name:"Brownstone High School",size:"Medium"},Prison:{name:"Prison",size:"Medium"},Asylum:{name:"Asylum",size:"Large"},Maple:{name:"Maple Lodge Campsite",size:"Large"},Lighthouse:{name:"Point Hope Lighthouse",size:"Small"},Sunny:{name:"Sunny Meadows",size:"Large"}},Gz=[{id:"1",title:"The Silent Approach",description:"Case File 001: Encounter at Brownstone High School. Docile at firstbut EMF spikes were undeniable."},{id:"2",title:"Closet Panic",description:"Case File 002: Trapped in a closet during a hunt. EMF went critical. Survivor's adrenaline record."},{id:"3",title:"Emergency Extraction",description:"Case File 003: A Demon rushed the group. Dragged back to the van with seconds to spare."},{id:"4",title:"Ouija Board Gamble",description:"Case File 004: Asked the wrong question. Sanity wiped instantly. High-risk intel retrieval."},{id:"5",title:"The Voodoo Threat",description:"Case File 005: Mimic puppeteering a Voodoo Doll. Aggressive, persistent, and personal."},{id:"6",title:"Circle of Summoning",description:"Case File 006: Ritual circle activation. Immediate manifestationdanger level extreme."}],n1=["EMF 5","Spirit Box","Fingerprints","Orb","Writing","Freezing","DOTS"];function Kz({onEvidenceChange:t}){const[e,n]=g.useState(n1.map(l=>({name:l,state:"unknown"}))),r=l=>{const u=[...e],d=u[l].state;d==="unknown"?u[l].state="confirmed":d==="confirmed"?u[l].state="ruled_out":u[l].state="unknown",n(u);const h=u.filter(p=>p.state==="confirmed").map(p=>p.name);t==null||t(h)},s=e.filter(l=>l.state==="confirmed").map(l=>l.name),i=e.filter(l=>l.state==="ruled_out").map(l=>l.name),o=Object.entries(Hg).filter(([l,u])=>{const d=s.every(p=>u.evidence.includes(p)),h=!i.some(p=>u.evidence.includes(p));return d&&h}),a=()=>{n(n1.map(l=>({name:l,state:"unknown"}))),t==null||t([])};return m.jsxs("div",{className:"space-y-4","data-testid":"evidence-tracker",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(KP,{className:"w-5 h-5"}),"Evidence Tracker"]}),m.jsx(_r,{variant:"ghost",size:"sm",onClick:a,className:"text-xs font-jetbrains","data-testid":"button-reset-evidence",children:"Reset"})]}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.map((l,u)=>m.jsxs("button",{onClick:()=>r(u),className:`flex items-center justify-between p-3 rounded-md border transition-all font-jetbrains text-sm ${l.state==="confirmed"?"bg-green-900/30 border-green-500 text-green-400":l.state==="ruled_out"?"bg-red-900/30 border-red-500 text-red-400 line-through opacity-60":"bg-background/30 border-primary/30 text-foreground hover:border-primary"}`,"data-testid":`button-evidence-${l.name.toLowerCase().replace(" ","-")}`,children:[m.jsx("span",{children:l.name}),l.state==="confirmed"&&m.jsx(Iv,{className:"w-4 h-4"}),l.state==="ruled_out"&&m.jsx(Cv,{className:"w-4 h-4"}),l.state==="unknown"&&m.jsx(O3,{className:"w-4 h-4 opacity-30"})]},l.name))}),m.jsxs("div",{className:"border-t border-primary/30 pt-4",children:[m.jsxs("h4",{className:"text-sm font-orbitron text-primary mb-2",children:["Possible Ghosts (",o.length,")"]}),m.jsx(du,{className:"h-[120px]",children:m.jsx("div",{className:"flex flex-wrap gap-2 pr-4",children:o.length===0?m.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No matching ghosts. Check your evidence."}):o.map(([l])=>m.jsx(qv,{variant:"outline",className:"bg-primary/10 border-primary text-primary font-jetbrains",children:l},l))})})]})]})}var dm=0;function d2(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r1()),document.body.insertAdjacentElement("beforeend",t[1]??r1()),dm++,()=>{dm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dm--}},[])}function r1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hm="focusScope.autoFocusOnMount",fm="focusScope.autoFocusOnUnmount",s1={bubbles:!1,cancelable:!0},Qz="FocusScope",Xv=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=ot(s),d=ot(i),h=g.useRef(null),p=Pe(e,_=>l(_)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let _=function(T){if(v.paused||!a)return;const k=T.target;a.contains(k)?h.current=k:Ss(h.current,{select:!0})},S=function(T){if(v.paused||!a)return;const k=T.relatedTarget;k!==null&&(a.contains(k)||Ss(h.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Ss(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),w.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){o1.add(v);const _=document.activeElement;if(!a.contains(_)){const E=new CustomEvent(hm,s1);a.addEventListener(hm,u),a.dispatchEvent(E),E.defaultPrevented||(Xz(t$(h2(a)),{select:!0}),document.activeElement===_&&Ss(a))}return()=>{a.removeEventListener(hm,u),setTimeout(()=>{const E=new CustomEvent(fm,s1);a.addEventListener(fm,d),a.dispatchEvent(E),E.defaultPrevented||Ss(_??document.body,{select:!0}),a.removeEventListener(fm,d),o1.remove(v)},0)}}},[a,u,d,v]);const b=g.useCallback(_=>{if(!n&&!r||v.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(S&&E){const w=_.currentTarget,[T,k]=Zz(w);T&&k?!_.shiftKey&&E===k?(_.preventDefault(),n&&Ss(T,{select:!0})):_.shiftKey&&E===T&&(_.preventDefault(),n&&Ss(k,{select:!0})):E===w&&_.preventDefault()}},[n,r,v.paused]);return m.jsx(he.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});Xv.displayName=Qz;function Xz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ss(r,{select:e}),document.activeElement!==n)return}function Zz(t){const e=h2(t),n=i1(e,t),r=i1(e.reverse(),t);return[n,r]}function h2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function i1(t,e){for(const n of t)if(!Yz(n,{upTo:e}))return n}function Yz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Jz(t){return t instanceof HTMLInputElement&&"select"in t}function Ss(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Jz(t)&&e&&t.select()}}var o1=e$();function e$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=a1(t,e),t.unshift(e)},remove(e){var n;t=a1(t,e),(n=t[0])==null||n.resume()}}}function a1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function t$(t){return t.filter(e=>e.tagName!=="A")}function f2(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var n$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},To=new WeakMap,ld=new WeakMap,cd={},pm=0,p2=function(t){return t&&(t.host||p2(t.parentNode))},r$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=p2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},s$=function(t,e,n,r){var s=r$(e,Array.isArray(t)?t:[t]);cd[n]||(cd[n]=new WeakMap);var i=cd[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var v=p.getAttribute(r),b=v!==null&&v!=="false",_=(To.get(p)||0)+1,S=(i.get(p)||0)+1;To.set(p,_),i.set(p,S),o.push(p),_===1&&b&&ld.set(p,!0),S===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return d(e),a.clear(),pm++,function(){o.forEach(function(h){var p=To.get(h)-1,v=i.get(h)-1;To.set(h,p),i.set(h,v),p||(ld.has(h)||h.removeAttribute(r),ld.delete(h)),v||h.removeAttribute(n)}),pm--,pm||(To=new WeakMap,To=new WeakMap,ld=new WeakMap,cd={})}},m2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=n$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),s$(r,s,n,"aria-hidden")):function(){return null}},vr=function(){return vr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vr.apply(this,arguments)};function g2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function i$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Dd="right-scroll-bar-position",Od="width-before-scroll-bar",o$="with-scroll-bars-hidden",a$="--removed-body-scroll-bar-size";function mm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function l$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var c$=typeof window<"u"?g.useLayoutEffect:g.useEffect,l1=new WeakMap;function u$(t,e){var n=l$(null,function(r){return t.forEach(function(s){return mm(s,r)})});return c$(function(){var r=l1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||mm(a,null)}),i.forEach(function(a){s.has(a)||mm(a,o)})}l1.set(n,t)},[t]),n}function d$(t){return t}function h$(t,e){e===void 0&&(e=d$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function f$(t){t===void 0&&(t={});var e=h$(null);return e.options=vr({async:!0,ssr:!1},t),e}var y2=function(t){var e=t.sideCar,n=g2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,vr({},n))};y2.isSideCarExport=!0;function p$(t,e){return t.useMedium(e),y2}var v2=f$(),gm=function(){},jf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:gm,onWheelCapture:gm,onTouchMoveCapture:gm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,v=t.noIsolation,b=t.inert,_=t.allowPinchZoom,S=t.as,E=S===void 0?"div":S,w=t.gapMode,T=g2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,O=u$([n,e]),L=vr(vr({},T),s);return g.createElement(g.Fragment,null,d&&g.createElement(k,{sideCar:v2,removeScrollBar:u,shards:h,noIsolation:v,inert:b,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(a),vr(vr({},L),{ref:O})):g.createElement(E,vr({},L,{className:l,ref:O}),a))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:Od,zeroRight:Dd};var m$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function g$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=m$();return e&&t.setAttribute("nonce",e),t}function y$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function v$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=g$())&&(y$(e,n),v$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},w$=function(){var t=_$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_2=function(){var t=w$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},E$={left:0,top:0,right:0,gap:0},ym=function(t){return parseInt(t||"",10)||0},T$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ym(n),ym(r),ym(s)]},S$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return E$;var e=T$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},x$=_2(),ra="data-scroll-locked",b$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(o$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ra,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Od,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dd," .").concat(Dd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Od," .").concat(Od,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ra,`] {
    `).concat(a$,": ").concat(a,`px;
  }
`)},c1=function(){var t=parseInt(document.body.getAttribute(ra)||"0",10);return isFinite(t)?t:0},I$=function(){g.useEffect(function(){return document.body.setAttribute(ra,(c1()+1).toString()),function(){var t=c1()-1;t<=0?document.body.removeAttribute(ra):document.body.setAttribute(ra,t.toString())}},[])},C$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;I$();var i=g.useMemo(function(){return S$(s)},[s]);return g.createElement(x$,{styles:b$(i,!e,s,n?"":"!important")})},qg=!1;if(typeof window<"u")try{var ud=Object.defineProperty({},"passive",{get:function(){return qg=!0,!0}});window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,ud)}catch{qg=!1}var So=qg?{passive:!1}:!1,A$=function(t){return t.tagName==="TEXTAREA"},w2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!A$(t)&&n[e]==="visible")},P$=function(t){return w2(t,"overflowY")},R$=function(t){return w2(t,"overflowX")},u1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=E2(t,r);if(s){var i=T2(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},N$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},k$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},E2=function(t,e){return t==="v"?P$(e):R$(e)},T2=function(t,e){return t==="v"?N$(e):k$(e)},D$=function(t,e){return t==="h"&&e==="rtl"?-1:1},O$=function(t,e,n,r,s){var i=D$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,p=0;do{var v=T2(t,a),b=v[0],_=v[1],S=v[2],E=_-S-i*b;(b||E)&&E2(t,a)&&(h+=E,p+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},dd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},d1=function(t){return[t.deltaX,t.deltaY]},h1=function(t){return t&&"current"in t?t.current:t},M$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},L$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},V$=0,xo=[];function j$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(V$++)[0],i=g.useState(_2)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=i$([t.lockRef.current],(t.shards||[]).map(h1),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var E=dd(_),w=n.current,T="deltaX"in _?_.deltaX:w[0]-E[0],k="deltaY"in _?_.deltaY:w[1]-E[1],O,L=_.target,I=Math.abs(T)>Math.abs(k)?"h":"v";if("touches"in _&&I==="h"&&L.type==="range")return!1;var x=u1(I,L);if(!x)return!0;if(x?O=I:(O=I==="v"?"h":"v",x=u1(I,L)),!x)return!1;if(!r.current&&"changedTouches"in _&&(T||k)&&(r.current=O),!O)return!0;var C=r.current||O;return O$(C,S,_,C==="h"?T:k,!0)},[]),l=g.useCallback(function(_){var S=_;if(!(!xo.length||xo[xo.length-1]!==i)){var E="deltaY"in S?d1(S):dd(S),w=e.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&M$(O.delta,E)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(h1).filter(Boolean).filter(function(O){return O.contains(S.target)}),k=T.length>0?a(S,T[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),u=g.useCallback(function(_,S,E,w){var T={name:_,delta:S,target:E,should:w,shadowParent:F$(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(k){return k!==T})},1)},[]),d=g.useCallback(function(_){n.current=dd(_),r.current=void 0},[]),h=g.useCallback(function(_){u(_.type,d1(_),_.target,a(_,t.lockRef.current))},[]),p=g.useCallback(function(_){u(_.type,dd(_),_.target,a(_,t.lockRef.current))},[]);g.useEffect(function(){return xo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,So),document.addEventListener("touchmove",l,So),document.addEventListener("touchstart",d,So),function(){xo=xo.filter(function(_){return _!==i}),document.removeEventListener("wheel",l,So),document.removeEventListener("touchmove",l,So),document.removeEventListener("touchstart",d,So)}},[]);var v=t.removeScrollBar,b=t.inert;return g.createElement(g.Fragment,null,b?g.createElement(i,{styles:L$(s)}):null,v?g.createElement(C$,{gapMode:t.gapMode}):null)}function F$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const U$=p$(v2,j$);var Zv=g.forwardRef(function(t,e){return g.createElement(jf,vr({},t,{ref:e,sideCar:U$}))});Zv.classNames=jf.classNames;var z$=[" ","Enter","ArrowUp","ArrowDown"],$$=[" ","Enter"],gu="Select",[Ff,Uf,B$]=Tv(gu),[Xa,PQ]=or(gu,[B$,Rf]),zf=Rf(),[H$,_i]=Xa(gu),[q$,W$]=Xa(gu),S2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:v,form:b}=t,_=zf(e),[S,E]=g.useState(null),[w,T]=g.useState(null),[k,O]=g.useState(!1),L=Of(u),[I=!1,x]=Ca({prop:r,defaultProp:s,onChange:i}),[C,P]=Ca({prop:o,defaultProp:a,onChange:l}),N=g.useRef(null),D=S?b||!!S.closest("form"):!0,[R,B]=g.useState(new Set),ee=Array.from(R).map(te=>te.props.value).join(";");return m.jsx(O5,{..._,children:m.jsxs(H$,{required:v,scope:e,trigger:S,onTriggerChange:E,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:$i(),value:C,onValueChange:P,open:I,onOpenChange:x,dir:L,triggerPointerDownPosRef:N,disabled:p,children:[m.jsx(Ff.Provider,{scope:e,children:m.jsx(q$,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(te=>{B(pe=>new Set(pe).add(te))},[]),onNativeOptionRemove:g.useCallback(te=>{B(pe=>{const F=new Set(pe);return F.delete(te),F})},[]),children:n})}),D?m.jsxs(K2,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:h,value:C,onChange:te=>P(te.target.value),disabled:p,form:b,children:[C===void 0?m.jsx("option",{value:""}):null,Array.from(R)]},ee):null]})})};S2.displayName=gu;var x2="SelectTrigger",b2=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=zf(n),o=_i(x2,n),a=o.disabled||r,l=Pe(e,o.onTriggerChange),u=Uf(n),d=g.useRef("touch"),[h,p,v]=Q2(_=>{const S=u().filter(T=>!T.disabled),E=S.find(T=>T.value===o.value),w=X2(S,_,E);w!==void 0&&o.onValueChange(w.value)}),b=_=>{a||(o.onOpenChange(!0),v()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return m.jsx(NR,{asChild:!0,...i,children:m.jsx(he.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":G2(o.value)?"":void 0,...s,ref:l,onClick:se(s.onClick,_=>{_.currentTarget.focus(),d.current!=="mouse"&&b(_)}),onPointerDown:se(s.onPointerDown,_=>{d.current=_.pointerType;const S=_.target;S.hasPointerCapture(_.pointerId)&&S.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(b(_),_.preventDefault())}),onKeyDown:se(s.onKeyDown,_=>{const S=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&p(_.key),!(S&&_.key===" ")&&z$.includes(_.key)&&(b(),_.preventDefault())})})})});b2.displayName=x2;var I2="SelectValue",C2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=_i(I2,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=Pe(e,l.onValueNodeChange);return gt(()=>{u(d)},[u,d]),m.jsx(he.span,{...a,ref:h,style:{pointerEvents:"none"},children:G2(l.value)?m.jsx(m.Fragment,{children:o}):i})});C2.displayName=I2;var G$="SelectIcon",A2=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return m.jsx(he.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});A2.displayName=G$;var K$="SelectPortal",P2=t=>m.jsx(Sf,{asChild:!0,...t});P2.displayName=K$;var no="SelectContent",R2=g.forwardRef((t,e)=>{const n=_i(no,t.__scopeSelect),[r,s]=g.useState();if(gt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ho.createPortal(m.jsx(N2,{scope:t.__scopeSelect,children:m.jsx(Ff.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),i):null}return m.jsx(k2,{...t,ref:e})});R2.displayName=no;var $n=10,[N2,wi]=Xa(no),Q$="SelectContentImpl",X$=Ia("SelectContent.RemoveScroll"),k2=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:_,avoidCollisions:S,...E}=t,w=_i(no,n),[T,k]=g.useState(null),[O,L]=g.useState(null),I=Pe(e,oe=>k(oe)),[x,C]=g.useState(null),[P,N]=g.useState(null),D=Uf(n),[R,B]=g.useState(!1),ee=g.useRef(!1);g.useEffect(()=>{if(T)return m2(T)},[T]),d2();const te=g.useCallback(oe=>{const[Ve,...vt]=D().map(De=>De.ref.current),[Ue]=vt.slice(-1),Oe=document.activeElement;for(const De of oe)if(De===Oe||(De==null||De.scrollIntoView({block:"nearest"}),De===Ve&&O&&(O.scrollTop=0),De===Ue&&O&&(O.scrollTop=O.scrollHeight),De==null||De.focus(),document.activeElement!==Oe))return},[D,O]),pe=g.useCallback(()=>te([x,T]),[te,x,T]);g.useEffect(()=>{R&&pe()},[R,pe]);const{onOpenChange:F,triggerPointerDownPosRef:G}=w;g.useEffect(()=>{if(T){let oe={x:0,y:0};const Ve=Ue=>{var Oe,De;oe={x:Math.abs(Math.round(Ue.pageX)-(((Oe=G.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((De=G.current)==null?void 0:De.y)??0))}},vt=Ue=>{oe.x<=10&&oe.y<=10?Ue.preventDefault():T.contains(Ue.target)||F(!1),document.removeEventListener("pointermove",Ve),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",vt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",vt,{capture:!0})}}},[T,F,G]),g.useEffect(()=>{const oe=()=>F(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[F]);const[ne,de]=Q2(oe=>{const Ve=D().filter(Oe=>!Oe.disabled),vt=Ve.find(Oe=>Oe.ref.current===document.activeElement),Ue=X2(Ve,oe,vt);Ue&&setTimeout(()=>Ue.ref.current.focus())}),ke=g.useCallback((oe,Ve,vt)=>{const Ue=!ee.current&&!vt;(w.value!==void 0&&w.value===Ve||Ue)&&(C(oe),Ue&&(ee.current=!0))},[w.value]),xt=g.useCallback(()=>T==null?void 0:T.focus(),[T]),Qe=g.useCallback((oe,Ve,vt)=>{const Ue=!ee.current&&!vt;(w.value!==void 0&&w.value===Ve||Ue)&&N(oe)},[w.value]),ln=r==="popper"?Wg:D2,yt=ln===Wg?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:_,avoidCollisions:S}:{};return m.jsx(N2,{scope:n,content:T,viewport:O,onViewportChange:L,itemRefCallback:ke,selectedItem:x,onItemLeave:xt,itemTextRefCallback:Qe,focusSelectedItem:pe,selectedItemText:P,position:r,isPositioned:R,searchRef:ne,children:m.jsx(Zv,{as:X$,allowPinchZoom:!0,children:m.jsx(Xv,{asChild:!0,trapped:w.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:se(s,oe=>{var Ve;(Ve=w.trigger)==null||Ve.focus({preventScroll:!0}),oe.preventDefault()}),children:m.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:m.jsx(ln,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:oe=>oe.preventDefault(),...E,...yt,onPlaced:()=>B(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:se(E.onKeyDown,oe=>{const Ve=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Ve&&oe.key.length===1&&de(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ue=D().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Oe=oe.target,De=Ue.indexOf(Oe);Ue=Ue.slice(De+1)}setTimeout(()=>te(Ue)),oe.preventDefault()}})})})})})})});k2.displayName=Q$;var Z$="SelectItemAlignedPosition",D2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=_i(no,n),o=wi(no,n),[a,l]=g.useState(null),[u,d]=g.useState(null),h=Pe(e,I=>d(I)),p=Uf(n),v=g.useRef(!1),b=g.useRef(!0),{viewport:_,selectedItem:S,selectedItemText:E,focusSelectedItem:w}=o,T=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&_&&S&&E){const I=i.trigger.getBoundingClientRect(),x=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=P.left-x.left,De=C.left-Oe,Nt=I.left-De,yn=I.width+Nt,Ti=Math.max(yn,x.width),Fr=window.innerWidth-$n,Ur=Vg(De,[$n,Math.max($n,Fr-Ti)]);a.style.minWidth=yn+"px",a.style.left=Ur+"px"}else{const Oe=x.right-P.right,De=window.innerWidth-C.right-Oe,Nt=window.innerWidth-I.right-De,yn=I.width+Nt,Ti=Math.max(yn,x.width),Fr=window.innerWidth-$n,Ur=Vg(De,[$n,Math.max($n,Fr-Ti)]);a.style.minWidth=yn+"px",a.style.right=Ur+"px"}const N=p(),D=window.innerHeight-$n*2,R=_.scrollHeight,B=window.getComputedStyle(u),ee=parseInt(B.borderTopWidth,10),te=parseInt(B.paddingTop,10),pe=parseInt(B.borderBottomWidth,10),F=parseInt(B.paddingBottom,10),G=ee+te+R+F+pe,ne=Math.min(S.offsetHeight*5,G),de=window.getComputedStyle(_),ke=parseInt(de.paddingTop,10),xt=parseInt(de.paddingBottom,10),Qe=I.top+I.height/2-$n,ln=D-Qe,yt=S.offsetHeight/2,oe=S.offsetTop+yt,Ve=ee+te+oe,vt=G-Ve;if(Ve<=Qe){const Oe=N.length>0&&S===N[N.length-1].ref.current;a.style.bottom="0px";const De=u.clientHeight-_.offsetTop-_.offsetHeight,Nt=Math.max(ln,yt+(Oe?xt:0)+De+pe),yn=Ve+Nt;a.style.height=yn+"px"}else{const Oe=N.length>0&&S===N[0].ref.current;a.style.top="0px";const Nt=Math.max(Qe,ee+_.offsetTop+(Oe?ke:0)+yt)+vt;a.style.height=Nt+"px",_.scrollTop=Ve-Qe+_.offsetTop}a.style.margin=`${$n}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,a,u,_,S,E,i.dir,r]);gt(()=>T(),[T]);const[k,O]=g.useState();gt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const L=g.useCallback(I=>{I&&b.current===!0&&(T(),w==null||w(),b.current=!1)},[T,w]);return m.jsx(J$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:L,children:m.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:m.jsx(he.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});D2.displayName=Z$;var Y$="SelectPopperPosition",Wg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=$n,...i}=t,o=zf(n);return m.jsx(kR,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wg.displayName=Y$;var[J$,Yv]=Xa(no,{}),Gg="SelectViewport",O2=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=wi(Gg,n),o=Yv(Gg,n),a=Pe(e,i.onViewportChange),l=g.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(Ff.Slot,{scope:n,children:m.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const v=Math.abs(l.current-d.scrollTop);if(v>0){const b=window.innerHeight-$n*2,_=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),E=Math.max(_,S);if(E<b){const w=E+v,T=Math.min(b,w),k=w-T;h.style.height=T+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});O2.displayName=Gg;var M2="SelectGroup",[eB,tB]=Xa(M2),nB=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$i();return m.jsx(eB,{scope:n,id:s,children:m.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:e})})});nB.displayName=M2;var L2="SelectLabel",V2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=tB(L2,n);return m.jsx(he.div,{id:s.id,...r,ref:e})});V2.displayName=L2;var Mh="SelectItem",[rB,j2]=Xa(Mh),F2=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=_i(Mh,n),l=wi(Mh,n),u=a.value===r,[d,h]=g.useState(i??""),[p,v]=g.useState(!1),b=Pe(e,w=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,w,r,s)}),_=$i(),S=g.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(rB,{scope:n,value:r,disabled:s,textId:_,isSelected:u,onItemTextChange:g.useCallback(w=>{h(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:m.jsx(Ff.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:m.jsx(he.div,{role:"option","aria-labelledby":_,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:se(o.onFocus,()=>v(!0)),onBlur:se(o.onBlur,()=>v(!1)),onClick:se(o.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:se(o.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:se(o.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:se(o.onPointerMove,w=>{var T;S.current=w.pointerType,s?(T=l.onItemLeave)==null||T.call(l):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:se(o.onKeyDown,w=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&w.key===" "||($$.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});F2.displayName=Mh;var Fl="SelectItemText",U2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=_i(Fl,n),a=wi(Fl,n),l=j2(Fl,n),u=W$(Fl,n),[d,h]=g.useState(null),p=Pe(e,E=>h(E),l.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,l.value,l.disabled)}),v=d==null?void 0:d.textContent,b=g.useMemo(()=>m.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:_,onNativeOptionRemove:S}=u;return gt(()=>(_(b),()=>S(b)),[_,S,b]),m.jsxs(m.Fragment,{children:[m.jsx(he.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ho.createPortal(i.children,o.valueNode):null]})});U2.displayName=Fl;var z2="SelectItemIndicator",$2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return j2(z2,n).isSelected?m.jsx(he.span,{"aria-hidden":!0,...r,ref:e}):null});$2.displayName=z2;var Kg="SelectScrollUpButton",B2=g.forwardRef((t,e)=>{const n=wi(Kg,t.__scopeSelect),r=Yv(Kg,t.__scopeSelect),[s,i]=g.useState(!1),o=Pe(e,r.onScrollButtonChange);return gt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?m.jsx(q2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});B2.displayName=Kg;var Qg="SelectScrollDownButton",H2=g.forwardRef((t,e)=>{const n=wi(Qg,t.__scopeSelect),r=Yv(Qg,t.__scopeSelect),[s,i]=g.useState(!1),o=Pe(e,r.onScrollButtonChange);return gt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?m.jsx(q2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});H2.displayName=Qg;var q2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=wi("SelectScrollButton",n),o=g.useRef(null),a=Uf(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),gt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),m.jsx(he.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{l()})})}),sB="SelectSeparator",W2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx(he.div,{"aria-hidden":!0,...r,ref:e})});W2.displayName=sB;var Xg="SelectArrow",iB=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zf(n),i=_i(Xg,n),o=wi(Xg,n);return i.open&&o.position==="popper"?m.jsx(DR,{...s,...r,ref:e}):null});iB.displayName=Xg;function G2(t){return t===""||t===void 0}var K2=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=Pe(e,s),o=f2(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),m.jsx(cu,{asChild:!0,children:m.jsx("select",{...r,ref:i,defaultValue:n})})});K2.displayName="BubbleSelect";function Q2(t){const e=ot(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function X2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=oB(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function oB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var aB=S2,Z2=b2,lB=C2,cB=A2,uB=P2,Y2=R2,dB=O2,J2=V2,eD=F2,hB=U2,fB=$2,tD=B2,nD=H2,rD=W2;const sD=aB,iD=lB,Jv=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(Z2,{ref:r,className:Te("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(cB,{asChild:!0,children:m.jsx(WP,{className:"h-4 w-4 opacity-50"})})]}));Jv.displayName=Z2.displayName;const oD=g.forwardRef(({className:t,...e},n)=>m.jsx(tD,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(R3,{className:"h-4 w-4"})}));oD.displayName=tD.displayName;const aD=g.forwardRef(({className:t,...e},n)=>m.jsx(nD,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(WP,{className:"h-4 w-4"})}));aD.displayName=nD.displayName;const e_=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>m.jsx(uB,{children:m.jsxs(Y2,{ref:s,className:Te("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(oD,{}),m.jsx(dB,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(aD,{})]})}));e_.displayName=Y2.displayName;const pB=g.forwardRef(({className:t,...e},n)=>m.jsx(J2,{ref:n,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));pB.displayName=J2.displayName;const t_=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(eD,{ref:r,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(fB,{children:m.jsx(Iv,{className:"h-4 w-4"})})}),m.jsx(hB,{children:e})]}));t_.displayName=eD.displayName;const mB=g.forwardRef(({className:t,...e},n)=>m.jsx(rD,{ref:n,className:Te("-mx-1 my-1 h-px bg-muted",t),...e}));mB.displayName=rD.displayName;function gB(){const[t,e]=g.useState(""),n=t?Hg[t]:null,r=Object.keys(Hg).sort();return m.jsxs("div",{className:"space-y-4","data-testid":"ghost-profile",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(qP,{className:"w-5 h-5"}),"Ghost Database"]}),m.jsxs(sD,{value:t,onValueChange:e,children:[m.jsx(Jv,{className:"bg-background/50 border-primary font-jetbrains","data-testid":"select-ghost",children:m.jsx(iD,{placeholder:"--- Select Ghost Type ---"})}),m.jsx(e_,{className:"bg-card border-primary max-h-[300px]",children:r.map(s=>m.jsx(t_,{value:s,className:"font-jetbrains",children:s},s))})]}),n?m.jsxs("div",{className:"log-container space-y-4","data-testid":"ghost-info",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(bc,{className:"w-6 h-6 text-accent"}),m.jsx("h4",{className:"text-xl font-orbitron text-accent text-glow-cyan",children:t})]}),m.jsx("div",{className:"border-b border-primary/50 pb-2"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-primary font-bold font-jetbrains mb-1",children:"Evidence:"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:n.evidence.map(s=>m.jsx(qv,{variant:"outline",className:"bg-accent/10 border-accent text-accent font-jetbrains",children:s},s))})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(YP,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-primary font-bold font-jetbrains",children:"Strength:"}),m.jsx("p",{className:"text-sm text-foreground font-jetbrains",children:n.strength})]})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(U3,{className:"w-4 h-4 text-green-400 mt-0.5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-primary font-bold font-jetbrains",children:"Weakness:"}),m.jsx("p",{className:"text-sm text-foreground font-jetbrains",children:n.weakness})]})]})]})]}):m.jsxs("div",{className:"log-container text-center py-8",children:[m.jsx(bc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm",children:"Select a ghost type to view its profile"})]})]})}var n_="Dialog",[lD,RQ]=or(n_),[yB,lr]=lD(n_),cD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u=!1,d]=Ca({prop:r,defaultProp:s,onChange:i});return m.jsx(yB,{scope:e,triggerRef:a,contentRef:l,contentId:$i(),titleId:$i(),descriptionId:$i(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};cD.displayName=n_;var uD="DialogTrigger",vB=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(uD,n),i=Pe(e,s.triggerRef);return m.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":i_(s.open),...r,ref:i,onClick:se(t.onClick,s.onOpenToggle)})});vB.displayName=uD;var r_="DialogPortal",[_B,dD]=lD(r_,{forceMount:void 0}),hD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=lr(r_,e);return m.jsx(_B,{scope:e,forceMount:n,children:g.Children.map(r,o=>m.jsx(ar,{present:n||i.open,children:m.jsx(Sf,{asChild:!0,container:s,children:o})}))})};hD.displayName=r_;var Lh="DialogOverlay",fD=g.forwardRef((t,e)=>{const n=dD(Lh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=lr(Lh,t.__scopeDialog);return i.modal?m.jsx(ar,{present:r||i.open,children:m.jsx(EB,{...s,ref:e})}):null});fD.displayName=Lh;var wB=Ia("DialogOverlay.RemoveScroll"),EB=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(Lh,n);return m.jsx(Zv,{as:wB,allowPinchZoom:!0,shards:[s.contentRef],children:m.jsx(he.div,{"data-state":i_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ro="DialogContent",pD=g.forwardRef((t,e)=>{const n=dD(ro,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=lr(ro,t.__scopeDialog);return m.jsx(ar,{present:r||i.open,children:i.modal?m.jsx(TB,{...s,ref:e}):m.jsx(SB,{...s,ref:e})})});pD.displayName=ro;var TB=g.forwardRef((t,e)=>{const n=lr(ro,t.__scopeDialog),r=g.useRef(null),s=Pe(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return m2(i)},[]),m.jsx(mD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),SB=g.forwardRef((t,e)=>{const n=lr(ro,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return m.jsx(mD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),mD=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=lr(ro,n),l=g.useRef(null),u=Pe(e,l);return d2(),m.jsxs(m.Fragment,{children:[m.jsx(Xv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:m.jsx(lu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":i_(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(xB,{titleId:a.titleId}),m.jsx(IB,{contentRef:l,descriptionId:a.descriptionId})]})]})}),s_="DialogTitle",gD=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(s_,n);return m.jsx(he.h2,{id:s.titleId,...r,ref:e})});gD.displayName=s_;var yD="DialogDescription",vD=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(yD,n);return m.jsx(he.p,{id:s.descriptionId,...r,ref:e})});vD.displayName=yD;var _D="DialogClose",wD=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(_D,n);return m.jsx(he.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});wD.displayName=_D;function i_(t){return t?"open":"closed"}var ED="DialogTitleWarning",[NQ,TD]=jF(ED,{contentName:ro,titleName:s_,docsSlug:"dialog"}),xB=({titleId:t})=>{const e=TD(ED),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},bB="DialogDescriptionWarning",IB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TD(bB).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},CB=cD,AB=hD,SD=fD,xD=pD,bD=gD,ID=vD,PB=wD;const RB=CB,NB=AB,CD=g.forwardRef(({className:t,...e},n)=>m.jsx(SD,{ref:n,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));CD.displayName=SD.displayName;const AD=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(NB,{children:[m.jsx(CD,{}),m.jsxs(xD,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(PB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(Cv,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));AD.displayName=xD.displayName;const PD=({className:t,...e})=>m.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});PD.displayName="DialogHeader";const RD=g.forwardRef(({className:t,...e},n)=>m.jsx(bD,{ref:n,className:Te("text-lg font-semibold leading-none tracking-tight",t),...e}));RD.displayName=bD.displayName;const ND=g.forwardRef(({className:t,...e},n)=>m.jsx(ID,{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));ND.displayName=ID.displayName;const kB="/PhasmophobiaBroadsHeadQuarters/",DB={1:"case1_1764775148686.jpg",2:"case2_1764775148687.jpg",3:"case3_1764775148687.jpg",4:"case4_1764775148688.jpg",5:"case5_1764775148688.jpg",6:"case6_1764775148688.jpg"};function f1(t){const e=DB[t];return e?`${kB}assets/${e}`:""}function OB(){const[t,e]=g.useState(null);return m.jsxs("div",{className:"space-y-4","data-testid":"case-files-gallery",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(QP,{className:"w-5 h-5"}),"Case Files Archive"]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Gz.map(n=>m.jsxs(Df,{onClick:()=>e(n),className:"cursor-pointer overflow-hidden border-primary bg-background/50 hover:border-accent transition-all group",style:{boxShadow:"0 0 8px hsl(280 85% 50% / 0.3)"},"data-testid":`card-case-${n.id}`,children:[m.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[m.jsx("img",{src:f1(n.id),alt:n.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/20 to-transparent"}),m.jsxs("span",{className:"absolute bottom-2 left-2 text-xs font-orbitron text-accent text-glow-cyan",children:["#",n.id.padStart(3,"0")]})]}),m.jsx("div",{className:"p-2",children:m.jsx("p",{className:"text-xs font-jetbrains text-foreground truncate",children:n.title})})]},n.id))}),m.jsx(RB,{open:!!t,onOpenChange:()=>e(null),children:m.jsxs(AD,{className:"bg-background border-accent max-w-2xl",style:{boxShadow:"0 0 60px hsl(187 100% 66% / 0.3)"},children:[m.jsxs(PD,{children:[m.jsx(RD,{className:"font-orbitron text-accent text-glow-cyan text-xl",children:t==null?void 0:t.title}),m.jsxs(ND,{className:"sr-only",children:["Case file details for ",t==null?void 0:t.title]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"aspect-video rounded-lg overflow-hidden border-2 border-accent/50",style:{boxShadow:"0 0 20px hsl(187 100% 66% / 0.4)"},children:t&&m.jsx("img",{src:f1(t.id),alt:t.title,className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{className:"text-sm text-primary font-orbitron text-glow-purple",children:["Case #",t==null?void 0:t.id.padStart(3,"0")]}),m.jsx("p",{className:"text-foreground font-jetbrains text-sm leading-relaxed",children:t==null?void 0:t.description})]})]})]})})]})}function MB({roomName:t="PhasmoBroadsHQ"}){const[e,n]=g.useState(!1),{displayName:r}=fo(),s=()=>{n(!0);const i=`https://meet.jit.si/${t}#userInfo.displayName="${encodeURIComponent(r||"GhostHunter")}"`;setTimeout(()=>{window.open(i,"_blank","noopener,noreferrer"),n(!1)},1500)};return m.jsxs(m.Fragment,{children:[m.jsxs(_r,{onClick:s,disabled:e,className:`
          relative overflow-visible
          bg-red-900/80 hover:bg-red-800 
          border-2 border-red-500 
          text-white font-orbitron uppercase tracking-wider
          transition-all duration-300
          ${e?"animate-shake":""}
        `,style:{boxShadow:e?"0 0 30px rgba(239, 68, 68, 0.9), 0 0 60px rgba(239, 68, 68, 0.6), 0 0 90px rgba(239, 68, 68, 0.3)":"0 0 15px rgba(239, 68, 68, 0.6), 0 0 30px rgba(239, 68, 68, 0.3)"},"data-testid":"button-video-call",children:[m.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e?m.jsx(M3,{className:"w-5 h-5 animate-pulse"}):m.jsx(L3,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:e?"Connecting...":"Squad Call"})]}),m.jsx("span",{className:"absolute inset-0 rounded-md opacity-50",style:{background:"radial-gradient(circle at center, rgba(239, 68, 68, 0.4) 0%, transparent 70%)",animation:"pulse 2s ease-in-out infinite"}}),m.jsx("span",{className:"absolute -inset-1 rounded-lg opacity-30 blur-sm",style:{background:"linear-gradient(45deg, #ef4444, #dc2626, #ef4444)",animation:e?"none":"glow-pulse 3s ease-in-out infinite"}})]}),m.jsx("style",{children:`
        @keyframes glow-pulse {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 0.6; }
        }
      `})]})}function LB({members:t}){const e=t.filter(n=>!n.isDead).length;return m.jsxs("div",{className:"space-y-4","data-testid":"squad-status",children:[m.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(Ng,{className:"w-5 h-5"}),"Squad Status"]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs(qv,{variant:"outline",className:`font-jetbrains ${e>0?"border-green-500 text-green-400":"border-red-500 text-red-400"}`,children:[e,"/",t.length," Active"]}),m.jsx(MB,{roomName:"PhasmoBroadsHQ"})]})]}),m.jsx(du,{className:"h-[280px]",children:m.jsx("div",{className:"space-y-3 pr-4",children:t.length===0?m.jsxs("div",{className:"log-container text-center py-8",children:[m.jsx(Ng,{className:"w-10 h-10 text-muted-foreground mx-auto mb-2 opacity-30"}),m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm",children:"No squad members online"}),m.jsx("p",{className:"text-xs text-muted-foreground/60 font-jetbrains mt-2",children:"Click the red phone to start a video call"})]}):t.map(n=>m.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border-2 transition-all ${n.isDead?"bg-red-950/20 border-red-500/50":"bg-green-950/20 border-green-500/50"}`,"data-testid":`squad-member-${n.id}`,children:[m.jsxs(Ac,{className:`w-10 h-10 border-2 ${n.isDead?"border-red-500":"border-green-500"}`,children:[m.jsx(Pc,{src:n.photoUrl,alt:n.displayName}),m.jsx(Rc,{className:"bg-primary/20 text-accent text-xs font-orbitron",children:n.displayName.slice(0,2).toUpperCase()})]}),m.jsxs("div",{className:"flex-grow min-w-0",children:[m.jsx("p",{className:"font-bold text-foreground font-jetbrains truncate",children:n.displayName}),m.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground font-jetbrains",children:[m.jsx(D3,{className:"w-3 h-3 text-primary"}),n.isDead?m.jsx("span",{className:"text-red-400",children:"DECEASED"}):m.jsxs("span",{className:"truncate",children:[n.map,"  ",n.location]})]})]}),m.jsx("div",{className:`p-2 rounded-full ${n.isDead?"bg-red-500/20":"bg-green-500/20"}`,children:n.isDead?m.jsx(ZP,{className:"w-5 h-5 text-red-500"}):m.jsx(k3,{className:"w-5 h-5 text-green-500"})})]},n.id))})})]})}var VB="Label",kD=g.forwardRef((t,e)=>m.jsx(he.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kD.displayName=VB;var DD=kD;const jB=If("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Md=g.forwardRef(({className:t,...e},n)=>m.jsx(DD,{ref:n,className:Te(jB(),t),...e}));Md.displayName=DD.displayName;var vm="rovingFocusGroup.onEntryFocus",FB={bubbles:!1,cancelable:!0},$f="RovingFocusGroup",[Zg,OD,UB]=Tv($f),[zB,MD]=or($f,[UB]),[$B,BB]=zB($f),LD=g.forwardRef((t,e)=>m.jsx(Zg.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Zg.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(HB,{...t,ref:e})})}));LD.displayName=$f;var HB=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=g.useRef(null),v=Pe(e,p),b=Of(i),[_=null,S]=Ca({prop:o,defaultProp:a,onChange:l}),[E,w]=g.useState(!1),T=ot(u),k=OD(n),O=g.useRef(!1),[L,I]=g.useState(0);return g.useEffect(()=>{const x=p.current;if(x)return x.addEventListener(vm,T),()=>x.removeEventListener(vm,T)},[T]),m.jsx($B,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:_,onItemFocus:g.useCallback(x=>S(x),[S]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>I(x=>x+1),[]),onFocusableItemRemove:g.useCallback(()=>I(x=>x-1),[]),children:m.jsx(he.div,{tabIndex:E||L===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{O.current=!0}),onFocus:se(t.onFocus,x=>{const C=!O.current;if(x.target===x.currentTarget&&C&&!E){const P=new CustomEvent(vm,FB);if(x.currentTarget.dispatchEvent(P),!P.defaultPrevented){const N=k().filter(te=>te.focusable),D=N.find(te=>te.active),R=N.find(te=>te.id===_),ee=[D,R,...N].filter(Boolean).map(te=>te.ref.current);FD(ee,d)}}O.current=!1}),onBlur:se(t.onBlur,()=>w(!1))})})}),VD="RovingFocusGroupItem",jD=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=$i(),l=i||a,u=BB(VD,n),d=u.currentTabStopId===l,h=OD(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return g.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),m.jsx(Zg.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:m.jsx(he.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:se(t.onMouseDown,b=>{r?u.onItemFocus(l):b.preventDefault()}),onFocus:se(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:se(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=GB(b,u.orientation,u.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=h().filter(w=>w.focusable).map(w=>w.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const w=E.indexOf(b.currentTarget);E=u.loop?KB(E,w+1):E.slice(w+1)}setTimeout(()=>FD(E))}})})})});jD.displayName=VD;var qB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function WB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function GB(t,e,n){const r=WB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return qB[r]}function FD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function KB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var QB=LD,XB=jD,o_="Radio",[ZB,UD]=or(o_),[YB,JB]=ZB(o_),zD=g.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:u,...d}=t,[h,p]=g.useState(null),v=Pe(e,S=>p(S)),b=g.useRef(!1),_=h?u||!!h.closest("form"):!0;return m.jsxs(YB,{scope:n,checked:s,disabled:o,children:[m.jsx(he.button,{type:"button",role:"radio","aria-checked":s,"data-state":HD(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:v,onClick:se(t.onClick,S=>{s||l==null||l(),_&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),_&&m.jsx(e8,{control:h,bubbles:!b.current,name:r,value:a,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});zD.displayName=o_;var $D="RadioIndicator",BD=g.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=JB($D,n);return m.jsx(ar,{present:r||i.checked,children:m.jsx(he.span,{"data-state":HD(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});BD.displayName=$D;var e8=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=g.useRef(null),o=f2(n),a=ER(e);return g.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const p=new Event("click",{bubbles:r});h.call(l,n),l.dispatchEvent(p)}},[o,n,r]),m.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function HD(t){return t?"checked":"unchecked"}var t8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],a_="RadioGroup",[n8,kQ]=or(a_,[MD,UD]),qD=MD(),WD=UD(),[r8,s8]=n8(a_),GD=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:h,...p}=t,v=qD(n),b=Of(u),[_,S]=Ca({prop:i,defaultProp:s,onChange:h});return m.jsx(r8,{scope:n,name:r,required:o,disabled:a,value:_,onValueChange:S,children:m.jsx(QB,{asChild:!0,...v,orientation:l,dir:b,loop:d,children:m.jsx(he.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:b,...p,ref:e})})})});GD.displayName=a_;var KD="RadioGroupItem",QD=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=s8(KD,n),o=i.disabled||r,a=qD(n),l=WD(n),u=g.useRef(null),d=Pe(e,u),h=i.value===s.value,p=g.useRef(!1);return g.useEffect(()=>{const v=_=>{t8.includes(_.key)&&(p.current=!0)},b=()=>p.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",b)}},[]),m.jsx(XB,{asChild:!0,...a,focusable:!o,active:h,children:m.jsx(zD,{disabled:o,required:i.required,checked:h,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:se(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:se(s.onFocus,()=>{var v;p.current&&((v=u.current)==null||v.click())})})})});QD.displayName=KD;var i8="RadioGroupIndicator",XD=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=WD(n);return m.jsx(BD,{...s,...r,ref:e})});XD.displayName=i8;var ZD=GD,YD=QD,o8=XD;const JD=g.forwardRef(({className:t,...e},n)=>m.jsx(ZD,{className:Te("grid gap-2",t),...e,ref:n}));JD.displayName=ZD.displayName;const eO=g.forwardRef(({className:t,...e},n)=>m.jsx(YD,{ref:n,className:Te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(o8,{className:"flex items-center justify-center",children:m.jsx(N3,{className:"h-2.5 w-2.5 fill-current text-current"})})}));eO.displayName=YD.displayName;const p1=[{id:"ghost1",url:"https://api.dicebear.com/7.x/bottts/svg?seed=ghost1&backgroundColor=b71cff",label:"Ghost 1"},{id:"ghost2",url:"https://api.dicebear.com/7.x/bottts/svg?seed=ghost2&backgroundColor=5dfdff",label:"Ghost 2"},{id:"ghost3",url:"https://api.dicebear.com/7.x/bottts/svg?seed=ghost3&backgroundColor=ff5d5d",label:"Ghost 3"},{id:"hunter1",url:"https://api.dicebear.com/7.x/bottts/svg?seed=hunter1&backgroundColor=22c55e",label:"Hunter 1"},{id:"hunter2",url:"https://api.dicebear.com/7.x/bottts/svg?seed=hunter2&backgroundColor=eab308",label:"Hunter 2"},{id:"hunter3",url:"https://api.dicebear.com/7.x/bottts/svg?seed=hunter3&backgroundColor=f97316",label:"Hunter 3"}];function a8({onSave:t}){const{displayName:e,photoUrl:n,setUser:r,userId:s}=fo(),[i,o]=g.useState(e||""),[a,l]=g.useState(n||p1[0].url),[u,d]=g.useState(!1),{toast:h}=gP(),p=()=>{if(i.trim().length<3){h({title:"Invalid Name",description:"Display name must be at least 3 characters.",variant:"destructive"});return}r(s,i.trim(),a),t==null||t(i.trim(),a),d(!0),h({title:"Profile Updated",description:"Your hunter profile has been saved."}),setTimeout(()=>d(!1),2e3)};return m.jsxs("div",{className:"space-y-6","data-testid":"profile-editor",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(JP,{className:"w-5 h-5"}),"Hunter Profile"]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(Ac,{className:"w-20 h-20 border-2 border-accent",children:[m.jsx(Pc,{src:a,alt:"Profile"}),m.jsx(Rc,{className:"bg-primary/20 text-accent font-orbitron",children:i.slice(0,2).toUpperCase()||"GH"})]}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"text-foreground font-orbitron text-lg",children:i||"Ghost Hunter"}),m.jsxs("p",{className:"text-xs text-muted-foreground font-jetbrains",children:["ID: ",s||"Not authenticated"]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Md,{htmlFor:"display-name",className:"text-sm font-jetbrains text-primary",children:"Display Name"}),m.jsx(Bv,{id:"display-name",value:i,onChange:v=>o(v.target.value),placeholder:"Enter your hunter name",className:"bg-background/50 border-primary focus:border-accent text-foreground font-jetbrains","data-testid":"input-display-name"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Md,{className:"text-sm font-jetbrains text-primary",children:"Select Avatar"}),m.jsx(JD,{value:a,onValueChange:l,className:"grid grid-cols-3 gap-3",children:p1.map(v=>m.jsxs("div",{className:"relative",children:[m.jsx(eO,{value:v.url,id:v.id,className:"peer sr-only"}),m.jsxs(Md,{htmlFor:v.id,className:`flex flex-col items-center p-2 rounded-lg border-2 cursor-pointer transition-all ${a===v.url?"border-accent bg-accent/10":"border-primary/30 hover:border-primary bg-background/30"}`,"data-testid":`avatar-option-${v.id}`,children:[m.jsxs(Ac,{className:"w-12 h-12 mb-1",children:[m.jsx(Pc,{src:v.url,alt:v.label}),m.jsx(Rc,{children:v.label.slice(0,2)})]}),m.jsx("span",{className:"text-xs font-jetbrains text-muted-foreground",children:v.label})]})]},v.id))})]}),m.jsx(_r,{onClick:p,className:"w-full font-orbitron uppercase tracking-wider","data-testid":"button-save-profile",children:u?m.jsxs(m.Fragment,{children:[m.jsx(Iv,{className:"w-4 h-4 mr-2"}),"Saved!"]}):m.jsxs(m.Fragment,{children:[m.jsx(j3,{className:"w-4 h-4 mr-2"}),"Save Profile"]})})]})]})}const l8="/PhasmophobiaBroadsHeadQuarters/",c8={Bleasdale:"bleasdale_1764775134033.jpg",Brownstone:"brownstone_1764775134033.jpg"};function _m(t){const e=c8[t];return e?`${l8}assets/${e}`:null}function u8({currentMap:t,onMapChange:e}){const[n,r]=g.useState(t||""),s=Object.keys(kl).sort(),i=l=>{r(l),e==null||e(l)},o=n?kl[n]:null,a=n?_m(n):null;return m.jsxs("div",{className:"space-y-4","data-testid":"map-display",children:[m.jsxs("h3",{className:"text-lg font-orbitron text-accent text-glow-cyan flex items-center gap-2",children:[m.jsx(rm,{className:"w-5 h-5"}),"Investigation Location"]}),m.jsxs(sD,{value:n,onValueChange:i,children:[m.jsx(Jv,{className:"bg-background/50 border-primary font-jetbrains hover:border-accent transition-colors","data-testid":"select-map",children:m.jsx(iD,{placeholder:"Select investigation location"})}),m.jsx(e_,{className:"bg-card border-primary max-h-[300px]",children:s.map(l=>m.jsx(t_,{value:l,className:"font-jetbrains hover:bg-accent/10",children:m.jsxs("div",{className:"flex items-center gap-2",children:[_m(l)&&m.jsx("div",{className:"w-6 h-6 rounded overflow-hidden border border-accent/30",children:m.jsx("img",{src:_m(l),alt:kl[l].name,className:"w-full h-full object-cover"})}),m.jsxs("span",{children:[kl[l].name," (",kl[l].size,")"]})]})},l))})]}),m.jsx(Df,{className:"overflow-hidden border-accent bg-background/50",style:{boxShadow:"0 0 12px hsl(187 100% 66% / 0.3)"},children:m.jsx("div",{className:"aspect-video relative overflow-hidden",children:o?m.jsxs(m.Fragment,{children:[a?m.jsx("img",{src:a,alt:o.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-accent/10 flex items-center justify-center",children:m.jsx(rm,{className:"w-16 h-16 text-accent/30"})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent"}),m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-background to-transparent",children:[m.jsx("p",{className:"font-orbitron text-accent text-lg text-glow-cyan",children:o.name}),m.jsxs("p",{className:"font-jetbrains text-xs text-muted-foreground",children:["Size: ",o.size]})]})]}):m.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-accent/10 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(rm,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-2"}),m.jsx("p",{className:"text-muted-foreground font-jetbrains text-sm",children:"Select a location"})]})})})})]})}const d8=()=>{};var m1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},h8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},nO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(p=64)),r.push(n[d],n[h],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new f8;const p=i<<2|a>>4;if(r.push(p),u!==64){const v=a<<4&240|u>>2;if(r.push(v),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p8=function(t){const e=tO(t);return nO.encodeByteArray(e,!0)},Vh=function(t){return p8(t).replace(/\./g,"")},rO=function(t){try{return nO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=()=>m8().__FIREBASE_DEFAULTS__,y8=()=>{if(typeof process>"u"||typeof m1>"u")return;const t=m1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rO(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return d8()||g8()||y8()||v8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sO=t=>{var e,n;return(n=(e=Bf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_8=t=>{const e=sO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iO=()=>{var t;return(t=Bf())==null?void 0:t.config},oO=t=>{var e;return(e=Bf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vh(JSON.stringify(n)),Vh(JSON.stringify(o)),""].join(".")}const ec={};function T8(){const t={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?t.emulator.push(e):t.prod.push(e);return t}function S8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let g1=!1;function lO(t,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||ec[t]===e||ec[t]||g1)return;ec[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=T8().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{g1=!0,o()},p}function d(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=S8(r),v=n("text"),b=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),S=document.getElementById(_)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(S,_);const k=u();l(w,E),T.append(w,b,S,k),document.body.appendChild(T)}i?(b.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function b8(){var e;const t=(e=Bf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P8(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function R8(){return!b8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N8(){try{return typeof indexedDB=="object"}catch{return!1}}function k8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D8,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?O8(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ds(s,a,r)}}function O8(t,e){return t.replace(M8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const M8=/\{\$([^}]+)}/g;function L8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(y1(i)&&y1(o)){if(!so(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function y1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function V8(t,e){const n=new j8(t,e);return n.subscribe.bind(n)}class j8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F8(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wm),s.error===void 0&&(s.error=wm),s.complete===void 0&&(s.complete=wm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($8(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z8(t){return t===Ri?void 0:t}function $8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const H8={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},q8=xe.INFO,W8={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},G8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=W8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l_{constructor(e){this.name=e,this._logLevel=q8,this._logHandler=G8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const K8=(t,e)=>e.some(n=>t instanceof n);let v1,_1;function Q8(){return v1||(v1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X8(){return _1||(_1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cO=new WeakMap,Yg=new WeakMap,uO=new WeakMap,Em=new WeakMap,c_=new WeakMap;function Z8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ks(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cO.set(n,t)}).catch(()=>{}),c_.set(e,t),e}function Y8(t){if(Yg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Yg.set(t,e)}let Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J8(t){Jg=t(Jg)}function e7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tm(this),e,...n);return uO.set(r,e.sort?e.sort():[e]),Ks(r)}:X8().includes(t)?function(...e){return t.apply(Tm(this),e),Ks(cO.get(this))}:function(...e){return Ks(t.apply(Tm(this),e))}}function t7(t){return typeof t=="function"?e7(t):(t instanceof IDBTransaction&&Y8(t),K8(t,Q8())?new Proxy(t,Jg):t)}function Ks(t){if(t instanceof IDBRequest)return Z8(t);if(Em.has(t))return Em.get(t);const e=t7(t);return e!==t&&(Em.set(t,e),c_.set(e,t)),e}const Tm=t=>c_.get(t);function n7(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ks(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ks(o.result),l.oldVersion,l.newVersion,Ks(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const r7=["get","getKey","getAll","getAllKeys","count"],s7=["put","add","delete","clear"],Sm=new Map;function w1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=s7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||r7.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Sm.set(e,i),i}J8(t=>({...t,get:(e,n,r)=>w1(e,n)||t.get(e,n,r),has:(e,n)=>!!w1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ey="@firebase/app",E1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new l_("@firebase/app"),a7="@firebase/app-compat",l7="@firebase/analytics-compat",c7="@firebase/analytics",u7="@firebase/app-check-compat",d7="@firebase/app-check",h7="@firebase/auth",f7="@firebase/auth-compat",p7="@firebase/database",m7="@firebase/data-connect",g7="@firebase/database-compat",y7="@firebase/functions",v7="@firebase/functions-compat",_7="@firebase/installations",w7="@firebase/installations-compat",E7="@firebase/messaging",T7="@firebase/messaging-compat",S7="@firebase/performance",x7="@firebase/performance-compat",b7="@firebase/remote-config",I7="@firebase/remote-config-compat",C7="@firebase/storage",A7="@firebase/storage-compat",P7="@firebase/firestore",R7="@firebase/ai",N7="@firebase/firestore-compat",k7="firebase",D7="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="[DEFAULT]",O7={[ey]:"fire-core",[a7]:"fire-core-compat",[c7]:"fire-analytics",[l7]:"fire-analytics-compat",[d7]:"fire-app-check",[u7]:"fire-app-check-compat",[h7]:"fire-auth",[f7]:"fire-auth-compat",[p7]:"fire-rtdb",[m7]:"fire-data-connect",[g7]:"fire-rtdb-compat",[y7]:"fire-fn",[v7]:"fire-fn-compat",[_7]:"fire-iid",[w7]:"fire-iid-compat",[E7]:"fire-fcm",[T7]:"fire-fcm-compat",[S7]:"fire-perf",[x7]:"fire-perf-compat",[b7]:"fire-rc",[I7]:"fire-rc-compat",[C7]:"fire-gcs",[A7]:"fire-gcs-compat",[P7]:"fire-fst",[N7]:"fire-fst-compat",[R7]:"fire-vertex","fire-js":"fire-js",[k7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,M7=new Map,ny=new Map;function T1(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ma(t){const e=t.name;if(ny.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,t);for(const n of jh.values())T1(n,t);for(const n of M7.values())T1(n,t);return!0}function u_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new yu("app","Firebase",L7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=D7;function dO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ty,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Qs.create("bad-app-name",{appName:String(s)});if(n||(n=iO()),!n)throw Qs.create("no-options");const i=jh.get(s);if(i){if(so(n,i.options)&&so(r,i.config))return i;throw Qs.create("duplicate-app",{appName:s})}const o=new B8(s);for(const l of ny.values())o.addComponent(l);const a=new V7(n,r,o);return jh.set(s,a),a}function hO(t=ty){const e=jh.get(t);if(!e&&t===ty&&iO())return dO();if(!e)throw Qs.create("no-app",{appName:t});return e}function Xs(t,e,n){let r=O7[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(o.join(" "));return}Ma(new io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7="firebase-heartbeat-database",F7=1,Hc="firebase-heartbeat-store";let xm=null;function fO(){return xm||(xm=n7(j7,F7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),xm}async function U7(t){try{const n=(await fO()).transaction(Hc),r=await n.objectStore(Hc).get(pO(t));return await n.done,r}catch(e){if(e instanceof ds)is.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(n.message)}}}async function S1(t,e){try{const r=(await fO()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,pO(t)),await r.done}catch(n){if(n instanceof ds)is.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});is.warn(r.message)}}}function pO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=1024,$7=30;class B7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=x1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>$7){const o=W7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x1(),{heartbeatsToSend:r,unsentEntries:s}=H7(this._heartbeatsCache.heartbeats),i=Vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return is.warn(n),""}}}function x1(){return new Date().toISOString().substring(0,10)}function H7(t,e=z7){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),b1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),b1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class q7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N8()?k8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function b1(t){return Vh(JSON.stringify({version:2,heartbeats:t})).length}function W7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t){Ma(new io("platform-logger",e=>new i7(e),"PRIVATE")),Ma(new io("heartbeat",e=>new B7(e),"PRIVATE")),Xs(ey,E1,t),Xs(ey,E1,"esm2020"),Xs("fire-js","")}G7("");var K7="firebase",Q7="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(K7,Q7,"app");function mO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X7=mO,gO=new yu("auth","Firebase",mO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new l_("@firebase/auth");function Z7(t,...e){Fh.logLevel<=xe.WARN&&Fh.warn(`Auth (${Ya}): ${t}`,...e)}function Ld(t,...e){Fh.logLevel<=xe.ERROR&&Fh.error(`Auth (${Ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,...e){throw d_(t,...e)}function xr(t,...e){return d_(t,...e)}function yO(t,e,n){const r={...X7(),[e]:n};return new yu("auth","Firebase",r).create(e,{appName:t.name})}function Zs(t){return yO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gO.create(t,...e)}function ue(t,e,...n){if(!t)throw d_(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ld(e),new Error(e)}function as(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Y7(){return I1()==="http:"||I1()==="https:"}function I1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y7()||C8()||"connection"in navigator)?navigator.onLine:!0}function eH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,as(n>e,"Short delay should be less than long delay!"),this.isMobile=x8()||A8()}get(){return J7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){as(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rH=new _u(3e4,6e4);function Hf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ja(t,e,n,r,s={}){return _O(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=vu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return I8()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Za(t.emulatorConfig.host)&&(u.credentials="include"),vO.fetch()(await EO(t,t.config.apiHost,n,a),u)})}async function _O(t,e,n){t._canInitEmulator=!1;const r={...tH,...e};try{const s=new sH(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yO(t,d,u);os(t,d)}}catch(s){if(s instanceof ds)throw s;os(t,"network-request-failed",{message:String(s)})}}async function wO(t,e,n,r,s={}){const i=await Ja(t,e,n,r,s);return"mfaPendingCredential"in i&&os(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function EO(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?h_(t.config,s):`${t.config.apiScheme}://${s}`;return nH.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class sH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),rH.get())})}}function hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=xr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iH(t,e){return Ja(t,"POST","/v1/accounts:delete",e)}async function Uh(t,e){return Ja(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oH(t,e=!1){const n=gn(t),r=await n.getIdToken(e),s=f_(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:tc(bm(s.auth_time)),issuedAtTime:tc(bm(s.iat)),expirationTime:tc(bm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function bm(t){return Number(t)*1e3}function f_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{const s=rO(n);return s?JSON.parse(s):(Ld("Failed to decode base64 JWT payload"),null)}catch(s){return Ld("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function C1(t){const e=f_(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ds&&aH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await qc(t,Uh(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?TO(s.providerUserInfo):[],o=uH(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new sy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function cH(t){const e=gn(t);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function TO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dH(t,e){const n=await _O(t,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await EO(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Za(t.emulatorConfig.host)&&(l.credentials="include"),vO.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hH(t,e){return Ja(t,"POST","/v2/accounts:revokeToken",Hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=C1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await dH(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new sa;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new lH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qc(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oH(this,e)}reload(){return cH(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await qc(this,iH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:v,providerData:b,stsTokenManager:_}=n;ue(h&&_,e,"internal-error");const S=sa.fromJSON(this.name,_);ue(typeof h=="string",e,"internal-error"),Es(r,e.name),Es(s,e.name),ue(typeof p=="boolean",e,"internal-error"),ue(typeof v=="boolean",e,"internal-error"),Es(i,e.name),Es(o,e.name),Es(a,e.name),Es(l,e.name),Es(u,e.name),Es(d,e.name);const E=new Xn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:u,lastLoginAt:d});return b&&Array.isArray(b)&&(E.providerData=b.map(w=>({...w}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new sa;s.updateFromServerResponse(n);const i=new Xn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?TO(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new sa;a.updateFromIdToken(r);const l=new Xn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new sy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Map;function Xr(t){as(t instanceof Function,"Expected a class definition");let e=A1.get(t);return e?(as(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SO.type="NONE";const P1=SO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t,e,n){return`firebase:${t}:${e}:${n}`}class ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Vd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Vd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ia(Xr(P1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Xr(P1);const o=Vd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await Uh(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Xn._fromGetAccountInfoResponse(e,p,d)}else h=Xn._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ia(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ia(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PO(e))return"Blackberry";if(RO(e))return"Webos";if(bO(e))return"Safari";if((e.includes("chrome/")||IO(e))&&!e.includes("edge/"))return"Chrome";if(AO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xO(t=Qt()){return/firefox\//i.test(t)}function bO(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IO(t=Qt()){return/crios\//i.test(t)}function CO(t=Qt()){return/iemobile/i.test(t)}function AO(t=Qt()){return/android/i.test(t)}function PO(t=Qt()){return/blackberry/i.test(t)}function RO(t=Qt()){return/webos/i.test(t)}function p_(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fH(t=Qt()){var e;return p_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function pH(){return P8()&&document.documentMode===10}function NO(t=Qt()){return p_(t)||AO(t)||RO(t)||PO(t)||/windows phone/i.test(t)||CO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e=[]){let n;switch(t){case"Browser":n=R1(Qt());break;case"Worker":n=`${R1(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gH(t,e={}){return Ja(t,"GET","/v2/passwordPolicy",Hf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH=6;class vH{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yH,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N1(this),this.idTokenSubscription=new N1(this),this.beforeStateQueue=new mH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Zs(this));const n=e?gn(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gH(this),n=new vH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Z7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qf(t){return gn(t)}class N1{constructor(e){this.auth=e,this.observer=null,this.addObserver=V8(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wH(t){m_=t}function EH(t){return m_.loadJS(t)}function TH(){return m_.gapiScript}function SH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(t,e){const n=u_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(so(i,e??{}))return s;os(s,"already-initialized")}return n.initialize({options:e})}function bH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IH(t,e,n){const r=qf(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=DO(e),{host:o,port:a}=CH(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(so(u,r.config.emulator)&&so(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Za(o)?(aO(`${i}//${o}${l}`),lO("Auth",!0)):AH()}function DO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CH(t){const e=DO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:k1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:k1(o)}}}function k1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e){return wO(t,"POST","/v1/accounts:signInWithIdp",Hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="http://localhost";class oo extends OO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new oo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oa(e,n)}buildRequest(){const e={requestUri:PH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends MO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends wu{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends wu{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends wu{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t,e){return wO(t,"POST","/v1/accounts:signUp",Hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xn._fromIdTokenResponse(e,r,s),o=D1(r);return new ci({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=D1(r);return new ci({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function D1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NH(t){var s;if(Kn(t.app))return Promise.reject(Zs(t));const e=qf(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new ci({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await RH(e,{returnSecureToken:!0}),r=await ci._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends ds{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $h(e,n,r,s)}}function LO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,i,e,r):i})}async function kH(t,e,n=!1){const r=await qc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ci._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DH(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(Zs(r));const s="reauthenticate";try{const i=await qc(t,LO(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=f_(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),ci._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&os(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OH(t,e,n=!1){if(Kn(t.app))return Promise.reject(Zs(t));const r="signIn",s=await LO(t,r,e),i=await ci._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function MH(t,e,n,r){return gn(t).onIdTokenChanged(e,n,r)}function LH(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function VH(t,e,n,r){return gn(t).onAuthStateChanged(e,n,r)}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=1e3,FH=10;class jO extends VO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);pH()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,FH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jO.type="LOCAL";const UH=jO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO extends VO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FO.type="SESSION";const UO=FO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await zH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=g_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function BH(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function HH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function WH(){return zO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="firebaseLocalStorageDb",GH=1,Hh="firebaseLocalStorage",BO="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gf(t,e){return t.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function KH(){const t=indexedDB.deleteDatabase($O);return new Eu(t).toPromise()}function iy(){const t=indexedDB.open($O,GH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hh,{keyPath:BO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await KH(),e(await iy()))})})}async function O1(t,e,n){const r=Gf(t,!0).put({[BO]:e,value:n});return new Eu(r).toPromise()}async function QH(t,e){const n=Gf(t,!1).get(e),r=await new Eu(n).toPromise();return r===void 0?null:r.value}function M1(t,e){const n=Gf(t,!0).delete(e);return new Eu(n).toPromise()}const XH=800,ZH=3;class HO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(WH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await HH(),!this.activeServiceWorker)return;this.sender=new $H(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iy();return await O1(e,Bh,"1"),await M1(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>O1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Gf(s,!1).getAll();return new Eu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HO.type="LOCAL";const YH=HO;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t,e){return e?Xr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends OO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eq(t){return OH(t.auth,new y_(t),t.bypassAuthState)}function tq(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),DH(n,new y_(t),t.bypassAuthState)}async function nq(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),kH(n,new y_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eq;case"linkViaPopup":case"linkViaRedirect":return nq;case"reauthViaPopup":case"reauthViaRedirect":return tq;default:os(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=new _u(2e3,1e4);class qo extends qO{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=g_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rq.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq="pendingRedirect",jd=new Map;class iq extends qO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const r=await oq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oq(t,e){const n=cq(e),r=lq(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function aq(t,e){jd.set(t._key(),e)}function lq(t){return Xr(t._redirectPersistence)}function cq(t){return Vd(sq,t.config.apiKey,t.name)}async function uq(t,e,n=!1){if(Kn(t.app))return Promise.reject(Zs(t));const r=qf(t),s=JH(r,e),o=await new iq(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=10*60*1e3;class hq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WO(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(xr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dq&&this.cachedEventUids.clear(),this.cachedEventUids.has(L1(e))}saveEventToCache(e){this.cachedEventUids.add(L1(e)),this.lastProcessedEventTime=Date.now()}}function L1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pq(t,e={}){return Ja(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gq=/^https?/;async function yq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pq(t);for(const n of e)try{if(vq(n))return}catch{}os(t,"unauthorized-domain")}function vq(t){const e=ry(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gq.test(n))return!1;if(mq.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=new _u(3e4,6e4);function V1(){const t=br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wq(t){return new Promise((e,n)=>{var s,i,o;function r(){V1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V1(),n(xr(t,"network-request-failed"))},timeout:_q.get()})}if((i=(s=br().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=br().gapi)!=null&&o.load)r();else{const a=SH("iframefcb");return br()[a]=()=>{gapi.load?r():n(xr(t,"network-request-failed"))},EH(`${TH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fd=null,e})}let Fd=null;function Eq(t){return Fd=Fd||wq(t),Fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=new _u(5e3,15e3),Sq="__/auth/iframe",xq="emulator/auth/iframe",bq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cq(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h_(e,xq):`https://${t.config.authDomain}/${Sq}`,r={apiKey:e.apiKey,appName:t.name,v:Ya},s=Iq.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vu(r).slice(1)}`}async function Aq(t){const e=await Eq(t),n=br().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:Cq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bq,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=xr(t,"network-request-failed"),a=br().setTimeout(()=>{i(o)},Tq.get());function l(){br().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rq=500,Nq=600,kq="_blank",Dq="http://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Oq(t,e,n,r=Rq,s=Nq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Pq,width:r.toString(),height:s.toString(),top:i,left:o},u=Qt().toLowerCase();n&&(a=IO(u)?kq:n),xO(u)&&(e=e||Dq,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[v,b])=>`${p}${v}=${b},`,"");if(fH(u)&&a!=="_self")return Mq(e||"",a),new j1(null);const h=window.open(e||"",a,d);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new j1(h)}function Mq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq="__/auth/handler",Vq="emulator/auth/handler",jq=encodeURIComponent("fac");async function F1(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ya,eventId:s};if(e instanceof MO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",L8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof wu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${jq}=${encodeURIComponent(l)}`:"";return`${Fq(t)}?${vu(a).slice(1)}${u}`}function Fq({config:t}){return t.emulator?h_(t,Vq):`https://${t.authDomain}/${Lq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class Uq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UO,this._completeRedirectFn=uq,this._overrideRedirectResult=aq}async _openPopup(e,n,r,s){var o;as((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await F1(e,n,r,ry(),s);return Oq(e,i,g_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await F1(e,n,r,ry(),s);return BH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(as(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Aq(e),r=new hq(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Im];i!==void 0&&n(!!i),os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NO()||bO()||p_()}}const zq=Uq;var U1="@firebase/auth",z1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hq(t){Ma(new io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kO(t)},u=new _H(r,s,i,l);return bH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ma(new io("auth-internal",e=>{const n=qf(e.getProvider("auth").getImmediate());return(r=>new $q(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(U1,z1,Bq(t)),Xs(U1,z1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=5*60,Wq=oO("authIdTokenMaxAge")||qq;let $1=null;const Gq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wq)return;const s=n==null?void 0:n.token;$1!==s&&($1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Kq(t=hO()){const e=u_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xH(t,{popupRedirectResolver:zq,persistence:[YH,UH,UO]}),r=oO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Gq(i.toString());LH(n,o,()=>o(n.currentUser)),MH(n,a=>o(a))}}const s=sO("auth");return s&&IH(n,`http://${s}`),n}function Qq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}wH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=xr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Qq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hq("Browser");var B1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,GO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(P,N,D){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return x.prototype[N].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,x,C){C||(C=0);const P=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)P[N]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(N=0;N<16;++N)P[N]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],N=I.g[2];let D=I.g[3],R;R=x+(D^C&(N^D))+P[0]+3614090360&4294967295,x=C+(R<<7&4294967295|R>>>25),R=D+(N^x&(C^N))+P[1]+3905402710&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(C^D&(x^C))+P[2]+606105819&4294967295,N=D+(R<<17&4294967295|R>>>15),R=C+(x^N&(D^x))+P[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(D^C&(N^D))+P[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=D+(N^x&(C^N))+P[5]+1200080426&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(C^D&(x^C))+P[6]+2821735955&4294967295,N=D+(R<<17&4294967295|R>>>15),R=C+(x^N&(D^x))+P[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(D^C&(N^D))+P[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=D+(N^x&(C^N))+P[9]+2336552879&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(C^D&(x^C))+P[10]+4294925233&4294967295,N=D+(R<<17&4294967295|R>>>15),R=C+(x^N&(D^x))+P[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(D^C&(N^D))+P[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=D+(N^x&(C^N))+P[13]+4254626195&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(C^D&(x^C))+P[14]+2792965006&4294967295,N=D+(R<<17&4294967295|R>>>15),R=C+(x^N&(D^x))+P[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(N^D&(C^N))+P[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=D+(C^N&(x^C))+P[6]+3225465664&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(D^x))+P[11]+643717713&4294967295,N=D+(R<<14&4294967295|R>>>18),R=C+(D^x&(N^D))+P[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(N^D&(C^N))+P[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=D+(C^N&(x^C))+P[10]+38016083&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(D^x))+P[15]+3634488961&4294967295,N=D+(R<<14&4294967295|R>>>18),R=C+(D^x&(N^D))+P[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(N^D&(C^N))+P[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=D+(C^N&(x^C))+P[14]+3275163606&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(D^x))+P[3]+4107603335&4294967295,N=D+(R<<14&4294967295|R>>>18),R=C+(D^x&(N^D))+P[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(N^D&(C^N))+P[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=D+(C^N&(x^C))+P[2]+4243563512&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(D^x))+P[7]+1735328473&4294967295,N=D+(R<<14&4294967295|R>>>18),R=C+(D^x&(N^D))+P[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(C^N^D)+P[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=D+(x^C^N)+P[8]+2272392833&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^C)+P[11]+1839030562&4294967295,N=D+(R<<16&4294967295|R>>>16),R=C+(N^D^x)+P[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(C^N^D)+P[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=D+(x^C^N)+P[4]+1272893353&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^C)+P[7]+4139469664&4294967295,N=D+(R<<16&4294967295|R>>>16),R=C+(N^D^x)+P[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(C^N^D)+P[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=D+(x^C^N)+P[0]+3936430074&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^C)+P[3]+3572445317&4294967295,N=D+(R<<16&4294967295|R>>>16),R=C+(N^D^x)+P[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(C^N^D)+P[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=D+(x^C^N)+P[12]+3873151461&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^C)+P[15]+530742520&4294967295,N=D+(R<<16&4294967295|R>>>16),R=C+(N^D^x)+P[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(N^(C|~D))+P[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=D+(C^(x|~N))+P[7]+1126891415&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~C))+P[14]+2878612391&4294967295,N=D+(R<<15&4294967295|R>>>17),R=C+(D^(N|~x))+P[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=x+(N^(C|~D))+P[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=D+(C^(x|~N))+P[3]+2399980690&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~C))+P[10]+4293915773&4294967295,N=D+(R<<15&4294967295|R>>>17),R=C+(D^(N|~x))+P[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=x+(N^(C|~D))+P[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=D+(C^(x|~N))+P[15]+4264355552&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~C))+P[6]+2734768916&4294967295,N=D+(R<<15&4294967295|R>>>17),R=C+(D^(N|~x))+P[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=x+(N^(C|~D))+P[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=D+(C^(x|~N))+P[11]+3174756917&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~C))+P[2]+718787259&4294967295,N=D+(R<<15&4294967295|R>>>17),R=C+(D^(N|~x))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,P=this.C;let N=this.h,D=0;for(;D<x;){if(N==0)for(;D<=C;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<x;)if(P[N++]=I.charCodeAt(D++),N==this.blockSize){s(this,P),N=0;break}}else for(;D<x;)if(P[N++]=I[D++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)I[x++]=this.g[C]>>>P&255;return I};function i(I,x){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function o(I,x){this.h=x;const C=[];let P=!0;for(let N=I.length-1;N>=0;N--){const D=I[N]|0;P&&D==x||(C[N]=D,P=!1)}this.g=C}var a={};function l(I){return-128<=I&&I<128?i(I,function(x){return new o([x|0],x<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return S(u(-I));const x=[];let C=1;for(let P=0;I>=C;P++)x[P]=I/C|0,C*=4294967296;return new o(x,0)}function d(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return S(d(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(x,8));let P=h;for(let D=0;D<I.length;D+=8){var N=Math.min(8,I.length-D);const R=parseInt(I.substring(D,D+N),x);N<8?(N=u(Math.pow(x,N)),P=P.j(N).add(u(R))):(P=P.j(C),P=P.add(u(R)))}return P}var h=l(0),p=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);I+=(P>=0?P:4294967296+P)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(_(this))return"-"+S(this).toString(I);const x=u(Math.pow(I,6));var C=this;let P="";for(;;){const N=k(C,x).g;C=E(C,N.j(x));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,b(C))return D+P;for(;D.length<6;)D="0"+D;P=D+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=E(this,I),_(I)?-1:b(I)?0:1};function S(I){const x=I.g.length,C=[];for(let P=0;P<x;P++)C[P]=~I.g[P];return new o(C,~I.h).add(p)}t.abs=function(){return _(this)?S(this):this},t.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let P=0;for(let N=0;N<=x;N++){let D=P+(this.i(N)&65535)+(I.i(N)&65535),R=(D>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);P=R>>>16,D&=65535,R&=65535,C[N]=R<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(I,x){return I.add(S(x))}t.j=function(I){if(b(this)||b(I))return h;if(_(this))return _(I)?S(this).j(S(I)):S(S(this).j(I));if(_(I))return S(this.j(S(I)));if(this.l(v)<0&&I.l(v)<0)return u(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var P=0;P<2*x;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<I.g.length;N++){const D=this.i(P)>>>16,R=this.i(P)&65535,B=I.i(N)>>>16,ee=I.i(N)&65535;C[2*P+2*N]+=R*ee,w(C,2*P+2*N),C[2*P+2*N+1]+=D*ee,w(C,2*P+2*N+1),C[2*P+2*N+1]+=R*B,w(C,2*P+2*N+1),C[2*P+2*N+2]+=D*B,w(C,2*P+2*N+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new o(C,0)};function w(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function T(I,x){this.g=I,this.h=x}function k(I,x){if(b(x))throw Error("division by zero");if(b(I))return new T(h,h);if(_(I))return x=k(S(I),x),new T(S(x.g),S(x.h));if(_(x))return x=k(I,S(x)),new T(S(x.g),x.h);if(I.g.length>30){if(_(I)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var C=p,P=x;P.l(I)<=0;)C=O(C),P=O(P);var N=L(C,1),D=L(P,1);for(P=L(P,2),C=L(C,2);!b(P);){var R=D.add(P);R.l(I)<=0&&(N=N.add(C),D=R),P=L(P,1),C=L(C,1)}return x=E(I,N.j(x)),new T(N,x)}for(N=h;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),D=u(C),R=D.j(x);_(R)||R.l(I)>0;)C-=P,D=u(C),R=D.j(x);b(D)&&(D=p),N=N.add(D),I=E(I,R)}return new T(N,I)}t.B=function(I){return k(this,I).h},t.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<x;P++)C[P]=this.i(P)&I.i(P);return new o(C,this.h&I.h)},t.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<x;P++)C[P]=this.i(P)|I.i(P);return new o(C,this.h|I.h)},t.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<x;P++)C[P]=this.i(P)^I.i(P);return new o(C,this.h^I.h)};function O(I){const x=I.g.length+1,C=[];for(let P=0;P<x;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(C,I.h)}function L(I,x){const C=x>>5;x%=32;const P=I.g.length-C,N=[];for(let D=0;D<P;D++)N[D]=x>0?I.i(D+C)>>>x|I.i(D+C+1)<<32-x:I.i(D+C);return new o(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,GO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ys=o}).apply(typeof B1<"u"?B1:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KO,Ul,QO,Ud,oy,XO,ZO,YO;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var f=0;f<c.length;++f){var y=c[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var y=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var V=c[A];if(!(V in y))break e;y=y[V]}c=c[c.length-1],A=y[c],f=f(A),f!=A&&f!=null&&e(y,c,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(f){var y=[],A;for(A in f)Object.prototype.hasOwnProperty.call(f,A)&&y.push([A,f[A]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function l(c,f,y){return c.call.apply(c.bind,arguments)}function u(c,f,y){return u=l,u.apply(null,arguments)}function d(c,f){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function h(c,f){function y(){}y.prototype=f.prototype,c.Z=f.prototype,c.prototype=new y,c.prototype.constructor=c,c.Ob=function(A,V,j){for(var K=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)K[_e-2]=arguments[_e];return f.prototype[V].apply(A,K)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function v(c){const f=c.length;if(f>0){const y=Array(f);for(let A=0;A<f;A++)y[A]=c[A];return y}return[]}function b(c,f){for(let A=1;A<arguments.length;A++){const V=arguments[A];var y=typeof V;if(y=y!="object"?y:V?Array.isArray(V)?"array":y:"null",y=="array"||y=="object"&&typeof V.length=="number"){y=c.length||0;const j=V.length||0;c.length=y+j;for(let K=0;K<j;K++)c[y+K]=V[K]}else c.push(V)}}class _{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function S(c){o.setTimeout(()=>{throw c},0)}function E(){var c=I;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class w{constructor(){this.h=this.g=null}add(f,y){const A=T.get();A.set(f,y),this.h?this.h.next=A:this.g=A,this.h=A}}var T=new _(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let O,L=!1,I=new w,x=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(C)}};function C(){for(var c;c=E();){try{c.h.call(c.g)}catch(y){S(y)}var f=T;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}L=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};o.addEventListener("test",y,f),o.removeEventListener("test",y,f)}catch{}return c}();function R(c){return/^[\s\xa0]*$/.test(c)}function B(c,f){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}h(B,N),B.prototype.init=function(c,f){const y=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(y=="mouseover"?f=c.fromElement:y=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),te=0;function pe(c,f,y,A,V){this.listener=c,this.proxy=null,this.src=f,this.type=y,this.capture=!!A,this.ha=V,this.key=++te,this.da=this.fa=!1}function F(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function G(c,f,y){for(const A in c)f.call(y,c[A],A,c)}function ne(c,f){for(const y in c)f.call(void 0,c[y],y,c)}function de(c){const f={};for(const y in c)f[y]=c[y];return f}const ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(c,f){let y,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(y in A)c[y]=A[y];for(let j=0;j<ke.length;j++)y=ke[j],Object.prototype.hasOwnProperty.call(A,y)&&(c[y]=A[y])}}function Qe(c){this.src=c,this.g={},this.h=0}Qe.prototype.add=function(c,f,y,A,V){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const K=yt(c,f,A,V);return K>-1?(f=c[K],y||(f.fa=!1)):(f=new pe(f,this.src,j,!!A,V),f.fa=y,c.push(f)),f};function ln(c,f){const y=f.type;if(y in c.g){var A=c.g[y],V=Array.prototype.indexOf.call(A,f,void 0),j;(j=V>=0)&&Array.prototype.splice.call(A,V,1),j&&(F(f),c.g[y].length==0&&(delete c.g[y],c.h--))}}function yt(c,f,y,A){for(let V=0;V<c.length;++V){const j=c[V];if(!j.da&&j.listener==f&&j.capture==!!y&&j.ha==A)return V}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),Ve={};function vt(c,f,y,A,V){if(Array.isArray(f)){for(let j=0;j<f.length;j++)vt(c,f[j],y,A,V);return null}return y=Cu(y),c&&c[ee]?c.J(f,y,a(A)?!!A.capture:!!A,V):Ue(c,f,y,!1,A,V)}function Ue(c,f,y,A,V,j){if(!f)throw Error("Invalid event type");const K=a(V)?!!V.capture:!!V;let _e=Fr(c);if(_e||(c[oe]=_e=new Qe(c)),y=_e.add(f,y,A,K,j),y.proxy)return y;if(A=Oe(),y.proxy=A,A.src=c,A.listener=y,c.addEventListener)D||(V=K),V===void 0&&(V=!1),c.addEventListener(f.toString(),A,V);else if(c.attachEvent)c.attachEvent(yn(f.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Oe(){function c(y){return f.call(c.src,c.listener,y)}const f=Ti;return c}function De(c,f,y,A,V){if(Array.isArray(f))for(var j=0;j<f.length;j++)De(c,f[j],y,A,V);else A=a(A)?!!A.capture:!!A,y=Cu(y),c&&c[ee]?(c=c.i,j=String(f).toString(),j in c.g&&(f=c.g[j],y=yt(f,y,A,V),y>-1&&(F(f[y]),Array.prototype.splice.call(f,y,1),f.length==0&&(delete c.g[j],c.h--)))):c&&(c=Fr(c))&&(f=c.g[f.toString()],c=-1,f&&(c=yt(f,y,A,V)),(y=c>-1?f[c]:null)&&Nt(y))}function Nt(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[ee])ln(f.i,c);else{var y=c.type,A=c.proxy;f.removeEventListener?f.removeEventListener(y,A,c.capture):f.detachEvent?f.detachEvent(yn(y),A):f.addListener&&f.removeListener&&f.removeListener(A),(y=Fr(f))?(ln(y,c),y.h==0&&(y.src=null,f[oe]=null)):F(c)}}}function yn(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function Ti(c,f){if(c.da)c=!0;else{f=new B(f,this);const y=c.listener,A=c.ha||c.src;c.fa&&Nt(c),c=y.call(A,f)}return c}function Fr(c){return c=c[oe],c instanceof Qe?c:null}var Ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cu(c){return typeof c=="function"?c:(c[Ur]||(c[Ur]=function(f){return c.handleEvent(f)}),c[Ur])}function at(){P.call(this),this.i=new Qe(this),this.M=this,this.G=null}h(at,P),at.prototype[ee]=!0,at.prototype.removeEventListener=function(c,f,y,A){De(this,c,f,y,A)};function Xt(c,f){var y,A=c.G;if(A)for(y=[];A;A=A.G)y.push(A);if(c=c.M,A=f.type||f,typeof f=="string")f=new N(f,c);else if(f instanceof N)f.target=f.target||c;else{var V=f;f=new N(A,c),xt(f,V)}V=!0;let j,K;if(y)for(K=y.length-1;K>=0;K--)j=f.g=y[K],V=Au(j,A,!0,f)&&V;if(j=f.g=c,V=Au(j,A,!0,f)&&V,V=Au(j,A,!1,f)&&V,y)for(K=0;K<y.length;K++)j=f.g=y[K],V=Au(j,A,!1,f)&&V}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const y=c.g[f];for(let A=0;A<y.length;A++)F(y[A]);delete c.g[f],c.h--}}this.G=null},at.prototype.J=function(c,f,y,A){return this.i.add(String(c),f,!1,y,A)},at.prototype.K=function(c,f,y,A){return this.i.add(String(c),f,!0,y,A)};function Au(c,f,y,A){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let V=!0;for(let j=0;j<f.length;++j){const K=f[j];if(K&&!K.da&&K.capture==y){const _e=K.listener,_t=K.ha||K.src;K.fa&&ln(c.i,K),V=_e.call(_t,A)!==!1&&V}}return V&&!A.defaultPrevented}function RL(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(c,f||0)}function iw(c){c.g=RL(()=>{c.g=null,c.i&&(c.i=!1,iw(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class NL extends P{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:iw(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(c){P.call(this),this.h=c,this.g={}}h(ol,P);var ow=[];function aw(c){G(c.g,function(f,y){this.g.hasOwnProperty(y)&&Nt(f)},c),c.g={}}ol.prototype.N=function(){ol.Z.N.call(this),aw(this)},ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lp=o.JSON.stringify,kL=o.JSON.parse,DL=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function lw(){}function cw(){}var al={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cp(){N.call(this,"d")}h(cp,N);function up(){N.call(this,"c")}h(up,N);var Si={},uw=null;function Pu(){return uw=uw||new at}Si.Ia="serverreachability";function dw(c){N.call(this,Si.Ia,c)}h(dw,N);function ll(c){const f=Pu();Xt(f,new dw(f))}Si.STAT_EVENT="statevent";function hw(c,f){N.call(this,Si.STAT_EVENT,c),this.stat=f}h(hw,N);function Zt(c){const f=Pu();Xt(f,new hw(f,c))}Si.Ja="timingevent";function fw(c,f){N.call(this,Si.Ja,c),this.size=f}h(fw,N);function cl(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},f)}function ul(){this.g=!0}ul.prototype.ua=function(){this.g=!1};function OL(c,f,y,A,V,j){c.info(function(){if(c.g)if(j){var K="",_e=j.split("&");for(let ze=0;ze<_e.length;ze++){var _t=_e[ze].split("=");if(_t.length>1){const bt=_t[0];_t=_t[1];const ur=bt.split("_");K=ur.length>=2&&ur[1]=="type"?K+(bt+"="+_t+"&"):K+(bt+"=redacted&")}}}else K=null;else K=j;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+f+`
`+y+`
`+K})}function ML(c,f,y,A,V,j,K){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+f+`
`+y+`
`+j+" "+K})}function vo(c,f,y,A){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+VL(c,y)+(A?" "+A:"")})}function LL(c,f){c.info(function(){return"TIMEOUT: "+f})}ul.prototype.info=function(){};function VL(c,f){if(!c.g)return f;if(!f)return null;try{const j=JSON.parse(f);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var y=j[c];if(!(y.length<2)){var A=y[1];if(Array.isArray(A)&&!(A.length<1)){var V=A[0];if(V!="noop"&&V!="stop"&&V!="close")for(let K=1;K<A.length;K++)A[K]=""}}}}return lp(j)}catch{return f}}var Ru={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pw={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mw;function dp(){}h(dp,lw),dp.prototype.g=function(){return new XMLHttpRequest},mw=new dp;function dl(c){return encodeURIComponent(String(c))}function jL(c){var f=1;c=c.split(":");const y=[];for(;f>0&&c.length;)y.push(c.shift()),f--;return c.length&&y.push(c.join(":")),y}function hs(c,f,y,A){this.j=c,this.i=f,this.l=y,this.S=A||1,this.V=new ol(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gw}function gw(){this.i=null,this.g="",this.h=!1}var yw={},hp={};function fp(c,f,y){c.M=1,c.A=ku(cr(f)),c.u=y,c.R=!0,vw(c,null)}function vw(c,f){c.F=Date.now(),Nu(c),c.B=cr(c.A);var y=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Nw(y.i,"t",A),c.C=0,y=c.j.L,c.h=new gw,c.g=Qw(c.j,y?f:null,!c.u),c.P>0&&(c.O=new NL(u(c.Y,c,c.g),c.P)),f=c.V,y=c.g,A=c.ba;var V="readystatechange";Array.isArray(V)||(V&&(ow[0]=V.toString()),V=ow);for(let j=0;j<V.length;j++){const K=vt(y,V[j],A||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=c.J?de(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),ll(),OL(c.i,c.v,c.B,c.l,c.S,c.u)}hs.prototype.ba=function(c){c=c.target;const f=this.O;f&&ms(c)==3?f.j():this.Y(c)},hs.prototype.Y=function(c){try{if(c==this.g)e:{const _e=ms(this.g),_t=this.g.ya(),ze=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||jw(this.g)))){this.K||_e!=4||_t==7||(_t==8||ze<=0?ll(3):ll(2)),pp(this);var f=this.g.ca();this.X=f;var y=FL(this);if(this.o=f==200,ML(this.i,this.v,this.B,this.l,this.S,_e,f),this.o){if(this.U&&!this.L){t:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var j=A;break t}}j=null}if(c=j)vo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mp(this,c);else{this.o=!1,this.m=3,Zt(12),xi(this),hl(this);break e}}if(this.R){c=!0;let bt;for(;!this.K&&this.C<y.length;)if(bt=UL(this,y),bt==hp){_e==4&&(this.m=4,Zt(14),c=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==yw){this.m=4,Zt(15),vo(this.i,this.l,y,"[Invalid Chunk]"),c=!1;break}else vo(this.i,this.l,bt,null),mp(this,bt);if(_w(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||y.length!=0||this.h.h||(this.m=1,Zt(16),c=!1),this.o=this.o&&c,!c)vo(this.i,this.l,y,"[Invalid Chunked Response]"),xi(this),hl(this);else if(y.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Sp(K),K.P=!0,Zt(11))}}else vo(this.i,this.l,y,null),mp(this,y);_e==4&&xi(this),this.o&&!this.K&&(_e==4?qw(this.j,this):(this.o=!1,Nu(this)))}else eV(this.g),f==400&&y.indexOf("Unknown SID")>0?(this.m=3,Zt(12)):(this.m=0,Zt(13)),xi(this),hl(this)}}}catch{}finally{}};function FL(c){if(!_w(c))return c.g.la();const f=jw(c.g);if(f==="")return"";let y="";const A=f.length,V=ms(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return xi(c),hl(c),"";c.h.i=new o.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,y+=c.h.i.decode(f[j],{stream:!(V&&j==A-1)});return f.length=0,c.h.g+=y,c.C=0,c.h.g}function _w(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function UL(c,f){var y=c.C,A=f.indexOf(`
`,y);return A==-1?hp:(y=Number(f.substring(y,A)),isNaN(y)?yw:(A+=1,A+y>f.length?hp:(f=f.slice(A,A+y),c.C=A+y,f)))}hs.prototype.cancel=function(){this.K=!0,xi(this)};function Nu(c){c.T=Date.now()+c.H,ww(c,c.H)}function ww(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=cl(u(c.aa,c),f)}function pp(c){c.D&&(o.clearTimeout(c.D),c.D=null)}hs.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(LL(this.i,this.B),this.M!=2&&(ll(),Zt(17)),xi(this),this.m=2,hl(this)):ww(this,this.T-c)};function hl(c){c.j.I==0||c.K||qw(c.j,c)}function xi(c){pp(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,aw(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function mp(c,f){try{var y=c.j;if(y.I!=0&&(y.g==c||gp(y.h,c))){if(!c.L&&gp(y.h,c)&&y.I==3){try{var A=y.Ba.g.parse(f)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<c.F)Vu(y),Mu(y);else break e;Tp(y),Zt(18)}}else y.xa=V[1],0<y.xa-y.K&&V[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=cl(u(y.Va,y),6e3));Sw(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ii(y,11)}else if((c.L||y.g==c)&&Vu(y),!R(f))for(V=y.Ba.g.parse(f),f=0;f<V.length;f++){let ze=V[f];const bt=ze[0];if(!(bt<=y.K))if(y.K=bt,ze=ze[1],y.I==2)if(ze[0]=="c"){y.M=ze[1],y.ba=ze[2];const ur=ze[3];ur!=null&&(y.ka=ur,y.j.info("VER="+y.ka));const Ci=ze[4];Ci!=null&&(y.za=Ci,y.j.info("SVER="+y.za));const gs=ze[5];gs!=null&&typeof gs=="number"&&gs>0&&(A=1.5*gs,y.O=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const ys=c.g;if(ys){const Fu=ys.g?ys.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fu){var j=A.h;j.g||Fu.indexOf("spdy")==-1&&Fu.indexOf("quic")==-1&&Fu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(yp(j,j.h),j.h=null))}if(A.G){const xp=ys.g?ys.g.getResponseHeader("X-HTTP-Session-Id"):null;xp&&(A.wa=xp,He(A.J,A.G,xp))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-c.F,y.j.info("Handshake RTT: "+y.T+"ms")),A=y;var K=c;if(A.na=Kw(A,A.L?A.ba:null,A.W),K.L){xw(A.h,K);var _e=K,_t=A.O;_t&&(_e.H=_t),_e.D&&(pp(_e),Nu(_e)),A.g=K}else Bw(A);y.i.length>0&&Lu(y)}else ze[0]!="stop"&&ze[0]!="close"||Ii(y,7);else y.I==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Ii(y,7):Ep(y):ze[0]!="noop"&&y.l&&y.l.qa(ze),y.A=0)}}ll(4)}catch{}}var zL=class{constructor(c,f){this.g=c,this.map=f}};function Ew(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sw(c){return c.h?1:c.g?c.g.size:0}function gp(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function yp(c,f){c.g?c.g.add(f):c.h=f}function xw(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Ew.prototype.cancel=function(){if(this.i=bw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bw(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const y of c.g.values())f=f.concat(y.G);return f}return v(c.i)}var Iw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $L(c,f){if(c){c=c.split("&");for(let y=0;y<c.length;y++){const A=c[y].indexOf("=");let V,j=null;A>=0?(V=c[y].substring(0,A),j=c[y].substring(A+1)):V=c[y],f(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function fs(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof fs?(this.l=c.l,fl(this,c.j),this.o=c.o,this.g=c.g,pl(this,c.u),this.h=c.h,vp(this,kw(c.i)),this.m=c.m):c&&(f=String(c).match(Iw))?(this.l=!1,fl(this,f[1]||"",!0),this.o=ml(f[2]||""),this.g=ml(f[3]||"",!0),pl(this,f[4]),this.h=ml(f[5]||"",!0),vp(this,f[6]||"",!0),this.m=ml(f[7]||"")):(this.l=!1,this.i=new yl(null,this.l))}fs.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(gl(f,Cw,!0),":");var y=this.g;return(y||f=="file")&&(c.push("//"),(f=this.o)&&c.push(gl(f,Cw,!0),"@"),c.push(dl(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&c.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(gl(y,y.charAt(0)=="/"?qL:HL,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",gl(y,GL)),c.join("")},fs.prototype.resolve=function(c){const f=cr(this);let y=!!c.j;y?fl(f,c.j):y=!!c.o,y?f.o=c.o:y=!!c.g,y?f.g=c.g:y=c.u!=null;var A=c.h;if(y)pl(f,c.u);else if(y=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var V=f.h.lastIndexOf("/");V!=-1&&(A=f.h.slice(0,V+1)+A)}if(V=A,V==".."||V==".")A="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){A=V.lastIndexOf("/",0)==0,V=V.split("/");const j=[];for(let K=0;K<V.length;){const _e=V[K++];_e=="."?A&&K==V.length&&j.push(""):_e==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&K==V.length&&j.push("")):(j.push(_e),A=!0)}A=j.join("/")}else A=V}return y?f.h=A:y=c.i.toString()!=="",y?vp(f,kw(c.i)):y=!!c.m,y&&(f.m=c.m),f};function cr(c){return new fs(c)}function fl(c,f,y){c.j=y?ml(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function pl(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function vp(c,f,y){f instanceof yl?(c.i=f,KL(c.i,c.l)):(y||(f=gl(f,WL)),c.i=new yl(f,c.l))}function He(c,f,y){c.i.set(f,y)}function ku(c){return He(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ml(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gl(c,f,y){return typeof c=="string"?(c=encodeURI(c).replace(f,BL),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function BL(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Cw=/[#\/\?@]/g,HL=/[#\?:]/g,qL=/[#\?]/g,WL=/[#\?@]/g,GL=/#/g;function yl(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function bi(c){c.g||(c.g=new Map,c.h=0,c.i&&$L(c.i,function(f,y){c.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}t=yl.prototype,t.add=function(c,f){bi(this),this.i=null,c=_o(this,c);let y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(f),this.h+=1,this};function Aw(c,f){bi(c),f=_o(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Pw(c,f){return bi(c),f=_o(c,f),c.g.has(f)}t.forEach=function(c,f){bi(this),this.g.forEach(function(y,A){y.forEach(function(V){c.call(f,V,A,this)},this)},this)};function Rw(c,f){bi(c);let y=[];if(typeof f=="string")Pw(c,f)&&(y=y.concat(c.g.get(_o(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)y=y.concat(c[f]);return y}t.set=function(c,f){return bi(this),this.i=null,c=_o(this,c),Pw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=Rw(this,c),c.length>0?String(c[0]):f):f};function Nw(c,f,y){Aw(c,f),y.length>0&&(c.i=null,c.g.set(_o(c,f),v(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let A=0;A<f.length;A++){var y=f[A];const V=dl(y);y=Rw(this,y);for(let j=0;j<y.length;j++){let K=V;y[j]!==""&&(K+="="+dl(y[j])),c.push(K)}}return this.i=c.join("&")};function kw(c){const f=new yl;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function _o(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function KL(c,f){f&&!c.j&&(bi(c),c.i=null,c.g.forEach(function(y,A){const V=A.toLowerCase();A!=V&&(Aw(this,A),Nw(this,V,y))},c)),c.j=f}function QL(c,f){const y=new ul;if(o.Image){const A=new Image;A.onload=d(ps,y,"TestLoadImage: loaded",!0,f,A),A.onerror=d(ps,y,"TestLoadImage: error",!1,f,A),A.onabort=d(ps,y,"TestLoadImage: abort",!1,f,A),A.ontimeout=d(ps,y,"TestLoadImage: timeout",!1,f,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else f(!1)}function XL(c,f){const y=new ul,A=new AbortController,V=setTimeout(()=>{A.abort(),ps(y,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(V),j.ok?ps(y,"TestPingServer: ok",!0,f):ps(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),ps(y,"TestPingServer: error",!1,f)})}function ps(c,f,y,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(y)}catch{}}function ZL(){this.g=new DL}function _p(c){this.i=c.Sb||null,this.h=c.ab||!1}h(_p,lw),_p.prototype.g=function(){return new Du(this.i,this.h)};function Du(c,f){at.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Du,at),t=Du.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,_l(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?vl(this):_l(this),this.readyState==3&&Dw(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,vl(this))},t.Na=function(c){this.g&&(this.response=c,vl(this))},t.ga=function(){this.g&&vl(this)};function vl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,_l(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=f.next();return c.join(`\r
`)};function _l(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ow(c){let f="";return G(c,function(y,A){f+=A,f+=":",f+=y,f+=`\r
`}),f}function wp(c,f,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Ow(y),typeof c=="string"?y!=null&&dl(y):He(c,f,y))}function rt(c){at.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(rt,at);var YL=/^https?$/i,JL=["POST","PUT"];t=rt.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mw.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(j){Mw(this,j);return}if(c=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)y.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())y.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),V=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(JL,f,void 0)>=0)||A||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of y)this.g.setRequestHeader(j,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){Mw(this,j)}};function Mw(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,Lw(c),Ou(c)}function Lw(c){c.A||(c.A=!0,Xt(c,"complete"),Xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Xt(this,"complete"),Xt(this,"abort"),Ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ou(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Vw(this):this.Xa())},t.Xa=function(){Vw(this)};function Vw(c){if(c.h&&typeof i<"u"){if(c.v&&ms(c)==4)setTimeout(c.Ca.bind(c),0);else if(Xt(c,"readystatechange"),ms(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var A;if(A=j===0){let K=String(c.D).match(Iw)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),A=!YL.test(K?K.toLowerCase():"")}y=A}if(y)Xt(c,"complete"),Xt(c,"success");else{c.o=6;try{var V=ms(c)>2?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.ca()+"]",Lw(c)}}finally{Ou(c)}}}}function Ou(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const y=c.g;c.g=null,f||Xt(c,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ms(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),kL(f)}};function jw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eV(c){const f={};c=(c.g&&ms(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var y=jL(c[A]);const V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=f[V]||[];f[V]=j,j.push(y)}ne(f,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wl(c,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||f}function Fw(c){this.za=0,this.i=[],this.j=new ul,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wl("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wl("baseRetryDelayMs",5e3,c),this.Za=wl("retryDelaySeedMs",1e4,c),this.Ta=wl("forwardChannelMaxRetries",2,c),this.va=wl("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ew(c&&c.concurrentRequestLimit),this.Ba=new ZL,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Fw.prototype,t.ka=8,t.I=1,t.connect=function(c,f,y,A){Zt(0),this.W=c,this.H=f||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.J=Kw(this,null,this.W),Lu(this)};function Ep(c){if(Uw(c),c.I==3){var f=c.V++,y=cr(c.J);if(He(y,"SID",c.M),He(y,"RID",f),He(y,"TYPE","terminate"),El(c,y),f=new hs(c,c.j,f),f.M=2,f.A=ku(cr(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=f.A,y=!0),y||(f.g=Qw(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Nu(f)}Gw(c)}function Mu(c){c.g&&(Sp(c),c.g.cancel(),c.g=null)}function Uw(c){Mu(c),c.v&&(o.clearTimeout(c.v),c.v=null),Vu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Lu(c){if(!Tw(c.h)&&!c.m){c.m=!0;var f=c.Ea;O||x(),L||(O(),L=!0),I.add(f,c),c.D=0}}function tV(c,f){return Sw(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=cl(u(c.Ea,c,f),Ww(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const V=new hs(this,this.j,c);let j=this.o;if(this.U&&(j?(j=de(j),xt(j,this.U)):j=this.U),this.u!==null||this.R||(V.J=j,j=null),this.S)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(f+=A,f>4096){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=$w(this,V,f),y=cr(this.J),He(y,"RID",c),He(y,"CVER",22),this.G&&He(y,"X-HTTP-Session-Id",this.G),El(this,y),j&&(this.R?f="headers="+dl(Ow(j))+"&"+f:this.u&&wp(y,this.u,j)),yp(this.h,V),this.Ra&&He(y,"TYPE","init"),this.S?(He(y,"$req",f),He(y,"SID","null"),V.U=!0,fp(V,y,null)):fp(V,y,f),this.I=2}}else this.I==3&&(c?zw(this,c):this.i.length==0||Tw(this.h)||zw(this))};function zw(c,f){var y;f?y=f.l:y=c.V++;const A=cr(c.J);He(A,"SID",c.M),He(A,"RID",y),He(A,"AID",c.K),El(c,A),c.u&&c.o&&wp(A,c.u,c.o),y=new hs(c,c.j,y,c.D+1),c.u===null&&(y.J=c.o),f&&(c.i=f.G.concat(c.i)),f=$w(c,y,1e3),y.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),yp(c.h,y),fp(y,A,f)}function El(c,f){c.H&&G(c.H,function(y,A){He(f,A,y)}),c.l&&G({},function(y,A){He(f,A,y)})}function $w(c,f,y){y=Math.min(c.i.length,y);const A=c.l?u(c.l.Ka,c.l,c):null;e:{var V=c.i;let _e=-1;for(;;){const _t=["count="+y];_e==-1?y>0?(_e=V[0].g,_t.push("ofs="+_e)):_e=0:_t.push("ofs="+_e);let ze=!0;for(let bt=0;bt<y;bt++){var j=V[bt].g;const ur=V[bt].map;if(j-=_e,j<0)_e=Math.max(0,V[bt].g-100),ze=!1;else try{j="req"+j+"_"||"";try{var K=ur instanceof Map?ur:Object.entries(ur);for(const[Ci,gs]of K){let ys=gs;a(gs)&&(ys=lp(gs)),_t.push(j+Ci+"="+encodeURIComponent(ys))}}catch(Ci){throw _t.push(j+"type="+encodeURIComponent("_badmap")),Ci}}catch{A&&A(ur)}}if(ze){K=_t.join("&");break e}}K=void 0}return c=c.i.splice(0,y),f.G=c,K}function Bw(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;O||x(),L||(O(),L=!0),I.add(f,c),c.A=0}}function Tp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=cl(u(c.Da,c),Ww(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Hw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=cl(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Zt(10),Mu(this),Hw(this))};function Sp(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Hw(c){c.g=new hs(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=cr(c.na);He(f,"RID","rpc"),He(f,"SID",c.M),He(f,"AID",c.K),He(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&He(f,"TO",c.ia),He(f,"TYPE","xmlhttp"),El(c,f),c.u&&c.o&&wp(f,c.u,c.o),c.O&&(c.g.H=c.O);var y=c.g;c=c.ba,y.M=1,y.A=ku(cr(f)),y.u=null,y.R=!0,vw(y,c)}t.Va=function(){this.C!=null&&(this.C=null,Mu(this),Tp(this),Zt(19))};function Vu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function qw(c,f){var y=null;if(c.g==f){Vu(c),Sp(c),c.g=null;var A=2}else if(gp(c.h,f))y=f.G,xw(c.h,f),A=1;else return;if(c.I!=0){if(f.o)if(A==1){y=f.u?f.u.length:0,f=Date.now()-f.F;var V=c.D;A=Pu(),Xt(A,new fw(A,y)),Lu(c)}else Bw(c);else if(V=f.m,V==3||V==0&&f.X>0||!(A==1&&tV(c,f)||A==2&&Tp(c)))switch(y&&y.length>0&&(f=c.h,f.i=f.i.concat(y)),V){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Ww(c,f){let y=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(y*=2),y*f}function Ii(c,f){if(c.j.info("Error code "+f),f==2){var y=u(c.bb,c),A=c.Ua;const V=!A;A=new fs(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fl(A,"https"),ku(A),V?QL(A.toString(),y):XL(A.toString(),y)}else Zt(2);c.I=0,c.l&&c.l.pa(f),Gw(c),Uw(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Gw(c){if(c.I=0,c.ja=[],c.l){const f=bw(c.h);(f.length!=0||c.i.length!=0)&&(b(c.ja,f),b(c.ja,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.oa()}}function Kw(c,f,y){var A=y instanceof fs?cr(y):new fs(y);if(A.g!="")f&&(A.g=f+"."+A.g),pl(A,A.u);else{var V=o.location;A=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;const j=new fs(null);A&&fl(j,A),f&&(j.g=f),V&&pl(j,V),y&&(j.h=y),A=j}return y=c.G,f=c.wa,y&&f&&He(A,y,f),He(A,"VER",c.ka),El(c,A),A}function Qw(c,f,y){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new rt(new _p({ab:y})):new rt(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xw(){}t=Xw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ju(){}ju.prototype.g=function(c,f){return new vn(c,f)};function vn(c,f){at.call(this),this.g=new Fw(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!R(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!R(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new wo(this)}h(vn,at),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Ep(this.g)},vn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.v&&(y={},y.__data__=lp(c),c=y);f.i.push(new zL(f.Ya++,c)),f.I==3&&Lu(f)},vn.prototype.N=function(){this.g.l=null,delete this.j,Ep(this.g),delete this.g,vn.Z.N.call(this)};function Zw(c){cp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const y in f){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}h(Zw,cp);function Yw(){up.call(this),this.status=1}h(Yw,up);function wo(c){this.g=c}h(wo,Xw),wo.prototype.ra=function(){Xt(this.g,"a")},wo.prototype.qa=function(c){Xt(this.g,new Zw(c))},wo.prototype.pa=function(c){Xt(this.g,new Yw)},wo.prototype.oa=function(){Xt(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,YO=function(){return new ju},ZO=function(){return Pu()},XO=Si,oy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ru.NO_ERROR=0,Ru.TIMEOUT=8,Ru.HTTP_ERROR=6,Ud=Ru,pw.COMPLETE="complete",QO=pw,cw.EventType=al,al.OPEN="a",al.CLOSE="b",al.ERROR="c",al.MESSAGE="d",at.prototype.listen=at.prototype.J,Ul=cw,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,KO=rt}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const H1="@firebase/firestore",q1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new l_("@firebase/firestore");function Ao(){return ao.logLevel}function Y(t,...e){if(ao.logLevel<=xe.DEBUG){const n=e.map(v_);ao.debug(`Firestore (${el}): ${t}`,...n)}}function ls(t,...e){if(ao.logLevel<=xe.ERROR){const n=e.map(v_);ao.error(`Firestore (${el}): ${t}`,...n)}}function La(t,...e){if(ao.logLevel<=xe.WARN){const n=e.map(v_);ao.warn(`Firestore (${el}): ${t}`,...n)}}function v_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JO(t,r,n)}function JO(t,e,n){let r=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ls(r),new Error(r)}function Le(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||JO(e,s,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class Zq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yq{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new eM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class Jq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Jq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=nW(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function ay(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Cm(s)===Cm(i)?be(s,i):Cm(s)?1:-1}return be(t.length,e.length)}const rW=55296,sW=57343;function Cm(t){const e=t.charCodeAt(0);return e>=rW&&e<=sW}function Va(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="__name__";class fr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=fr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return be(e.length,n.length)}static compareSegments(e,n){const r=fr.isNumericId(e),s=fr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?fr.extractNumericId(e).compare(fr.extractNumericId(n)):ay(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class $e extends fr{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const iW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends fr{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return iW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G1}static keyField(){return new Mt([G1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie($e.fromString(e))}static fromName(e){return new ie($e.fromString(e).popFirst(5))}static empty(){return new ie($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new $e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oW(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K1(t){if(!ie.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Q1(t){if(ie.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function aW(t,e){if(e<=0)throw new X(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tu(t,e){if(!nM(t))throw new X(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=-62135596800,Z1=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Z1);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X1)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z1}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:pt("string",Ge._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Ge(0,0))}static max(){return new fe(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=-1;function lW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new ui(s,ie.empty(),e)}function cW(t){return new ui(t.readTime,t.key,Wc)}class ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(fe.min(),ie.empty(),Wc)}static max(){return new ui(fe.max(),ie.empty(),Wc)}}function uW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==dW)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function fW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-1;function Xf(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function pW(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="";function mW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Y1(e)),e=gW(t.get(n),e);return Y1(e)}function gW(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case rM:n+="";break;default:n+=i}}return n}function Y1(t){return t+rM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=s??Ot.EMPTY,this.right=i??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(e){return new eT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class eT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new St(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new iM("Invalid base64 string: "+i):i}}(e);return new jt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const yW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=yW.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hi(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="server_timestamp",aM="__type__",lM="__previous_value__",cM="__local_write_time__";function E_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aM])==null?void 0:r.stringValue)===oM}function Zf(t){const e=t.mapValue.fields[lM];return E_(e)?Zf(e):e}function Gc(t){const e=di(t.mapValue.fields[cM].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Wh="(default)";class Kc{constructor(e,n){this.projectId=e,this.database=n||Wh}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="__type__",dM="__max__",md={mapValue:{fields:{__type__:{stringValue:dM}}}},hM="__vector__",Gh="value";function fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E_(t)?4:wW(t)?9007199254740991:_W(t)?10:11:ae(28295,{value:t})}function Lr(t,e){if(t===e)return!0;const n=fi(t);if(n!==fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=di(s.timestampValue),a=di(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return hi(s.bytesValue).isEqual(hi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ct(s.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ct(s.integerValue)===ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ct(s.doubleValue),a=ct(i.doubleValue);return o===a?qh(o)===qh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Va(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(J1(o)!==J1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Lr(o[l],a[l])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function Qc(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function ja(t,e){if(t===e)return 0;const n=fi(t),r=fi(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ct(i.integerValue||i.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return tT(t.timestampValue,e.timestampValue);case 4:return tT(Gc(t),Gc(e));case 5:return ay(t.stringValue,e.stringValue);case 6:return function(i,o){const a=hi(i),l=hi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=be(a[u],l[u]);if(d!==0)return d}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=be(ct(i.latitude),ct(o.latitude));return a!==0?a:be(ct(i.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,b,_;const a=i.fields||{},l=o.fields||{},u=(p=a[Gh])==null?void 0:p.arrayValue,d=(v=l[Gh])==null?void 0:v.arrayValue,h=be(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return h!==0?h:nT(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===md.mapValue&&o===md.mapValue)return 0;if(i===md.mapValue)return 1;if(o===md.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=ay(l[h],d[h]);if(p!==0)return p;const v=ja(a[l[h]],u[d[h]]);if(v!==0)return v}return be(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function tT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=di(t),r=di(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function nT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ja(n[s],r[s]);if(i)return i}return be(n.length,r.length)}function Fa(t){return ly(t)}function ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ly(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ly(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function zd(t){switch(fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zf(t);return e?16+zd(e):16;case 5:return 2*t.stringValue.length;case 6:return hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+zd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return po(r.fields,(i,o)=>{s+=i.length+zd(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function rT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cy(t){return!!t&&"integerValue"in t}function T_(t){return!!t&&"arrayValue"in t}function sT(t){return!!t&&"nullValue"in t}function iT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $d(t){return!!t&&"mapValue"in t}function _W(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uM])==null?void 0:r.stringValue)===hM}function nc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(t.arrayValue.values[n]);return e}return{...t}}function wW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=Mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=nc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());$d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];$d(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){po(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new On(nc(this.value))}}function fM(t){const e=[];return po(t.fields,(n,r)=>{const s=new Mt([n]);if($d(r)){const i=fM(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,fe.min(),fe.min(),fe.min(),On.empty(),0)}static newFoundDocument(e,n,r,s){return new Wt(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Wt(e,2,n,fe.min(),fe.min(),On.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,fe.min(),fe.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function oT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=ja(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function aT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function EW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{}class ft extends pM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SW(e,n,r):n==="array-contains"?new IW(e,r):n==="in"?new CW(e,r):n==="not-in"?new AW(e,r):n==="array-contains-any"?new PW(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xW(e,r):new bW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ja(n,this.value)):n!==null&&fi(this.value)===fi(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends pM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ir(e,n)}matches(e){return mM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mM(t){return t.op==="and"}function gM(t){return TW(t)&&mM(t)}function TW(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function uy(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Fa(t.value);if(gM(t))return t.filters.map(e=>uy(e)).join(",");{const e=t.filters.map(n=>uy(n)).join(",");return`${t.op}(${e})`}}function yM(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Lr(r.value,s.value)}(t,e):t instanceof ir?function(r,s){return s instanceof ir&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&yM(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function vM(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(t):t instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(vM).join(" ,")+"}"}(t):"Filter"}class SW extends ft{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class xW extends ft{constructor(e,n){super(e,"in",n),this.keys=_M("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bW extends ft{constructor(e,n){super(e,"not-in",n),this.keys=_M("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _M(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class IW extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return T_(n)&&Qc(n.arrayValue,this.value)}}class CW extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qc(this.value.arrayValue,n)}}class AW extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qc(this.value.arrayValue,n)}}class PW extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!T_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function lT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new RW(t,e,n,r,s,i,o)}function S_(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fa(r)).join(",")),e.Te=n}return e.Te}function x_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aT(t.startAt,e.startAt)&&aT(t.endAt,e.endAt)}function dy(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NW(t,e,n,r,s,i,o,a){return new rl(t,e,n,r,s,i,o,a)}function b_(t){return new rl(t)}function cT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wM(t){return t.collectionGroup!==null}function rc(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(Mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Xc(i,r))}),n.has(Mt.keyField().canonicalString())||e.Ie.push(new Xc(Mt.keyField(),r))}return e.Ie}function Ir(t){const e=me(t);return e.Ee||(e.Ee=kW(e,rc(t))),e.Ee}function kW(t,e){if(t.limitType==="F")return lT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Xc(s.field,i)});const n=t.endAt?new Kh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kh(t.startAt.position,t.startAt.inclusive):null;return lT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hy(t,e){const n=t.filters.concat([e]);return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qh(t,e,n){return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yf(t,e){return x_(Ir(t),Ir(e))&&t.limitType===e.limitType}function EM(t){return`${S_(Ir(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>vM(s)).join(", ")}]`),Xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fa(s)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function Jf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of rc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=oT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,rc(r),s)||r.endAt&&!function(o,a,l){const u=oT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,rc(r),s))}(t,e)}function DW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TM(t){return(e,n)=>{let r=!1;for(const s of rc(t)){const i=OW(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function OW(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?ja(l,u):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return sM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW=new nt(ie.comparator);function cs(){return MW}const SM=new nt(ie.comparator);function zl(...t){let e=SM;for(const n of t)e=e.insert(n.key,n);return e}function xM(t){let e=SM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mi(){return sc()}function bM(){return sc()}function sc(){return new mo(t=>t.toString(),(t,e)=>t.isEqual(e))}const LW=new nt(ie.comparator),VW=new St(ie.comparator);function Ie(...t){let e=VW;for(const n of t)e=e.add(n);return e}const jW=new St(be);function FW(){return jW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function IM(t){return{integerValue:""+t}}function UW(t,e){return pW(e)?IM(e):I_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this._=void 0}}function zW(t,e,n){return t instanceof Zc?function(s,i){const o={fields:{[aM]:{stringValue:oM},[cM]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&E_(i)&&(i=Zf(i)),i&&(o.fields[lM]=i),{mapValue:o}}(n,e):t instanceof Yc?AM(t,e):t instanceof Jc?PM(t,e):function(s,i){const o=CM(s,i),a=uT(o)+uT(s.Ae);return cy(o)&&cy(s.Ae)?IM(a):I_(s.serializer,a)}(t,e)}function $W(t,e,n){return t instanceof Yc?AM(t,e):t instanceof Jc?PM(t,e):n}function CM(t,e){return t instanceof Xh?function(r){return cy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zc extends ep{}class Yc extends ep{constructor(e){super(),this.elements=e}}function AM(t,e){const n=RM(e);for(const r of t.elements)n.some(s=>Lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jc extends ep{constructor(e){super(),this.elements=e}}function PM(t,e){let n=RM(e);for(const r of t.elements)n=n.filter(s=>!Lr(s,r));return{arrayValue:{values:n}}}class Xh extends ep{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uT(t){return ct(t.integerValue||t.doubleValue)}function RM(t){return T_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,n){this.field=e,this.transform=n}}function HW(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Yc&&s instanceof Yc||r instanceof Jc&&s instanceof Jc?Va(r.elements,s.elements,Lr):r instanceof Xh&&s instanceof Xh?Lr(r.Ae,s.Ae):r instanceof Zc&&s instanceof Zc}(t.transform,e.transform)}class qW{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tp{}function NM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DM(t.key,Cr.none()):new Su(t.key,t.data,Cr.none());{const n=t.data,r=On.empty();let s=new St(Mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new go(t.key,r,new Zn(s.toArray()),Cr.none())}}function WW(t,e,n){t instanceof Su?function(s,i,o){const a=s.value.clone(),l=hT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof go?function(s,i,o){if(!Bd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=hT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(kM(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof Su?function(i,o,a,l){if(!Bd(i.precondition,o))return a;const u=i.value.clone(),d=fT(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof go?function(i,o,a,l){if(!Bd(i.precondition,o))return a;const u=fT(i.fieldTransforms,l,o),d=o.data;return d.setAll(kM(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Bd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function GW(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=CM(r.transform,s||null);i!=null&&(n===null&&(n=On.empty()),n.set(r.field,i))}return n||null}function dT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Va(r,s,(i,o)=>HW(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends tp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class go extends tp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hT(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,$W(o,a,n[s]))}return r}function fT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,zW(i,o,e))}return r}class DM extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KW extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&WW(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bM();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=NM(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(n,r)=>dT(n,r))&&Va(this.baseMutations,e.baseMutations,(n,r)=>dT(n,r))}}class C_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return LW}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new C_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ce;function YW(t){switch(t){case U.OK:return ae(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function OM(t){if(t===void 0)return ls("GRPC error has no .code"),U.UNKNOWN;switch(t){case dt.OK:return U.OK;case dt.CANCELLED:return U.CANCELLED;case dt.UNKNOWN:return U.UNKNOWN;case dt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case dt.INTERNAL:return U.INTERNAL;case dt.UNAVAILABLE:return U.UNAVAILABLE;case dt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case dt.NOT_FOUND:return U.NOT_FOUND;case dt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case dt.ABORTED:return U.ABORTED;case dt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case dt.DATA_LOSS:return U.DATA_LOSS;default:return ae(39323,{code:t})}}(Ce=dt||(dt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=new Ys([4294967295,4294967295],0);function pT(t){const e=JW().encode(t),n=new GO;return n.update(e),new Uint8Array(n.digest())}function mT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ys([n,r],0),new Ys([s,i],0)]}class A_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ys.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ys.fromNumber(r)));return s.compare(eG)===1&&(s=new Ys([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pT(e),[r,s]=mT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new A_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=pT(e),[r,s]=mT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new np(fe.min(),s,new nt(be),cs(),Ie())}}class xu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class MM{constructor(e,n){this.targetId=e,this.Ce=n}}class LM{constructor(e,n,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class gT{constructor(){this.ve=0,this.Fe=yT(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new xu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=yT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tG{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=gd(),this.He=gd(),this.Ye=new nt(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(dy(i))if(r===0){const o=new ie(i.path);this.et(n,o,Wt.newNoDocument(o,fe.min()))}else Le(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=hi(r).toUint8Array()}catch(l){if(l instanceof iM)return La("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new A_(o,s,i)}catch(l){return La(l instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&dy(a.target)){const l=new ie(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Wt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ie();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new np(e,n,this.Ye,this.je,r);return this.je=cs(),this.Je=gd(),this.He=gd(),this.Ye=new nt(be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new St(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new St(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gd(){return new nt(ie.comparator)}function yT(){return new nt(ie.comparator)}const nG={asc:"ASCENDING",desc:"DESCENDING"},rG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sG={and:"AND",or:"OR"};class iG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fy(t,e){return t.useProto3Json||Xf(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oG(t,e){return Zh(t,e.toTimestamp())}function Ar(t){return Le(!!t,49232),fe.fromTimestamp(function(n){const r=di(n);return new Ge(r.seconds,r.nanos)}(t))}function P_(t,e){return py(t,e).canonicalString()}function py(t,e){const n=function(s){return new $e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jM(t){const e=$e.fromString(t);return Le(BM(e),10190,{key:e.toString()}),e}function my(t,e){return P_(t.databaseId,e.path)}function Am(t,e){const n=jM(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(UM(n))}function FM(t,e){return P_(t.databaseId,e)}function aG(t){const e=jM(t);return e.length===4?$e.emptyPath():UM(e)}function gy(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UM(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vT(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function lG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Le(d===void 0||typeof d=="string",58123),jt.fromBase64String(d||"")):(Le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),jt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:OM(u.code);return new X(d,u.message||"")}(o);n=new LM(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Am(t,r.document.name),i=Ar(r.document.updateTime),o=r.document.createTime?Ar(r.document.createTime):fe.min(),a=new On({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Hd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Am(t,r.document),i=r.readTime?Ar(r.readTime):fe.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Am(t,r.document),i=r.removedTargetIds||[];n=new Hd([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new ZW(s,i),a=r.targetId;n=new MM(a,o)}}return n}function cG(t,e){let n;if(e instanceof Su)n={update:vT(t,e.key,e.value)};else if(e instanceof DM)n={delete:my(t,e.key)};else if(e instanceof go)n={update:vT(t,e.key,e.data),updateMask:vG(e.fieldMask)};else{if(!(e instanceof KW))return ae(16599,{Vt:e.type});n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Zc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:oG(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function uG(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ar(s.updateTime):Ar(i);return o.isEqual(fe.min())&&(o=Ar(i)),new qW(o,s.transformResults||[])}(n,e))):[]}function dG(t,e){return{documents:[FM(t,e.path)]}}function hG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FM(t,s);const i=function(u){if(u.length!==0)return $M(ir.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Ro(p.field),direction:mG(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=fy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function fG(t){let e=aG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Le(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=zM(h);return p instanceof ir&&gM(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(b){return new Xc(No(b.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Xf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,v=h.values||[];return new Kh(v,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,v=h.values||[];return new Kh(v,p)}(n.endAt)),NW(e,s,o,i,a,"F",l,u)}function pG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=No(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=No(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=No(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return ft.create(No(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(r=>zM(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function mG(t){return nG[t]}function gG(t){return rG[t]}function yG(t){return sG[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function No(t){return Mt.fromServerFormat(t.fieldPath)}function $M(t){return t instanceof ft?function(n){if(n.op==="=="){if(iT(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(sT(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iT(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(sT(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:gG(n.op),value:n.value}}}(t):t instanceof ir?function(n){const r=n.getFilters().map(s=>$M(s));return r.length===1?r[0]:{compositeFilter:{op:yG(n.op),filters:r}}}(t):ae(54877,{filter:t})}function vG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.yt=e}}function wG(t){const e=fG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this.Cn=new TG}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ui.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class TG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new St($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HM=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(HM,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ua(0)}static cr(){return new Ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="LruGarbageCollector",SG=1048576;function ET([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class xG{constructor(e){this.Ir=e,this.buffer=new St(ET),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ET(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(wT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?Y(wT,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Vr(3e5)})}}class IG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Qf.ce);const r=new xG(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(_T)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_T):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ao()<=xe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function CG(t,e){return new IG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(){this.changes=new mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ic(r.mutation,s,Zn.empty(),Ge.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Mi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=zl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=cs();const o=sc(),a=function(){return sc()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof go)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ic(d.mutation,u,d.mutation.getFieldMask(),Ge.now())):o.set(u.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new PG(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=sc();let s=new nt((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Zn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=bM();d.forEach(p=>{if(!i.has(p)){const v=NM(n.get(p),r.get(p));v!==null&&h.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Mi());let a=Wc,l=i;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ie())).next(d=>({batchId:a,changes:xM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=zl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=zl();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(h,p){return new rl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Wt.newInvalidDocument(d)))});let a=zl();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&ic(d.mutation,u,Zn.empty(),Ge.now()),Jf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ar(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:wG(s.bundledQuery),readTime:Ar(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.overlays=new nt(ie.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mi();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Mi(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Mi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Mi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return z.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XW(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.Qr=new St(It.$r),this.Ur=new St(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ie(new $e([])),r=new It(n,e),s=new It(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new $e([])),r=new It(n,e),s=new It(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new St(It.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QW(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?w_:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(be);return n.forEach(s=>{const i=new It(s,0),o=new It(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new It(new ie(i),0);let a=new St(be);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,s=>{const i=new It(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new It(n,0),s=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e){this.ri=e,this.docs=function(){return new nt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=cs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=cs();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||uW(cW(d),r)<=0||(s.has(d.key)||Jf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LG(this)}getSize(e){return z.resolve(this.size)}}class LG extends AG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e){this.persistence=e,this.si=new mo(n=>S_(n),x_),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new R_,this.targetCount=0,this.ai=Ua.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ua(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new DG,this.referenceDelegate=e(this),this.Pi=new VG(this),this.indexManager=new EG,this.remoteDocumentCache=function(s){return new MG(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new _G(n),this.Ii=new NG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new OG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new jG(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class jG extends hW{constructor(e){super(),this.currentSequenceNumber=e}}class N_{constructor(e){this.persistence=e,this.Ri=new R_,this.Vi=null}static mi(e){return new N_(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const s=ie.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.pi=new mo(r=>mW(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=CG(this,n)}static mi(e,n){return new Yh(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zd(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new k_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return R8()?8:fW(Qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new FG;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ao()<=xe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Ao()<=xe.DEBUG&&Y("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ao()<=xe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):z.resolve())}ys(e,n){if(cT(n))return z.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Qh(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Qh(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return cT(n)||s.isEqual(fe.min())?z.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?z.resolve(null):(Ao()<=xe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Po(n)),this.vs(e,o,n,lW(s,Wc)).next(a=>a))})}Ds(e,n){let r=new St(TM(e));return n.forEach((s,i)=>{Jf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ao()<=xe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ps.getDocumentsMatchingQuery(e,n,ui.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LocalStore",zG=3e8;class $G{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new nt(be),this.xs=new mo(i=>S_(i),x_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function BG(t,e,n,r){return new $G(t,e,n,r)}async function WM(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function HG(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let v=z.resolve();return p.forEach(b=>{v=v.next(()=>d.getEntry(l,b)).next(_=>{const S=u.docVersions.get(b);Le(S!==null,48541),_.version.compareTo(S)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function GM(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function qG(t,e){const n=me(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(jt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(h,v),function(_,S,E){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=zG?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,v,d)&&a.push(n.Pi.updateTargetData(i,v))});let l=cs(),u=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(WG(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(fe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function WG(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=cs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(D_,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function GG(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=w_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KG(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function yy(t,e,n){const r=me(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!nl(o))throw o;Y(D_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function TT(t,e,n){const r=me(t);let s=fe.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=me(l),p=h.xs.get(d);return p!==void 0?z.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(r,o,Ir(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ie())).next(a=>(QG(r,DW(e),a),{documents:a,Qs:i})))}function QG(t,e,n){let r=t.Os.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class ST{constructor(){this.activeTargetIds=FW()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XG{constructor(){this.Mo=new ST,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ST,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="ConnectivityMonitor";class bT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(xT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(xT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function vy(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",YG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=vy(),a=this.zo(e,n.toUriEncodedString());Y(Pm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=Za(u);return this.Jo(e,a,l,r,d).then(h=>(Y(Pm,`Received RPC '${e}' ${o}: `,h),h),h=>{throw La(Pm,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=YG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class tK extends JG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=vy();return new Promise((a,l)=>{const u=new KO;u.setWithCredentials(!0),u.listenOnce(QO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ud.NO_ERROR:const h=u.getResponseJson();Y($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Ud.TIMEOUT:Y($t,`RPC '${e}' ${o} timed out`),l(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const p=u.getStatus();if(Y($t,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const _=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(b.status);l(new X(_,b.message))}else l(new X(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(U.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y($t,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Y($t,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=vy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YO(),a=ZO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");Y($t,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,v=!1;const b=new eK({Yo:S=>{v?Y($t,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(Y($t,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Y($t,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},Zo:()=>h.close()}),_=(S,E,w)=>{S.listen(E,T=>{try{w(T)}catch(k){setTimeout(()=>{throw k},0)}})};return _(h,Ul.EventType.OPEN,()=>{v||(Y($t,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),_(h,Ul.EventType.CLOSE,()=>{v||(v=!0,Y($t,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(h))}),_(h,Ul.EventType.ERROR,S=>{v||(v=!0,La($t,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),b.a_(new X(U.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ul.EventType.MESSAGE,S=>{var E;if(!v){const w=S.data[0];Le(!!w,16349);const T=w,k=(T==null?void 0:T.error)||((E=T[0])==null?void 0:E.error);if(k){Y($t,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let L=function(C){const P=dt[C];if(P!==void 0)return OM(P)}(O),I=k.message;L===void 0&&(L=U.INTERNAL,I="Unknown error status: "+O+" with message "+k.message),v=!0,b.a_(new X(L,I)),h.close()}else Y($t,`RPC '${e}' stream ${s} received:`,w),b.u_(w)}}),_(a,XO.STAT_EVENT,S=>{S.stat===oy.PROXY?Y($t,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===oy.NOPROXY&&Y($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t){return new iG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="PersistentStream";class QM{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nK extends QM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lG(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Ar(o.readTime):fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=gy(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=dy(l)?{documents:dG(i,l)}:{query:hG(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VM(i,o.resumeToken);const u=fy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=Zh(i,o.snapshotVersion.toTimestamp());const u=fy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=pG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=gy(this.serializer),n.removeTarget=e,this.q_(n)}}class rK extends QM{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uG(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{}class iK extends sK{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,py(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,py(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class oK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class aK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{yo(this)&&(Y(lo,"Restarting streams for network reachability change."),await async function(l){const u=me(l);u.Ea.add(4),await bu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await sp(u)}(this))})}),this.Ra=new oK(r,s)}}async function sp(t){if(yo(t))for(const e of t.da)await e(!0)}async function bu(t){for(const e of t.da)await e(!1)}function XM(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),V_(n)?L_(n):sl(n).O_()&&M_(n,e))}function O_(t,e){const n=me(t),r=sl(n);n.Ia.delete(e),r.O_()&&ZM(n,e),n.Ia.size===0&&(r.O_()?r.L_():yo(n)&&n.Ra.set("Unknown"))}function M_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sl(t).Y_(e)}function ZM(t,e){t.Va.Ue(e),sl(t).Z_(e)}function L_(t){t.Va=new tG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sl(t).start(),t.Ra.ua()}function V_(t){return yo(t)&&!sl(t).x_()&&t.Ia.size>0}function yo(t){return me(t).Ea.size===0}function YM(t){t.Va=void 0}async function lK(t){t.Ra.set("Online")}async function cK(t){t.Ia.forEach((e,n)=>{M_(t,e)})}async function uK(t,e){YM(t),V_(t)?(t.Ra.ha(e),L_(t)):t.Ra.set("Unknown")}async function dK(t,e,n){if(t.Ra.set("Online"),e instanceof LM&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(t,r)}else if(e instanceof Hd?t.Va.Ze(e):e instanceof MM?t.Va.st(e):t.Va.tt(e),!n.isEqual(fe.min()))try{const r=await GM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(jt.EMPTY_BYTE_STRING,d.snapshotVersion)),ZM(i,l);const h=new Fs(d.target,l,u,d.sequenceNumber);M_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(lo,"Failed to raise snapshot:",r),await Jh(t,r)}}async function Jh(t,e,n){if(!nl(e))throw e;t.Ea.add(1),await bu(t),t.Ra.set("Offline"),n||(n=()=>GM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(lo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sp(t)})}function JM(t,e){return e().catch(n=>Jh(t,n,e))}async function ip(t){const e=me(t),n=pi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:w_;for(;hK(e);)try{const s=await GG(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,fK(e,s)}catch(s){await Jh(e,s)}eL(e)&&tL(e)}function hK(t){return yo(t)&&t.Ta.length<10}function fK(t,e){t.Ta.push(e);const n=pi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function eL(t){return yo(t)&&!pi(t).x_()&&t.Ta.length>0}function tL(t){pi(t).start()}async function pK(t){pi(t).ra()}async function mK(t){const e=pi(t);for(const n of t.Ta)e.ea(n.mutations)}async function gK(t,e,n){const r=t.Ta.shift(),s=C_.from(r,e,n);await JM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ip(t)}async function yK(t,e){e&&pi(t).X_&&await async function(r,s){if(function(o){return YW(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();pi(r).B_(),await JM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ip(r)}}(t,e),eL(t)&&tL(t)}async function CT(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Y(lo,"RemoteStore received new credentials");const r=yo(n);n.Ea.add(3),await bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sp(n)}async function vK(t,e){const n=me(t);e?(n.Ea.delete(2),await sp(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function sl(t){return t.ma||(t.ma=function(n,r,s){const i=me(n);return i.sa(),new nK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:lK.bind(null,t),t_:cK.bind(null,t),r_:uK.bind(null,t),H_:dK.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),V_(t)?L_(t):t.Ra.set("Unknown")):(await t.ma.stop(),YM(t))})),t.ma}function pi(t){return t.fa||(t.fa=function(n,r,s){const i=me(n);return i.sa(),new rK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pK.bind(null,t),r_:yK.bind(null,t),ta:mK.bind(null,t),na:gK.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ip(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(lo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new j_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F_(t,e){if(ls("AsyncQueue",`${e}: ${t}`),nl(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{static emptySet(e){return new aa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=zl(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.ga=new nt(ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class za{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new za(e,n,aa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class wK{constructor(){this.queries=PT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=PT(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function PT(){return new mo(t=>EM(t),Yf)}async function EK(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new _K,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=F_(o,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&U_(n)}async function TK(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SK(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&U_(n)}function xK(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function U_(t){t.Ca.forEach(e=>{e.next()})}var _y,RT;(RT=_y||(_y={})).Ma="default",RT.Cache="cache";class bK{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.key=e}}class rL{constructor(e){this.key=e}}class IK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=TM(e),this.tu=new aa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new AT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),v=Jf(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;p&&v?p.data.isEqual(v.data)?b!==_&&(r.track({type:3,doc:v}),S=!0):this.su(p,v)||(r.track({type:2,doc:v}),S=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),S=!0):p&&!v&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(v?(o=o.add(v),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(v,b){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:S})}};return _(v)-_(b)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new za(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new rL(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new nL(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const z_="SyncEngine";class CK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AK{constructor(e){this.key=e,this.hu=!1}}class PK{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new mo(a=>EM(a),Yf),this.Iu=new Map,this.Eu=new Set,this.du=new nt(ie.comparator),this.Au=new Map,this.Ru=new R_,this.Vu={},this.mu=new Map,this.fu=Ua.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RK(t,e,n=!0){const r=cL(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await sL(r,e,n,!0),s}async function NK(t,e){const n=cL(t);await sL(n,e,!0,!1)}async function sL(t,e,n,r){const s=await KG(t.localStore,Ir(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await kK(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&XM(t.remoteStore,s),a}async function kK(t,e,n,r,s){t.pu=(h,p,v)=>async function(_,S,E,w){let T=S.view.ru(E);T.Cs&&(T=await TT(_.localStore,S.query,!1).then(({documents:I})=>S.view.ru(I,T)));const k=w&&w.targetChanges.get(S.targetId),O=w&&w.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(T,_.isPrimaryClient,k,O);return kT(_,S.targetId,L.au),L.snapshot}(t,h,p,v);const i=await TT(t.localStore,e,!0),o=new IK(e,i.Qs),a=o.ru(i.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);kT(t,n,u.au);const d=new CK(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function DK(t,e,n){const r=me(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Yf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&O_(r.remoteStore,s.targetId),wy(r,s.targetId)}).catch(tl)):(wy(r,s.targetId),await yy(r.localStore,s.targetId,!0))}async function OK(t,e){const n=me(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),O_(n.remoteStore,r.targetId))}async function MK(t,e,n){const r=$K(t);try{const s=await function(o,a){const l=me(o),u=Ge.now(),d=a.reduce((v,b)=>v.add(b.key),Ie());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=cs(),_=Ie();return l.Ns.getEntries(v,d).next(S=>{b=S,b.forEach((E,w)=>{w.isValidDocument()||(_=_.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(S=>{h=S;const E=[];for(const w of a){const T=GW(w,h.get(w.key).overlayedDocument);T!=null&&E.push(new go(w.key,T,fM(T.value.mapValue),Cr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,E,a)}).next(S=>{p=S;const E=S.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(v,S.batchId,E)})}).then(()=>({batchId:p.batchId,changes:xM(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new nt(be)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Iu(r,s.changes),await ip(r.remoteStore)}catch(s){const i=F_(s,"Failed to persist write");n.reject(i)}}async function iL(t,e){const n=me(t);try{const r=await qG(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Le(o.hu,14607):s.removedDocuments.size>0&&(Le(o.hu,42227),o.hu=!1))}),await Iu(n,r,e)}catch(r){await tl(r)}}function NT(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(u=!0)}),u&&U_(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LK(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new nt(ie.comparator);o=o.insert(i,Wt.newNoDocument(i,fe.min()));const a=Ie().add(i),l=new np(fe.min(),new Map,new nt(be),o,a);await iL(r,l),r.du=r.du.remove(i),r.Au.delete(e),$_(r)}else await yy(r.localStore,e,!1).then(()=>wy(r,e,n)).catch(tl)}async function VK(t,e){const n=me(t),r=e.batch.batchId;try{const s=await HG(n.localStore,e);aL(n,r,null),oL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(n,s)}catch(s){await tl(s)}}async function jK(t,e,n){const r=me(t);try{const s=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Le(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);aL(r,e,n),oL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Iu(r,s)}catch(s){await tl(s)}}function oL(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function aL(t,e,n){const r=me(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||lL(t,r)})}function lL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(O_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$_(t))}function kT(t,e,n){for(const r of n)r instanceof nL?(t.Ru.addReference(r.key,e),FK(t,r)):r instanceof rL?(Y(z_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||lL(t,r.key)):ae(19791,{wu:r})}function FK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(z_,"New document in limbo: "+n),t.Eu.add(r),$_(t))}function $_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie($e.fromString(e)),r=t.fu.next();t.Au.set(r,new AK(n)),t.du=t.du.insert(n,r),XM(t.remoteStore,new Fs(Ir(b_(n.path)),r,"TargetPurposeLimboResolution",Qf.ce))}}async function Iu(t,e,n){const r=me(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=k_.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=me(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,p=>z.forEach(p.Es,v=>d.persistence.referenceDelegate.addReference(h,p.targetId,v)).next(()=>z.forEach(p.ds,v=>d.persistence.referenceDelegate.removeReference(h,p.targetId,v)))))}catch(h){if(!nl(h))throw h;Y(D_,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const v=d.Ms.get(p),b=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(p,_)}}}(r.localStore,i))}async function UK(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Y(z_,"User change. New user:",e.toKey());const r=await WM(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new X(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(n,r.Ls)}}function zK(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function cL(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LK.bind(null,e),e.Pu.H_=SK.bind(null,e.eventManager),e.Pu.yu=xK.bind(null,e.eventManager),e}function $K(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jK.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BG(this.persistence,new UG,e.initialUser,this.serializer)}Cu(e){return new qM(N_.mi,this.serializer)}Du(e){return new XG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class BK extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof Yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new qM(r=>Yh.mi(r,n),this.serializer)}}class Ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UK.bind(null,this.syncEngine),await vK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wK}()}createDatastore(e){const n=rp(e.databaseInfo.databaseId),r=function(i){return new tK(i)}(e.databaseInfo);return function(i,o,a,l){return new iK(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new aK(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>NT(this.syncEngine,n,0),function(){return bT.v()?new bT:new ZG}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new PK(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);Y(lo,"RemoteStore shutting down."),i.Ea.add(5),await bu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ey.provider={build:()=>new Ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="FirestoreClient";class qK{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=__.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(mi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(mi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=F_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nm(t,e){t.asyncQueue.verifyOperationInProgress(),Y(mi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await WM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WK(t);Y(mi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>CT(e.remoteStore,s)),t._onlineComponents=e}async function WK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(mi,"Using user provided OfflineComponentProvider");try{await Nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Nm(t,new ef)}}else Y(mi,"Using default OfflineComponentProvider"),await Nm(t,new BK(void 0));return t._offlineComponents}async function uL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(mi,"Using user provided OnlineComponentProvider"),await DT(t,t._uninitializedComponentsProvider._online)):(Y(mi,"Using default OnlineComponentProvider"),await DT(t,new Ey))),t._onlineComponents}function GK(t){return uL(t).then(e=>e.syncEngine)}async function OT(t){const e=await uL(t),n=e.eventManager;return n.onListen=RK.bind(null,e.syncEngine),n.onUnlisten=DK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OK.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="firestore.googleapis.com",LT=!0;class VT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hL,this.ssl=LT}else this.host=e.host,this.ssl=e.ssl??LT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SG)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dL(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class op{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Xq;switch(r.type){case"firstParty":return new eW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=MT.get(n);r&&(Y("ComponentProvider","Removing Datastore"),MT.delete(n),r.terminate())}(this),Promise.resolve()}}function KK(t,e,n,r={}){var u;t=qi(t,op);const s=Za(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(aO(`https://${a}`),lO("Firestore",!0)),i.host!==hL&&i.host!==a&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!so(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Ht.MOCK_USER;else{d=E8(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ht(p)}t._authCredentials=new Zq(new eM(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tu(n,mt._jsonSchema))return new mt(e,r||null,new ie($e.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:pt("string",mt._jsonSchemaVersion),referencePath:pt("string")};class Js extends Ei{constructor(e,n,r){super(e,n,b_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ie(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function il(t,e,...n){if(t=gn(t),tM("collection","path",e),t instanceof op){const r=$e.fromString(e,...n);return Q1(r),new Js(t,null,r)}{if(!(t instanceof mt||t instanceof Js))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Q1(r),new Js(t.firestore,null,r)}}function fL(t,e,...n){if(t=gn(t),arguments.length===1&&(e=__.newId()),tM("doc","path",e),t instanceof op){const r=$e.fromString(e,...n);return K1(r),new mt(t,null,new ie(r))}{if(!(t instanceof mt||t instanceof Js))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return K1(r),new mt(t.firestore,t instanceof Js?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="AsyncQueue";class FT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KM(this,"async_queue_retry"),this._c=()=>{const r=Rm();r&&Y(jT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nl(e))throw e;Y(jT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",UT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=j_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:UT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function UT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class eu extends op{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new FT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FT(e),this._firestoreClient=void 0,await e}}}function QK(t,e){const n=typeof t=="object"?t:hO(),r=typeof t=="string"?t:Wh,s=u_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_8("firestore");i&&KK(s,...i)}return s}function pL(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XK(t),t._firestoreClient}function XK(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new vW(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dL(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(jt.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:pt("string",Mn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:pt("string",Pr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Rr(e.vectorValues);throw new X(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:pt("string",Rr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK=/^__.*__$/;class YK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new go(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}function mL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class q_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new q_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mL(this.Ac)&&ZK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rp(e)}Cc(e,n,r,s=!1){return new q_({Ac:e,methodName:n,Dc:r,path:Mt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W_(t){const e=t._freezeSettings(),n=rp(t._databaseId);return new JK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gL(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);_L("Data must be an object, but it was:",o,r);const a=yL(r,o);let l,u;if(i.merge)l=new Zn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=tQ(e,h,n);if(!o.contains(p))throw new X(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);rQ(d,p)||d.push(p)}l=new Zn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new YK(new On(a),l,u)}class G_ extends H_{_toFieldTransform(e){return new BW(e.path,new Zc)}isEqual(e){return e instanceof G_}}function eQ(t,e,n,r=!1){return K_(n,t.Cc(r?4:3,e))}function K_(t,e){if(vL(t=gn(t)))return _L("Unsupported field value:",e,t),yL(t,e);if(t instanceof H_)return function(r,s){if(!mL(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=K_(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UW(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ge.fromDate(r);return{timestampValue:Zh(s.serializer,i)}}if(r instanceof Ge){const i=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(s.serializer,i)}}if(r instanceof Pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:VM(s.serializer,r._byteString)};if(r instanceof mt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:P_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rr)return function(o,a){return{mapValue:{fields:{[uM]:{stringValue:hM},[Gh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return I_(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Kf(r)}`)}(t,e)}function yL(t,e){const n={};return sM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(t,(r,s)=>{const i=K_(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function vL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Pr||t instanceof Mn||t instanceof mt||t instanceof H_||t instanceof Rr)}function _L(t,e,n){if(!vL(n)||!nM(n)){const r=Kf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function tQ(t,e,n){if((e=gn(e))instanceof B_)return e._internalPath;if(typeof e=="string")return wL(t,e);throw tf("Field path arguments must be of type string or ",t,!1,void 0,n)}const nQ=new RegExp("[~\\*/\\[\\]]");function wL(t,e,n){if(e.search(nQ)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new B_(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(U.INVALID_ARGUMENT,a+t+l)}function rQ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sQ extends EL{data(){return super.data()}}function Q_(t,e){return typeof e=="string"?wL(t,e):e instanceof B_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X_{}class Z_ extends X_{}function TL(t,e,...n){let r=[];e instanceof X_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof J_).length,a=i.filter(l=>l instanceof Y_).length;if(o>1||o>0&&a>0)throw new X(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Y_ extends Z_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Y_(e,n,r)}_apply(e){const n=this._parse(e);return bL(e._query,n),new Ei(e.firestore,e.converter,hy(e._query,n))}_parse(e){const n=W_(e.firestore);return function(i,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){BT(h,d);const b=[];for(const _ of h)b.push($T(l,i,_));p={arrayValue:{values:b}}}else p=$T(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||BT(h,d),p=eQ(a,o,h,d==="in"||d==="not-in");return ft.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class J_ extends X_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new J_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)bL(o,l),o=hy(o,l)}(e._query,n),new Ei(e.firestore,e.converter,hy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ew extends Z_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ew(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(i,o)}(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new rl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function SL(t,e="asc"){const n=e,r=Q_("orderBy",t);return ew._create(r,n)}class tw extends Z_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new tw(e,n,r)}_apply(e){return new Ei(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function xL(t){return aW("limit",t),tw._create("limit",t,"F")}function $T(t,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new X(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wM(e)&&n.indexOf("/")!==-1)throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!ie.isDocumentKey(r))throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rT(t,new ie(r))}if(n instanceof mt)return rT(t,n._key);throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function BT(t,e){if(!Array.isArray(t)||t.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bL(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oQ{convertValue(e,n="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return po(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Gh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ct(o.doubleValue));return new Rr(n)}convertGeoPoint(e){return new Pr(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=di(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Le(BM(r),9688,{name:e});const s=new Kc(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||ls(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wi extends EL{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Q_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wi._jsonSchema={type:pt("string",Wi._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class qd extends Wi{data(e={}){return super.data(e)}}class la{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qd(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new qd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new qd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:aQ(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=__.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:pt("string",la._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class CL extends oQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function lQ(t,e,n){t=qi(t,mt);const r=qi(t.firestore,eu),s=IL(t.converter,e,n);return AL(r,[gL(W_(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Cr.none())])}function nw(t,e){const n=qi(t.firestore,eu),r=fL(t),s=IL(t.converter,e);return AL(n,[gL(W_(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function rw(t,...e){var l,u,d;t=gn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zT(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof mt)o=qi(t.firestore,eu),a=b_(t._key.path),i={next:h=>{e[r]&&e[r](cQ(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=qi(t,Ei);o=qi(h.firestore,eu),a=h._query;const p=new CL(o);i={next:v=>{e[r]&&e[r](new la(o,p,h,v))},error:e[r+1],complete:e[r+2]},iQ(t._query)}return function(p,v,b,_){const S=new HK(_),E=new bK(v,S,b);return p.asyncQueue.enqueueAndForget(async()=>EK(await OT(p),E)),()=>{S.Nu(),p.asyncQueue.enqueueAndForget(async()=>TK(await OT(p),E))}}(pL(o),a,s,i)}function AL(t,e){return function(r,s){const i=new Hi;return r.asyncQueue.enqueueAndForget(async()=>MK(await GK(r),s,i)),i.promise}(pL(t),e)}function cQ(t,e,n){const r=n.docs.get(e._key),s=new CL(t);return new Wi(t,s,e._key,r,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}function ap(){return new G_("serverTimestamp")}(function(e,n=!0){(function(s){el=s})(Ya),Ma(new io("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new eu(new Yq(r.getProvider("auth-internal")),new tW(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xs(H1,q1,e),Xs(H1,q1,"esm2020")})();const PL=void 0,km=void 0,uQ=void 0,sw=!!PL;sw||console.warn("Firebase environment variables not configured. Please set VITE_FIREBASE_API_KEY, VITE_FIREBASE_PROJECT_ID, and VITE_FIREBASE_APP_ID. Running in offline mode.");const HT=sw?{apiKey:PL,authDomain:`${km}.firebaseapp.com`,projectId:km,storageBucket:`${km}.firebasestorage.app`,appId:uQ}:null;let Dm=null,sn=null,Ty=null;HT&&(Dm=dO(HT),sn=QK(Dm),Ty=Kq(Dm));let Ct=null;async function dQ(){if(!Ty||!sw)return Ct=`offline-${typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).substring(2,15)}`}`,console.log("Firebase not configured. Using offline mode  ID:",Ct),{userId:Ct,isOnline:!1};const t=Ty;return new Promise((e,n)=>{VH(t,async r=>{if(r)Ct=r.uid,console.log("Firebase Auth Ready  UID:",Ct),e({userId:Ct,isOnline:!0});else try{Ct=(await NH(t)).user.uid,console.log("Signed in anonymously  UID:",Ct),e({userId:Ct,isOnline:!0})}catch(s){console.error("Firebase auth error:",s),n(s)}})})}async function hQ(t,e,n,r=!1){!Ct||!sn||await nw(il(sn,"chat"),{userId:Ct,displayName:e,photoUrl:n,text:t,isCommand:r,timestamp:ap()})}async function bo(t,e=3){if(!Ct||!sn)return;const n={hunt:"HUNT INITIATED! All agents take cover immediately!",flicker:"Lights flickering detected. Paranormal activity rising.",manifest:"Ghost manifestation in progress...",slam:"Door SLAM! Ghost activity confirmed.",curse:"Cursed object interaction detected!",event:"Paranormal event registered."};await nw(il(sn,"events"),{type:t,intensity:e,message:n[t]||n.event,triggeredBy:Ct,timestamp:ap()})}async function Io(t,e,n,r,s){if(!Ct||!sn)return;const i=fL(sn,"status",Ct);await lQ(i,{userId:Ct,displayName:t,photoUrl:e,isDead:n??!1,map:r??null,location:s??null,timestamp:ap()},{merge:!0})}async function qT(t,e){!Ct||!sn||await nw(il(sn,"evidence"),{userId:Ct,evidence:t,displayName:e,timestamp:ap()})}function fQ(t){if(!sn)return()=>{};const e=TL(il(sn,"chat"),SL("timestamp","asc"),xL(100));return rw(e,n=>{const r=[];n.forEach(s=>{var o;const i=s.data();r.push({id:s.id,userId:i.userId,displayName:i.displayName||"Unknown",photoUrl:i.photoUrl||"",text:i.text,isCommand:i.isCommand||!1,timestamp:((o=i.timestamp)==null?void 0:o.toDate())||new Date})}),t(r)})}function pQ(t){if(!sn)return()=>{};const e=TL(il(sn,"events"),SL("timestamp","desc"),xL(1));return rw(e,n=>{n.docChanges().forEach(r=>{var s;if(r.type==="added"){const i=r.doc.data();t({id:r.doc.id,type:i.type,intensity:i.intensity||3,message:i.message||"",triggeredBy:i.triggeredBy||"",timestamp:((s=i.timestamp)==null?void 0:s.toDate())||new Date})}})})}function mQ(t){return sn?rw(il(sn,"status"),e=>{const n=[];e.forEach(r=>{var i;const s=r.data();n.push({id:r.id,userId:s.userId,displayName:s.displayName||"Unknown",photoUrl:s.photoUrl||"",isDead:s.isDead||!1,map:s.map||"Unknown",location:s.location||"Unknown",timestamp:((i=s.timestamp)==null?void 0:i.toDate())||new Date})}),t(n)}):()=>{}}function gQ(){const{userId:t,displayName:e,photoUrl:n,setUser:r,activeTab:s,isFlickering:i,isShaking:o,triggerEffect:a,setEmfLevel:l,setFirebaseOnline:u}=fo(),[d,h]=g.useState(!1),[p,v]=g.useState([]),[b,_]=g.useState([]),[S,E]=g.useState([{id:"1",type:"system",message:"Command center initializing...",timestamp:new Date}]);g.useEffect(()=>{(async()=>{try{const{userId:N,isOnline:D}=await dQ();r(N,e||"Ghost Hunter",n||"https://api.dicebear.com/7.x/bottts/svg?seed=ghost1&backgroundColor=b71cff"),h(!0),u(D),E(R=>[...R,{id:Date.now().toString(),type:"system",message:D?`Firebase connected. Agent ${N.slice(0,8)} authenticated.`:`Using offline mode. Agent ${N.slice(0,8)} initialized.`,timestamp:new Date}]),D&&await Io(e||"Ghost Hunter",n||"https://api.dicebear.com/7.x/bottts/svg?seed=ghost1&backgroundColor=b71cff")}catch(N){console.error("Firebase init error:",N),u(!1),E(D=>[...D,{id:Date.now().toString(),type:"event",message:"Firebase connection failed. Using offline mode.",timestamp:new Date}])}})()},[]),g.useEffect(()=>{if(!d)return;const P=fQ(R=>{v(R)}),N=pQ(R=>{R.type==="hunt"||R.type==="slam"?a("hunt"):(R.type==="flicker"||R.type==="manifest")&&a("flicker"),l(R.intensity||3),E(B=>B.some(ee=>ee.id===`event-${R.id}`)?B:[...B,{id:`event-${R.id}`,type:R.type==="hunt"?"hunt":"event",message:R.message,timestamp:R.timestamp}])}),D=mQ(R=>{_(R)});return()=>{P(),N(),D()}},[d,a,l]);const w=g.useCallback(async(P,N)=>{if(d){if(N){const D=P.substring(1).toLowerCase(),[R,B]=D.split(":");switch(R){case"hunt":await bo("hunt",5);break;case"flicker":await bo("flicker",3);break;case"manifest":await bo("manifest",4);break;case"slam":await bo("slam",4);break;case"curse":await bo("curse",5);break;case"dead":B&&(await Io(e,n,!0),E(ee=>[...ee,{id:Date.now().toString(),type:"event",message:`${B||e} has been killed by the ghost!`,timestamp:new Date}]));break;case"revive":B&&(await Io(e,n,!1),E(ee=>[...ee,{id:Date.now().toString(),type:"system",message:`${B||e} has been revived.`,timestamp:new Date}]));break;case"location":B&&(await Io(e,n,void 0,void 0,B),E(ee=>[...ee,{id:Date.now().toString(),type:"system",message:`${e} moved to: ${B}`,timestamp:new Date}]));break;case"evidence":B&&(await qT(B.toUpperCase(),e),E(ee=>[...ee,{id:Date.now().toString(),type:"command",message:`Evidence logged: ${B.toUpperCase()}`,timestamp:new Date}]));break;default:E(ee=>[...ee,{id:Date.now().toString(),type:"command",message:`Unknown command: ${R}`,timestamp:new Date}])}}await hQ(P,e,n,N)}},[d,e,n]),T=g.useCallback(async()=>{d&&await bo("hunt",5)},[d]),k=g.useCallback(async(P,N)=>{E(D=>[...D,{id:Date.now().toString(),type:"system",message:`Profile updated: ${P}`,timestamp:new Date}]),await Io(P,N)},[]),O=g.useCallback(async P=>{await Io(e,n,void 0,P),E(N=>[...N,{id:Date.now().toString(),type:"system",message:`Investigation location set: ${P}`,timestamp:new Date}])},[e,n]),L=g.useCallback(async P=>{if(P.length>0){const N=P[P.length-1];await qT(N,e)}},[e]),I=p.map(P=>({id:P.id,userId:P.userId,displayName:P.displayName,photoUrl:P.photoUrl||"https://api.dicebear.com/7.x/bottts/svg?seed=default",text:P.text,isCommand:P.isCommand,timestamp:P.timestamp})),x=b.map(P=>({id:P.id,userId:P.userId,displayName:P.displayName,photoUrl:P.photoUrl||"https://api.dicebear.com/7.x/bottts/svg?seed=default",isDead:P.isDead,map:P.map||"Unknown",location:P.location||"Unknown"})),C=()=>{switch(s){case"chat":return m.jsx(qE,{messages:I});case"evidence":return m.jsx(Kz,{onEvidenceChange:L});case"ghost":return m.jsx(gB,{});case"cases":return m.jsx(OB,{});case"squad":return m.jsxs("div",{className:"space-y-6",children:[m.jsx(LB,{members:x}),m.jsx(u8,{onMapChange:O})]});case"profile":return m.jsx(a8,{onSave:k});default:return m.jsx(qE,{messages:I})}};return m.jsx("div",{className:`min-h-screen p-4 sm:p-6 lg:p-10 ${i?"animate-flicker":""} ${o?"animate-shake":""}`,"data-testid":"home-page",children:m.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[m.jsx(c9,{}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsx(f9,{onTriggerHunt:T}),m.jsx(R9,{logs:S}),m.jsx(N9,{onSendMessage:w})]}),m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"phasmo-card",children:[m.jsx("h2",{className:"phasmo-subtitle text-lg font-orbitron mb-4","data-testid":"text-data-terminal",children:"DATA TERMINAL"}),m.jsx(D9,{}),m.jsx("div",{className:"mt-6","data-testid":"tab-content",children:C()})]})})]})]})})}const yQ="/PhasmophobiaBroadsHeadQuarters/";function vQ(){return m.jsxs(iF,{children:[m.jsx(pE,{path:"/",component:gQ}),m.jsx(pE,{component:s9})]})}function _Q(){return m.jsx(PF,{client:kF,children:m.jsx(Y5,{children:m.jsxs(aP,{base:yQ,children:[m.jsx(I6,{}),m.jsx(vQ,{})]})})})}XA(document.getElementById("root")).render(m.jsx(_Q,{}));
